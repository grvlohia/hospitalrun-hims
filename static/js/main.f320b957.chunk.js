(this.webpackJsonphims=this.webpackJsonphims||[]).push([[0],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={sorts:[]}},42:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return f}));var n=a(3),r=a.n(n),i=a(6),c=a(34),o=a(57),l=a(60),s=a(93),u=a(451),d=a(452),m=a(453),p=a(994),b=a(682);s.a.plugin(b),s.a.plugin(p),s.a.plugin(m.a),s.a.plugin(d.a),s.a.plugin(u.a);var f=[{singular:"patient",plural:"patients",relations:{appointments:{hasMany:{type:"appointment",options:{queryInverse:"patient",async:!0}}},labs:{hasMany:{type:"lab",options:{queryInverse:"patient",async:!0}}},medications:{hasMany:{type:"medication",options:{queryInverse:"patient",async:!0}}},imagings:{hasMany:{type:"imaging",options:{queryInverse:"patient",async:!0}}}}},{singular:"appointment",plural:"appointments",relations:{patient:{belongsTo:"patient"}}},{singular:"incident",plural:"incidents"},{singular:"lab",plural:"labs",relations:{patient:{belongsTo:"patient"}}},{singular:"imaging",plural:"imagings",relations:{patient:{belongsTo:"patient"}}},{singular:"medication",plural:"medications",relations:{patient:{belongsTo:"patient"}}},{singular:"staff",plural:"staffs"}],v=function(){function t(){Object(c.a)(this,t),this.localDb=void 0,this.serverDb=void 0,this.replicationObj=void 0,this.localDb=new s.a("local_innohims").setSchema(f),this.serverDb=null,this.replicationObj=null}return Object(o.a)(t,[{key:"teardownServerDb",value:function(){var e;this.serverDb&&(null===(e=this.replicationObj)||void 0===e||e.cancel(),this.replicationObj=null,this.serverDb.close(),this.serverDb=null)}},{key:"configureForUser",value:function(t,a){this.teardownServerDb();var n="userdb-".concat(e.from(t,"utf-8").toString("hex")),r="".concat(l.CouchConstants.url(),"/").concat(n);this.serverDb=new s.a(r,{skip_setup:!0,auth:{username:t,password:a}})}},{key:"startSyncing",value:function(){if(!this.serverDb)throw new Error("ServerDb is not set.");this.replicationObj=this.localDb.sync(this.serverDb,{live:!0,retry:!0})}},{key:"getLocalDb",value:function(){return this.localDb}},{key:"getServerDb",value:function(){if(!this.serverDb)throw new Error("Server Db is not configured. Please Log In to configure");return this.serverDb}},{key:"recreateLocalDb",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.localDb.destroy();case 2:this.localDb=new s.a("local_innohims").setSchema(f);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}();t.a=new v}).call(this,a(40).Buffer)},437:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var n=a(3),r=a.n(n),i=a(6),c=a(60),o=a(12),l=a(42),s=a(91),u=a(48),d=function(){var t=Object(i.a)(r.a.mark((function t(a){var n,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.a.getLocalDb(),i="userdb-".concat(e.from(a.currentUser.username).toString("hex")),t.prev=2,t.next=5,n.put({_id:Object(u.a)(),innodata:{sourceDb:i,type:c.Constants.replicationCommands.CREATE_STAFF,loginName:a.newStaffMember.loginName,primaryEmail:a.newStaffMember.primaryEmail,primaryMobile:a.newStaffMember.primaryMobile,roles:a.newStaffMember.roles,domain:"safe.hospital.com",tenantId:"359d4155d2d7ce5fdfe40a8b1f00059b"}});case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(2),console.log("[AddStaffMemberError]: ".concat(t.t0)),t.t0;case 11:return t.prev=11,t.next=14,s.a.save(a.newStaffMember);case 14:return o=t.sent,t.abrupt("return",o);case 18:throw t.prev=18,t.t1=t.catch(11),console.log(t.t1),t.t1;case 22:case"end":return t.stop()}}),t,null,[[2,7],[11,18]])})));return function(e){return t.apply(this,arguments)}}();function m(){return Object(o.b)(d,{onSuccess:function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),console.log(a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})}}).call(this,a(40).Buffer)},458:function(e,t,a){e.exports=a(993)},466:function(e,t,a){},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(454),r=function(){return Object(n.a)()}},623:function(e,t){},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(142),r=a(4),i=a(31),c=a(3),o=a.n(c),l=a(6),s=a(34),u=a(57),d=a(454),m=a(42),p=a(184),b=["id","rev"],f=["id","rev"],v=function(){function e(t,a){var n,r=this;Object(s.a)(this,e),this.db=void 0,this.type=void 0,this.pluralType=void 0,this.db=a,this.type=t,this.pluralType=(null===(n=m.b.find((function(e){return e.singular===r.type})))||void 0===n?void 0:n.plural)||""}return Object(u.a)(e,[{key:"refreshRelationalDb",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.db=m.a.getLocalDb();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshRelationalDb(),e.next=3,this.db.rel.find(this.type,t);case 3:return a=e.sent,n=a[this.pluralType][0],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,c=this,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:p.a,this.refreshRelationalDb(),a={_id:{$regex:RegExp(this.type,"i")}},t.sorts.forEach((function(e){a["data.".concat(e.field)]={$gt:null}})),e.next=6,Promise.all(t.sorts.map(function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.db.createIndex({index:{fields:["data.".concat(a.field)]}});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return e.next=8,this.db.find({selector:a,sort:t.sorts.length>0?t.sorts.map((function(e){return Object(i.a)({},"data.".concat(e.field),e.direction)})):void 0});case 8:return n=e.sent,e.next=11,this.db.rel.parseRelDocs(this.type,n.docs);case 11:return r=e.sent,e.abrupt("return",r[this.pluralType]);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"count",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findAll();case 2:return t=e.sent,e.abrupt("return",t.length);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshRelationalDb(),e.next=3,this.db.find({selector:{$and:[{_id:{$regex:RegExp(this.type,"i")}},Object(r.a)({},t.selector)]}});case 3:return a=e.sent,e.next=6,this.db.rel.parseRelDocs(this.type,a.docs);case 6:return n=e.sent,e.abrupt("return",n[this.pluralType]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshRelationalDb(),a=(new Date).toISOString(),t.id,t.rev,i=Object(n.a)(t,b),e.next=5,this.db.rel.save(this.type,Object(r.a)(Object(r.a)({id:Object(d.a)()},i),{},{createdAt:a,updatedAt:a}));case 5:return c=e.sent,e.abrupt("return",this.find(c.id));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveOrUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a,i,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.refreshRelationalDb(),t.id){e.next=3;break}return e.abrupt("return",this.save(t));case 3:return a=t.id,i=t.rev,c=Object(n.a)(t,f),e.prev=4,e.next=7,this.find(t.id);case 7:return l=Object(r.a)(Object(r.a)({id:a,rev:i},c),{},{updatedAt:(new Date).toISOString()}),e.next=10,this.db.rel.save(this.type,l);case 10:return e.abrupt("return",this.find(t.id));case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",this.save(t));case 16:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshRelationalDb(),e.next=3,this.find(t.id);case 3:return a=e.sent,e.next=6,this.db.rel.del(this.type,t);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},636:function(e,t){},653:function(e,t){},655:function(e,t){},668:function(e,t){},670:function(e,t){},676:function(e,t){},703:function(e,t){},705:function(e,t){},733:function(e,t){},735:function(e,t){},736:function(e,t){},741:function(e,t){},743:function(e,t){},749:function(e,t){},751:function(e,t){},770:function(e,t){},782:function(e,t){},785:function(e,t){},80:function(e,t,a){"use strict";var n=a(183),r=a.n(n);t.a=function(e){var t=r.a.generate();return"".concat(e,"-").concat(t)}},91:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(6),c=a(34),o=a(57),l=a(32),s=a(26),u=a(37),d=a(38),m=a(118),p=a.n(m),b=a(42),f=a(80),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.call(this,"staff",b.a.getLocalDb())}return Object(o.a)(a,[{key:"search",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.a)(Object(s.a)(a.prototype),"refreshRelationalDb",this).call(this),n=p()(t),e.abrupt("return",Object(l.a)(Object(s.a)(a.prototype),"search",this).call(this,{selector:{$or:[{"data.loginName":{$regex:RegExp(n,"i")}},{"data.primaryEmail":{$regex:RegExp(n,"i")}}]}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.a)(Object(s.a)(a.prototype),"refreshRelationalDb",this).call(this),t.metadata={docType:"staff"},n=Object(f.a)("S"),t.code=n,e.next=6,Object(l.a)(Object(s.a)(a.prototype),"save",this).call(this,t);case 6:return i=e.sent,e.abrupt("return",this.find(i.id));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(a(63).a);t.a=new v},993:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(53),c=a.n(i),o=a(13),l=(a(466),a(7)),s=a(1),u=a(450),d=a(21),m=a(28),p=a(60),b=a(142),f=["component","isAuthenticated"],v=function(e){var t=e.component,a=e.isAuthenticated,n=Object(b.a)(e,f);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/"}})}}))},g=a(1003),h=a(24),E=a(64),y=Object(E.b)({name:"breadcrumbs",initialState:{breadcrumbs:[]},reducers:{addBreadcrumbs:function(e,t){var a=t.payload;e.breadcrumbs=[].concat(Object(h.a)(e.breadcrumbs),Object(h.a)(a)).sort((function(e,t){return e.location.length-t.location.length}))},removeBreadcrumbs:function(e,t){var a=t.payload.map((function(e){return e.location}));e.breadcrumbs=e.breadcrumbs.filter((function(e){return!a.includes(e.location)}))}}}),O=y.actions,w=O.addBreadcrumbs,j=O.removeBreadcrumbs,k=y.reducer;function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(o.b)(),r=t?JSON.stringify([].concat(Object(h.a)(e),[{i18nKey:"dashboard.label",location:"/"}])):JSON.stringify(e);Object(n.useEffect)((function(){var e=JSON.parse(r);return a(w(e)),function(){a(j(e))}}),[r,a])}var N=n.createContext(void 0),C=n.createContext(void 0);function q(e){var t=e.children,a=n.useState(""),r=Object(l.a)(a,2),i=r[0],c=r[1];return n.createElement(N.Provider,{value:{title:i}},n.createElement(C.Provider,{value:c},t))}function D(){var e=n.useContext(C);if(void 0===e)throw new Error("useUpdateTitle must be used within a TitleProvider");return e}var S=a(1002);function I(){var e=Object(S.a)().t;return{t:Object(n.useCallback)((function(t){return void 0!==t?e(t):void 0}),[e])}}var P=[{i18nKey:"administration.dashboard",location:"/administration"}],A=function(){var e=I().t,t=Object(m.g)(),a=D();x(P,!1),Object(n.useEffect)((function(){a(e("administration.label"))}));var i={cursor:"pointer",width:"10rem",height:"10rem"};return r.a.createElement(s.j,null,r.a.createElement(s.u,null,[{icon:"patients",title:"Staff Members",path:"/administration/staff"}].map((function(e){return r.a.createElement(s.i,{md:3,key:e.title},r.a.createElement(g.a,{onClick:function(){return a=e.path,void t.push(a);var a},style:i},r.a.createElement(s.m,{icon:e.icon}),r.a.createElement("h3",null,e.title)))}))))},R=a(3),T=a.n(R),M=a(6),L=a(31),B=a(4),F=a(180),U=a(437),z=a(141),V=a.n(z),W=Object.freeze({USER_SERVICE_URL:"https://innohealthtech-user-service-staging.prod.innoht.live"}),K=function(){var e=Object(M.a)(T.a.mark((function e(t){var a,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},t.loginName||(a.loginName="loginName must be entered."),t.primaryMobile||(a.primaryMobile="primaryMobile must be entered."),t.primaryEmail||(a.primaryEmail="primaryEmail must be entered."),(!t.roles||t.roles&&0===t.roles.length)&&(a.roles="At least one role must be selected."),t.loginName&&!/^[a-z][_0-9a-z]+[0-9a-z]$/.test(t.loginName)&&(a.loginName="loginName must contain only alphanumeric characters and underscore. Also it must not begin with underscore or a digit"),a.loginName){e.next=11;break}return e.next=9,V.a.post("".concat(W.USER_SERVICE_URL,"/api/v1/user/username/verify"),{loginName:t.loginName,domain:"safe.hospital.com"});case 9:200===(n=e.sent).status&&n.data&&n.data.loginNameRegistered&&(a.loginName="loginName is registered with another user.");case 11:if(a.primaryEmail){e.next=16;break}return e.next=14,V.a.post("".concat(W.USER_SERVICE_URL,"/api/v1/user/email/verify"),{email:t.primaryEmail,tenantId:"359d4155d2d7ce5fdfe40a8b1f00059b"});case 14:200===(r=e.sent).status&&r.data&&r.data.emailRegistered&&(a.primaryEmail="This email is already registered with another user.");case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=e.value,a=e.label,n=e.name,i=e.isEditable,c=e.onChange,o=e.placeholder,l=e.type,u=e.isRequired,d=e.feedback,m=e.isInvalid,p="".concat(n,"TextInput");return r.a.createElement("div",{className:"form-group"},a&&r.a.createElement(s.n,{text:a,htmlFor:p,isRequired:u}),r.a.createElement(s.B,{id:p,type:l,value:t,disabled:!i,placeholder:o||a,onChange:c,isInvalid:m,feedback:d}))};G.defaultProps={value:"",type:"text"};var H=G,Z=function(e){var t=e.staffMember,a=e.staffError,i=e.onFieldChange,c=e.onRoleChange,o=e.onSave,u=e.onCancel,d=e.disabled,m=Object(n.useState)(Object.entries(p.Constants.STAFF_ROLES).map((function(e){return{label:e[0],value:e[1],checked:!1}}))),b=Object(l.a)(m,2),f=b[0],v=b[1],g=function(e){v(Object(h.a)(f).map((function(t){return t.value===e.target.value&&(t.checked=!t.checked),t})));var t=f.filter((function(e){return e.checked})).map((function(e){return e.value}));c(t)},E={boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",borderRadius:"0.25rem",marginBottom:"15px",padding:"10px"};return Object(n.useEffect)((function(){v((function(e){return Object(h.a)(e).map((function(e){var a;return Object(B.a)(Object(B.a)({},e),{},{checked:!!(null===(a=t.roles)||void 0===a?void 0:a.includes(e.value))})}))}))}),[t]),r.a.createElement("form",null,r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(H,{label:"Login Name",name:"loginName",isRequired:!0,onChange:function(e){return i("loginName",e.target.value)},value:t.loginName,isEditable:!d,isInvalid:!!a.loginName,feedback:a.loginName}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(H,{label:"Primary Mobile",name:"primaryMobile",isRequired:!0,onChange:function(e){return i("primaryMobile",e.target.value)},value:t.primaryMobile,isEditable:!d,isInvalid:!!a.primaryMobile,feedback:a.primaryMobile}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(H,{label:"Primary Email",name:"primaryEmail",isRequired:!0,onChange:function(e){return i("primaryEmail",e.target.value)},value:t.primaryEmail,isEditable:!d,isInvalid:!!a.primaryEmail,feedback:a.primaryEmail}))),r.a.createElement(s.u,null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(s.n,{text:"Roles",isRequired:!0}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,a.roles?r.a.createElement(s.a,{color:"danger",message:a.roles}):null)),r.a.createElement(s.u,null,f.map((function(e){return r.a.createElement(s.i,{lg:4,md:6,key:e.label},r.a.createElement("div",{style:E},r.a.createElement("input",{type:"checkbox",checked:e.checked,value:e.value,onChange:g,id:e.label,style:{marginRight:"15px"},disabled:d}),r.a.createElement("label",{htmlFor:e.label},e.label)))})))),r.a.createElement(s.e,{color:"primary",onClick:o},"Save"),r.a.createElement(s.e,{color:"danger",onClick:u},"Cancel")))},Q=[{i18nKey:"administration.dashboard",location:"/administration"},{i18nKey:"administration.staffManagement.add",location:"/administration/staff/new"}],_=function(){x(Q,!1);var e=Object(m.g)(),t=Object(o.c)((function(e){return e.user.user})),a=Object(U.a)(),i=Object(l.a)(a,1)[0],c=Object(n.useState)({}),s=Object(l.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)({}),b=Object(l.a)(p,2),f=b[0],v=b[1];if(!t)return r.a.createElement("h1",null,"Not Logged in as Admin User");var g=function(){var a=Object(M.a)(T.a.mark((function a(){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,K(u);case 2:if(n=a.sent,!Object(F.isEmpty)(n)){a.next=15;break}return a.prev=4,a.next=7,i({currentUser:t,newStaffMember:u});case 7:e.push("/administration/staff"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),console.log(a.t0);case 13:a.next=16;break;case 15:v(n);case 16:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(Z,{staffMember:u,onFieldChange:function(e,t){d(Object(B.a)(Object(B.a)({},u),{},Object(L.a)({},e,t)))},onRoleChange:function(e){d(Object(B.a)(Object(B.a)({},u),{},{roles:e}))},onSave:g,onCancel:function(){e.push("/administration/staff")},staffError:f})},Y=function(){return r.a.createElement(s.w,{color:"blue",loading:!0,size:20,type:"BeatLoader"})},$=a(12),J=a(91);function X(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.saveOrUpdate(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.find(a||"");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){var t=e.staffMember,a=e.staffError,i=e.onFieldChange,c=e.onRoleChange,o=e.onSave,u=e.onCancel,d=Object(n.useState)(Object.entries(p.Constants.STAFF_ROLES).map((function(e){return{label:e[0],value:e[1],checked:!1}}))),m=Object(l.a)(d,2),b=m[0],f=m[1],v=function(e){f(Object(h.a)(b).map((function(t){return t.value===e.target.value&&(t.checked=!t.checked),t})));var t=b.filter((function(e){return e.checked})).map((function(e){return e.value}));c(t)},g={boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",borderRadius:"0.25rem",marginBottom:"15px",padding:"10px"};return Object(n.useEffect)((function(){f((function(e){return Object(h.a)(e).map((function(e){var a;return Object(B.a)(Object(B.a)({},e),{},{checked:!!(null===(a=t.roles)||void 0===a?void 0:a.includes(e.value))})}))}))}),[t]),r.a.createElement("form",null,r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(H,{label:"Login Name",name:"loginName",isRequired:!0,onChange:function(e){return i("loginName",e.target.value)},value:t.loginName,isEditable:!1,isInvalid:!!a.loginName,feedback:a.loginName}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(H,{label:"Primary Mobile",name:"primaryMobile",isRequired:!0,onChange:function(e){return i("primaryMobile",e.target.value)},value:t.primaryMobile,isEditable:!1,isInvalid:!!a.primaryMobile,feedback:a.primaryMobile}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(H,{label:"Primary Email",name:"primaryEmail",isRequired:!0,onChange:function(e){return i("primaryEmail",e.target.value)},value:t.primaryEmail,isEditable:!1,isInvalid:!!a.primaryEmail,feedback:a.primaryEmail}))),r.a.createElement(s.u,null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(s.n,{text:"Roles",isRequired:!0}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,a.roles?r.a.createElement(s.a,{color:"danger",message:a.roles}):null)),r.a.createElement(s.u,null,b.map((function(e){return r.a.createElement(s.i,{lg:4,md:6,key:e.label},r.a.createElement("div",{style:g},r.a.createElement("input",{type:"checkbox",checked:e.checked,value:e.value,onChange:v,id:e.label,style:{marginRight:"15px"}}),r.a.createElement("label",{htmlFor:e.label},e.label)))})))),r.a.createElement(s.e,{color:"primary",onClick:o},"Save"),r.a.createElement(s.e,{color:"danger",onClick:u},"Cancel")))},re=function(){var e=Object(m.i)().id,t=[{i18nKey:"administration.dashboard",location:"/administration"},{i18nKey:"administration.staffManagement.edit",location:"/administration/staff/".concat(e,"/edit")}],a=Object(m.g)(),i=function(e){return Object($.c)(["staff",e],te,{enabled:e})}(e),c=i.data,o=i.status,s=Object($.b)(X,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.a.setQueryData(["staff",t.id],t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),u=Object(l.a)(s,1)[0];x(t);var d=Object(n.useState)({}),p=Object(l.a)(d,2),b=p[0],f=p[1];Object(n.useEffect)((function(){f(c||{})}),[c]);var v=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(b);case 3:a.push("/administration/staff"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return"loading"===o?r.a.createElement(Y,null):r.a.createElement(ne,{staffMember:b,staffError:{},onFieldChange:function(e,t){f(Object(B.a)(Object(B.a)({},b),{},Object(L.a)({},e,t)))},onRoleChange:function(e){f(Object(B.a)(Object(B.a)({},b),{},{roles:e}))},onSave:v,onCancel:function(){a.push("/administration/staff")}})},ie=r.a.createContext([]),ce=r.a.createContext((function(){}));function oe(e){var t=e.children,a=Object(n.useState)([]),i=Object(l.a)(a,2),c=i[0],o=i[1];return r.a.createElement(ie.Provider,{value:c},r.a.createElement(ce.Provider,{value:o},t))}function le(){var e=r.a.useContext(ce);if(void 0===e)throw new Error("useButtonToolBarSetter must be used within a Button Bar Context");return e}var se=function(e,t){var a=Object(n.useState)(e),r=Object(l.a)(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){return c(e)}),t);return function(){return clearTimeout(a)}}),[e,t]),i},ue=function(e){var t=e.onChange,a=I().t,i=Object(n.useState)(""),c=Object(l.a)(i,2),o=c[0],u=c[1],d=se(o,500);Object(n.useEffect)((function(){t({queryString:d})}),[d,t]);return r.a.createElement(s.B,{size:"lg",type:"text",onChange:function(e){var t=e.currentTarget.value;u(t)},value:o,placeholder:a("actions.search")})};function de(e,t){return me.apply(this,arguments)}function me(){return(me=Object(M.a)(T.a.mark((function e(t,a){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.search(a.queryString);case 2:return n=e.sent,e.next=5,J.a.count();case 5:return r=e.sent,e.abrupt("return",{totalCount:r,staffs:n});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,V.a.post("".concat(W.USER_SERVICE_URL,"/api/v1/user/password/reset/init"),{loginName:"".concat(t,"@").concat("safe.hospital.com")});case 4:200===e.sent.status&&(a=!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a=!1;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var fe,ve=function(e){var t=e.searchRequest,a=Object(m.g)(),n=I().t,i=function(e){return Object($.c)(["staffs",e],de)}(t),c=i.data,o=i.status;return void 0===c||"loading"===o?r.a.createElement(Y,null):0===c.totalCount?r.a.createElement("h3",null,"No Staff Members Added"):r.a.createElement(s.y,{data:c.staffs,getID:function(e){return e.id},columns:[{label:n("staff.code"),key:"code"},{label:n("staff.loginName"),key:"loginName"},{label:n("staff.primaryEmail"),key:"primaryEmail"},{label:n("staff.primaryMobile"),key:"primaryMobile"}],actionsHeaderText:n("actions.label"),actions:[{label:n("actions.edit"),action:function(e){return a.push("/administration/staff/".concat(e.id,"/edit"))},buttonColor:"secondary"},{label:"Reset Password",action:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t.loginName);case 2:e.sent?Object(s.C)("success","Success","Password reset email sent successfully to ".concat(t.primaryEmail)):Object(s.C)("failure","Success","Server Error. Please try again later or contact admin");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),buttonColor:"primary"}]})},ge=function(){var e=Object(n.useState)({queryString:""}),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useCallback)((function(e){i(e)}),[]);return r.a.createElement("div",null,r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(s.i,{md:12},r.a.createElement(ue,{onChange:c}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:12},r.a.createElement(ve,{searchRequest:a})))))},he=[{i18nKey:"administration.dashboard",location:"/administration"},{i18nKey:"administration.staffManagement.label",location:"/administration/staff"}],Ee=function(){var e=I().t,t=Object(m.g)(),a=D(),i=Object(o.b)(),c=le();return Object(n.useEffect)((function(){a(e("staff.label"))})),x(he,!1),Object(n.useEffect)((function(){return c([r.a.createElement(s.e,{key:"newStaffButton",outlined:!0,color:"success",icon:"patient-add",onClick:function(){return t.push("/administration/staff/new")}},e("administration.staffManagement.add"))]),function(){c([])}}),[i,c,e,t]),r.a.createElement(ge,null)},ye=function(){return r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:!0,exact:!0,path:"/administration",component:A}),r.a.createElement(v,{isAuthenticated:!0,exact:!0,path:"/administration/staff",component:Ee}),r.a.createElement(v,{isAuthenticated:!0,exact:!0,path:"/administration/staff/new",component:_}),r.a.createElement(v,{isAuthenticated:!0,path:"/administration/staff/:id/edit",component:re}))},Oe=function(){var e=I().t,t=D();return Object(n.useEffect)((function(){t(e("dashboard.label"))})),r.a.createElement("h3",null,"Example")};!function(e){e.ReadPatients="read:patients",e.WritePatients="write:patients",e.ReadAppointments="read:appointments",e.WriteAppointments="write:appointments",e.DeleteAppointment="delete:appointment",e.AddAllergy="write:allergy",e.AddDiagnosis="write:diagnosis",e.RequestLab="write:labs",e.CancelLab="cancel:lab",e.CompleteLab="complete:lab",e.ViewLab="read:lab",e.ViewLabs="read:labs",e.ViewIncidents="read:incidents",e.ViewIncident="read:incident",e.ReportIncident="write:incident",e.ResolveIncident="resolve:incident",e.AddCarePlan="write:care_plan",e.ReadCarePlan="read:care_plan",e.AddCareGoal="write:care_goal",e.ReadCareGoal="read:care_goal",e.RequestMedication="write:medications",e.CancelMedication="cancel:medication",e.CompleteMedication="complete:medication",e.ViewMedication="read:medication",e.ViewMedications="read:medications",e.AddVisit="write:visit",e.ReadVisits="read:visit",e.RequestImaging="write:imaging",e.ViewImagings="read:imagings",e.ViewIncidentWidgets="read:incident_widgets",e.AddMedicine="write:medicine"}(fe||(fe={}));var we=fe,je=a(27),ke=a.n(je),xe=function(e){var t=e.name,a=e.label,n=e.isRequired,i=e.options,c=e.defaultSelected,o=e.onChange,l=e.placeholder,u=e.multiple,d=e.isEditable,m=e.isInvalid,p="".concat(t,"Select");return r.a.createElement("div",{className:"form-group","data-testid":p},a&&r.a.createElement(s.n,{text:a,htmlFor:p,isRequired:n}),r.a.createElement(s.v,{id:p,options:i,defaultSelected:c,onChange:o,placeholder:l,multiple:u,disabled:!d,isInvalid:m}))};xe.defaultProps={placeholder:"-- Choose --"};var Ne=xe,Ce=function(e){var t=e.value,a=e.label,n=e.name,i=e.isEditable,c=e.isInvalid,o=e.isRequired,l=e.feedback,u=e.onChange,d="".concat(n,"TextField");return r.a.createElement("div",{className:"form-group"},a&&r.a.createElement(s.n,{text:a,htmlFor:d,isRequired:o}),r.a.createElement(s.A,{id:d,rows:4,value:t,disabled:!i,onChange:u,isInvalid:c,feedback:l}))};Ce.defaultProps={value:""};var qe=Ce,De=a(34),Se=a(57),Ie=a(32),Pe=a(26),Ae=a(37),Re=a(38),Te=a(118),Me=a.n(Te),Le=a(42),Be=a(80),Fe=a(63),Ue=Le.a.getLocalDb(),ze=new(function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){var e;return Object(De.a)(this,a),e=t.call(this,"patient",Ue),Ue.createIndex({index:{fields:["_id","data.fullName","data.code"]}}),e}return Object(Se.a)(a,[{key:"search",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n=Me()(t),e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:{$or:[{"data.fullName":{$regex:RegExp(n,"i")}},{"data.code":t}]}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n=Object(Be.a)("P"),t.code=n,e.next=5,Object(Ie.a)(Object(Pe.a)(a.prototype),"save",this).call(this,t);case 5:return r=e.sent,e.abrupt("return",this.find(r.id));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createIndex",value:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.abrupt("return",this.db.createIndex({index:{fields:["index"]}}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAppointments",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.next=3,this.db.rel.findHasMany("appointment","patient",t);case 3:return n=e.sent,e.abrupt("return",n.appointments);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLabs",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.next=3,this.db.rel.findHasMany("lab","patient",t);case 3:return n=e.sent,e.abrupt("return",n.labs);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMedications",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.next=3,this.db.rel.findHasMany("medication","patient",t);case 3:return n=e.sent,e.abrupt("return",n.medications);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Fe.a)),Ve=a(44),We=a.n(Ve),Ke=Le.a.getLocalDb(),Ge=new(function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){return Object(De.a)(this,a),t.call(this,"imaging",Ke)}return Object(Se.a)(a,[{key:"search",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n={$regex:RegExp(t.text,"i")},r={$and:[{$or:[{"data.type":n},{"data.code":n}]}].concat(Object(h.a)("all"!==t.status?[{"data.status":t.status}]:[void 0])).filter((function(e){return void 0!==e})),sorts:t.defaultSortRequest},e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:r}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n=Object(Be.a)("I"),t.code=n,e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"save",this).call(this,t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Fe.a)),He=a(62),Ze=a(58),Qe=["requested","completed","canceled"];Error;function _e(e){var t={};return e.patient||(t.patient="imagings.requests.error.patientRequired"),e.type||(t.type="imagings.requests.error.typeRequired"),e.status?Qe.includes(e.status)||(t.status="imagings.requests.error.incorrectStatus"):t.status="imagings.requests.error.statusRequired",t}function Ye(e){return Object($.b)(function(e){return function(){var t=Object(M.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=_e(a),We()(n)){t.next=3;break}throw n;case 3:return t.next=5,Ge.save(Object(B.a)(Object(B.a)({},a),{},{requestedBy:(null===e||void 0===e?void 0:e.id)||"",requestedByFullName:(null===e||void 0===e?void 0:e.fullName)||"",requestedOn:new Date(Date.now()).toISOString()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e),{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.invalidateQueries("imagings");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),throwOnError:!0})}var $e=function(){var e=I().t,t=Object(m.g)(),a=Object(o.c)((function(e){return e.user})).user,i=D();Object(n.useEffect)((function(){i(e("imagings.requests.new"))}));var c=Ye(a),u=Object(l.a)(c,1)[0],d=Object(n.useState)(),p=Object(l.a)(d,2),b=p[0],f=p[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),h=g[0],E=g[1],y=[{label:e("imagings.status.requested"),value:"requested"},{label:e("imagings.status.completed"),value:"completed"},{label:e("imagings.status.canceled"),value:"canceled"}],O=Object(n.useState)({patient:"",fullName:"",status:"requested",notes:"",type:"",visitId:""}),w=Object(l.a)(O,2),j=w[0],k=w[1];x([{i18nKey:"imagings.requests.new",location:"/imaging/new"}]);var N=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(j);case 3:t.push("/imaging"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,void 0!==b&&r.a.createElement(s.a,{color:"danger",title:e("states.error"),message:e(b.message)}),r.a.createElement("form",null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group patient-typeahead"},r.a.createElement(s.n,{htmlFor:"patientTypeahead",isRequired:!0,text:e("imagings.imaging.patient")}),r.a.createElement(s.E,{id:"patientTypeahead",placeholder:e("imagings.imaging.patient"),onChange:function(e){!function(e){if(e){var t;k((function(t){return Object(B.a)(Object(B.a)({},t),{},{patient:e.id,fullName:e.fullName})}));var a=null===(t=e.visits)||void 0===t?void 0:t.map((function(e){return{label:"".concat(e.type," at ").concat(ke()(new Date(e.startDateTime),"yyyy-MM-dd hh:mm a")),value:e.id}}));E(a)}else k((function(e){return Object(B.a)(Object(B.a)({},e),{},{patient:"",fullName:"",visitId:""})})),E([])}(e[0])},onSearch:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.search(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchAccessor:"fullName",renderMenuItemChildren:function(e){return r.a.createElement("div",null,"".concat(e.fullName," (").concat(e.code,")"))},isInvalid:!!(null===b||void 0===b?void 0:b.patient),feedback:e(null===b||void 0===b?void 0:b.patient)}))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"visits"},r.a.createElement(Ne,{name:"visit",label:e("patient.visits.label"),isRequired:!0,isEditable:void 0!==j.patient,options:h||[],defaultSelected:void 0!==h?h.filter((function(e){return e.value===j.visitId})):[],onChange:function(e){var t;t=e[0],k((function(e){return Object(B.a)(Object(B.a)({},e),{},{visitId:t})}))}})))),r.a.createElement(H,{name:"imagingType",label:e("imagings.imaging.type"),isRequired:!0,isEditable:!0,isInvalid:!!(null===b||void 0===b?void 0:b.type),feedback:e(null===b||void 0===b?void 0:b.type),value:j.type,onChange:function(e){var t=e.currentTarget.value;k((function(e){return Object(B.a)(Object(B.a)({},e),{},{type:t})}))}}),r.a.createElement("div",{className:"imaging-status"},r.a.createElement(Ne,{name:"status",label:e("imagings.imaging.status"),options:y,isRequired:!0,isEditable:!0,defaultSelected:y.filter((function(e){return e.value===j.status})),onChange:function(e){return t=e[0],void k((function(e){return Object(B.a)(Object(B.a)({},e),{},{status:t})}));var t}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(qe,{name:"ImagingNotes",label:e("imagings.imaging.notes"),isEditable:!0,value:j.notes,onChange:function(e){var t=e.currentTarget.value;k((function(e){return Object(B.a)(Object(B.a)({},e),{},{notes:t})}))}})),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:N},e("imagings.requests.create")),r.a.createElement(s.e,{color:"danger",onClick:function(){t.push("/imaging")}},e("actions.cancel"))))))},Je=function(e){return e?e.slice(e.lastIndexOf(":")+1):""},Xe={sorts:[{field:"requestedOn",direction:"desc"}]};function et(e,t){return Ge.search(Object(B.a)(Object(B.a)({},t),{},{defaultSortRequest:Xe}))}var tt,at=function(e){var t=e.searchRequest,a=I().t,n=function(e){return Object($.c)(["imagings",e],et)}(t),i=n.data,c=n.status;return void 0===i||"loading"===c?r.a.createElement(Y,null):r.a.createElement(s.y,{getID:function(e){return e.id},columns:[{label:a("imagings.imaging.code"),key:"code"},{label:a("imagings.imaging.type"),key:"type"},{label:a("imagings.imaging.requestedOn"),key:"requestedOn",formatter:function(e){return e.requestedOn?ke()(new Date(e.requestedOn),"yyyy-MM-dd hh:mm a"):""}},{label:a("imagings.imaging.patient"),key:"fullName"},{label:a("imagings.imaging.requestedBy"),key:"requestedBy",formatter:function(e){return Je(e.requestedByFullName||"")}},{label:a("imagings.imaging.status"),key:"status"}],data:i})},nt=function(){var e=I().t,t=Object(o.c)((function(e){return e.user})).permissions,a=Object(m.g)(),i=le(),c=D();Object(n.useEffect)((function(){c(e("imagings.label"))}));var u=Object(n.useState)({status:"all",text:""}),d=Object(l.a)(u,2),p=d[0],b=d[1],f=Object(n.useCallback)((function(){var n=[];return t.includes(we.RequestImaging)&&n.push(r.a.createElement(s.e,{icon:"add",onClick:function(){return a.push("/imaging/new")},outlined:!0,color:"success",key:"imaging.requests.new"},e("imagings.requests.new"))),n}),[t,a,e]);return Object(n.useEffect)((function(){b((function(e){return Object(B.a)(Object(B.a)({},e),{},{status:"all"})}))}),[]),Object(n.useEffect)((function(){return i(f()),function(){i([])}}),[f,i]),r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(at,{searchRequest:p})))},rt=function(){var e=Object(o.c)((function(e){return e.user})).permissions;return x([{i18nKey:"imagings.imaging.label",location:"/imaging"}],!0),r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:e.includes(we.ViewImagings),exact:!0,path:"/imaging",component:nt}),r.a.createElement(v,{isAuthenticated:e.includes(we.RequestImaging),exact:!0,path:"/imaging/new",component:$e}))};!function(e){e.reported="reported",e.resolved="resolved",e.all="all"}(tt||(tt={}));var it=tt,ct=a(445);var ot=Le.a.getLocalDb(),lt=new(function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){return Object(De.a)(this,a),t.call(this,"incident",ot)}return Object(Se.a)(a,[{key:"search",value:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,a.getSearchCriteria(t)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getSearchCriteria",value:function(e){return{selector:{$and:e.status!==it.all?[{"data.status":e.status}]:[]}}}}]),a}(Fe.a));function st(e,t){return lt.search(t)}function ut(e){return Object($.c)(["incidents",e],st)}var dt=function(e){var t=e.searchRequest,a=I().t,n=Object(m.g)(),i=ut(t),c=i.data,o=i.isLoading;if(void 0===c||o)return r.a.createElement(s.w,{type:"DotLoader",loading:!0});var l=[{}];function u(){!function(e,t){var a=!0;null!=t&&t.forEach((function(t){var n={code:t.code,date:ke()(new Date(t.date),"yyyy-MM-dd hh:mm a"),reportedBy:t.reportedBy,reportedOn:ke()(new Date(t.reportedOn),"yyyy-MM-dd hh:mm a"),status:t.status};a?(e[0]=n,a=!1):e.push(n)}))}(l,c),function(e,t){var a=e,n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(a))),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(function(e){var t={fields:Object.keys(e[0])};return new ct.Parser(t).parse(e)}(l),a("incidents.label").concat("-").concat(ke()(new Date(Date.now()),"yyyy-MM-dd--hh-mma")).concat(".csv"))}var d=[{onClick:function(){u()},text:"CSV"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.l,{direction:"down",variant:"secondary",text:a("incidents.reports.download"),style:{marginLeft:"auto",marginBottom:"4px"},items:d}),r.a.createElement(s.y,{getID:function(e){return e.id},data:c,columns:[{label:a("incidents.reports.code"),key:"code"},{label:a("incidents.reports.dateOfIncident"),key:"date",formatter:function(e){return e.date?ke()(new Date(e.date),"yyyy-MM-dd hh:mm a"):""}},{label:a("incidents.reports.reportedBy"),key:"reportedBy",formatter:function(e){return Je(e.reportedBy)}},{label:a("incidents.reports.reportedOn"),key:"reportedOn",formatter:function(e){return e.reportedOn?ke()(new Date(e.reportedOn),"yyyy-MM-dd hh:mm a"):""}},{label:a("incidents.reports.status"),key:"status"}],actionsHeaderText:a("actions.label"),actions:[{label:a("actions.view"),action:function(e){return n.push("incidents/".concat(e.id))}}]}))},mt=function(){var e=I().t,t=Object(m.g)(),a=le(),i=D();Object(n.useEffect)((function(){i(e("incidents.reports.label"))}));var c=Object(n.useState)(it.reported),o=Object(l.a)(c,2),u=o[0],d=o[1];Object(n.useEffect)((function(){return a([r.a.createElement(s.e,{key:"newIncidentButton",outlined:!0,color:"success",icon:"add",onClick:function(){return t.push("/incidents/new")}},e("incidents.reports.new"))]),function(){a([])}}),[a,e,t]);var p=Object.values(it).map((function(t){return{label:e("incidents.status.".concat(t)),value:"".concat(t)}}));return r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(s.i,{md:3,lg:2},r.a.createElement(Ne,{name:"type",label:e("incidents.filterTitle"),options:p,defaultSelected:p.filter((function(e){return e.value===u})),onChange:function(e){return d(e[0])},isEditable:!0}))),r.a.createElement(s.u,null,r.a.createElement(dt,{searchRequest:{status:u}})))},pt=function(e){var t=e.onChange,a=e.label,n=e.name,i=e.isEditable,c=e.value,o=e.isRequired,l=e.feedback,u=e.isInvalid,d="".concat(n,"DateTimePicker");return r.a.createElement("div",{className:"form-group","data-testid":d},r.a.createElement(s.n,{text:a,isRequired:o,htmlFor:d}),r.a.createElement(s.k,{dateFormat:"MM/dd/yyyy h:mm aa",dateFormatCalendar:"LLLL yyyy",dropdownMode:"scroll",disabled:!i,selected:c,isInvalid:u,feedback:l,onChange:function(e){t&&t(e)},showTimeSelect:!0,timeCaption:"time",timeFormat:"h:mm aa",timeIntervals:15,withPortal:!1}))},bt=a(183),ft=a.n(bt),vt=a(135),gt=a.n(vt);Error;function ht(e){var t=function(e){var t={};return e.date?gt()(new Date(e.date),new Date(Date.now()))&&(t.date="incidents.reports.error.dateMustBeInThePast"):t.date="incidents.reports.error.dateRequired",e.department||(t.department="incidents.reports.error.departmentRequired"),e.category||(t.category="incidents.reports.error.categoryRequired"),e.categoryItem||(t.categoryItem="incidents.reports.error.categoryItemRequired"),e.description||(t.description="incidents.reports.error.descriptionRequired"),t}(e);if(We()(t)){var a=Object(B.a)(Object(B.a)({},e),{},{code:"I-".concat(ft.a.generate()),status:"reported",reportedBy:"some user",reportedOn:new Date(Date.now()).toISOString()});return lt.save(a)}throw t}var Et=function(){var e=Object($.b)(ht,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.invalidateQueries("incidents");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),throwOnError:!0}),t=Object(l.a)(e,1)[0],a=Object(m.g)(),i=I().t,c=D();Object(n.useEffect)((function(){c(i("incidents.reports.new"))}));x([{i18nKey:"incidents.reports.new",location:"/incidents/new"}]);var o=Object(n.useState)({date:(new Date).toISOString(),department:"",category:"",categoryItem:"",description:"",patient:""}),u=Object(l.a)(o,2),d=u[0],p=u[1],b=Object(n.useState)(void 0),f=Object(l.a)(b,2),v=f[0],g=f[1],h=function(e,t){p((function(a){return Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},t,e))}))},E=function(){var e=Object(M.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(d);case 3:n=e.sent,a.push("/incidents/".concat(null===n||void 0===n?void 0:n.id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{"aria-label":"Report Incident form"},r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(pt,{name:"dateOfIncident",label:i("incidents.reports.dateOfIncident"),isEditable:!0,isRequired:!0,onChange:function(e){p((function(t){return Object(B.a)(Object(B.a)({},t),{},{date:e.toISOString()})}))},value:new Date(d.date),isInvalid:!!(null===v||void 0===v?void 0:v.date),feedback:i(null===v||void 0===v?void 0:v.date)})),r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:i("incidents.reports.department"),name:"department",isRequired:!0,isEditable:!0,value:d.department,onChange:function(e){return h(e.currentTarget.value,"department")},isInvalid:!!(null===v||void 0===v?void 0:v.department),feedback:i(null===v||void 0===v?void 0:v.department)}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(H,{name:"category",label:i("incidents.reports.category"),isEditable:!0,isRequired:!0,value:d.category,onChange:function(e){return h(e.currentTarget.value,"category")},isInvalid:!!(null===v||void 0===v?void 0:v.category),feedback:i(null===v||void 0===v?void 0:v.category)})),r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:i("incidents.reports.categoryItem"),name:"categoryItem",isRequired:!0,isEditable:!0,value:d.categoryItem,onChange:function(e){return h(e.currentTarget.value,"categoryItem")},isInvalid:!!(null===v||void 0===v?void 0:v.categoryItem),feedback:i(null===v||void 0===v?void 0:v.categoryItem)}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:12},r.a.createElement(qe,{label:i("incidents.reports.description"),name:"description",isRequired:!0,isEditable:!0,value:d.description,onChange:function(e){return h(e.currentTarget.value,"description")},isInvalid:!!(null===v||void 0===v?void 0:v.description),feedback:i(null===v||void 0===v?void 0:v.description)}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement("div",{className:"form-group patient-typeahead"},r.a.createElement(s.n,{htmlFor:"patientTypeahead",text:i("incidents.reports.patient")}),r.a.createElement(s.E,{id:"patientTypeahead",placeholder:i("incidents.reports.patient"),onChange:function(e){return t=e[0],void p(t?function(e){return Object(B.a)(Object(B.a)({},e),{},{patient:t.id})}:function(e){return Object(B.a)(Object(B.a)({},e),{},{patient:""})});var t},onSearch:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.search(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchAccessor:"fullName",renderMenuItemChildren:function(e){return r.a.createElement("div",null,"".concat(e.fullName," (").concat(e.code,")"))}})))),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:E},i("incidents.reports.new")),r.a.createElement(s.e,{color:"danger",onClick:function(){a.push("/incidents")}},i("actions.cancel")))))};function yt(e,t){return ze.find(t||"")}function Ot(e){return Object($.c)(["patient",e],yt,{enabled:e})}function wt(e,t){return lt.find(t)}function jt(e){return lt.saveOrUpdate(Object(B.a)(Object(B.a)({},e),{},{resolvedOn:new Date(Date.now()).toISOString(),status:"resolved"}))}var kt=function(e){var t=e.incidentId,a=e.permissions,n=Object(m.g)(),i=I().t,c=function(e){return Object($.c)(["incident",e],wt)}(t),o=c.data,u=c.isLoading,d=Ot(null===o||void 0===o?void 0:o.patient).data,p=Object($.b)(jt,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.a.setQueryData(["incident",t.id],t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),b=Object(l.a)(p,1)[0];if(void 0===o||u)return r.a.createElement(s.w,{type:"DotLoader",loading:!0});var f=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(o);case 2:n.push("/incidents");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group incident-date"},r.a.createElement("h4",null,i("incidents.reports.dateOfIncident")),r.a.createElement("h5",null,ke()(new Date(o.date||""),"yyyy-MM-dd hh:mm a")))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group incident-status"},r.a.createElement("h4",null,i("incidents.reports.status")),r.a.createElement("h5",null,o.status))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group incident-reported-by"},r.a.createElement("h4",null,i("incidents.reports.reportedBy")),r.a.createElement("h5",null,Je(o.reportedBy)))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group incident-reported-on"},r.a.createElement("h4",null,i("incidents.reports.reportedOn")),r.a.createElement("h5",null,ke()(new Date(o.reportedOn||""),"yyyy-MM-dd hh:mm a")))),"resolved"===o.status&&o.resolvedOn?r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group incident-resolved-on"},r.a.createElement("h4",null,i("incidents.reports.resolvedOn")),r.a.createElement("h5",null,ke()(new Date(o.resolvedOn),"yyyy-MM-dd hh:mm a")))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"border-bottom mb-2"}),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:12},r.a.createElement(H,{label:i("incidents.reports.department"),name:"department",value:o.department}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(H,{name:"category",label:i("incidents.reports.category"),value:o.category})),r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:i("incidents.reports.categoryItem"),name:"categoryItem",value:o.categoryItem}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:12},r.a.createElement(qe,{label:i("incidents.reports.description"),name:"description",value:o.description}))),o.patient&&r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:i("incidents.reports.patient"),name:"patient",value:null===d||void 0===d?void 0:d.fullName}))),void 0===o.resolvedOn&&r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},function(){var e=[];return"resolved"===o.status||a.includes(we.ResolveIncident)&&e.push(r.a.createElement(s.e,{onClick:f,color:"primary",key:"incidents.reports.resolve"},i("incidents.reports.resolve"))),e}())))},xt=function(){var e=Object(m.i)().id,t=Object(o.c)((function(e){return e.user})).permissions,a=I().t,i=D();return Object(n.useEffect)((function(){i(a("incidents.reports.view"))})),x([{i18nKey:"incidents.reports.view",location:"/incidents/".concat(e)}]),void 0===e||void 0===t?r.a.createElement(r.a.Fragment,null):r.a.createElement(kt,{incidentId:e,permissions:t})},Nt=function(){var e=I().t,t=D();Object(n.useEffect)((function(){t(e("incidents.visualize.view"))}));var a=ut({status:it.reported}),i=a.data,c=a.isLoading,o=Object(n.useState)(0),u=Object(l.a)(o,2),d=u[0],m=u[1],p=Object(n.useState)(!1),b=Object(l.a)(p,2),f=b[0],v=b[1],g=Object(n.useState)(Array(12).fill(0)),h=Object(l.a)(g,2),E=h[0],y=h[1];return Object(n.useEffect)((function(){if(void 0===i||c);else{var e=i.length;if(e>d){var t=(a=i[d].reportedOn,Number(a.slice(5,7))-1);y((function(e){return e.map((function(e,a){return a===t?e+1:e}))})),m(d+1)}else e===d&&v(!0)}var a}),[i,E,c,d]),f?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.o,{datasets:[{backgroundColor:"blue",borderColor:"black",data:[{x:"January",y:E[0]},{x:"February",y:E[1]},{x:"March",y:E[2]},{x:"April",y:E[3]},{x:"May",y:E[4]},{x:"June",y:E[5]},{x:"July",y:E[6]},{x:"August",y:E[7]},{x:"September",y:E[8]},{x:"October",y:E[9]},{x:"November",y:E[10]},{x:"December",y:E[11]}],label:"Incidents"}],title:"Reported Incidents Overtime",xAxes:[{label:"Months",type:"category"}],yAxes:[{label:"Numbers",type:"linear"}]})):r.a.createElement(s.w,{type:"DotLoader",loading:!0})},Ct=function(){var e=Object(o.c)((function(e){return e.user})).permissions;return x([{i18nKey:"incidents.label",location:"/incidents"}],!0),r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:e.includes(we.ViewIncidents),exact:!0,path:"/incidents",component:mt}),r.a.createElement(v,{isAuthenticated:e.includes(we.ReportIncident),exact:!0,path:"/incidents/new",component:Et}),r.a.createElement(v,{isAuthenticated:e.includes(we.ViewIncidentWidgets),exact:!0,path:"/incidents/visualize",component:Nt}),r.a.createElement(v,{isAuthenticated:e.includes(we.ViewIncident),exact:!0,path:"/incidents/:id",component:xt}))},qt=Le.a.getLocalDb(),Dt=new(function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){return Object(De.a)(this,a),t.call(this,"lab",qt)}return Object(Se.a)(a,[{key:"search",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n={$regex:RegExp(t.text,"i")},r={$and:[{$or:[{"data.type":n},{"data.code":n}]}].concat(Object(h.a)("all"!==t.status?[{"data.status":t.status}]:[void 0])).filter((function(e){return void 0!==e})),sorts:t.defaultSortRequest},e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:r}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n=Object(Be.a)("L"),t.code=n,e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"save",this).call(this,t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllByPatientId",value:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:{$and:[{patientId:t}]}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Fe.a));Error;function St(e){var t=function(e){var t={};return e.patient||(t.patient="labs.requests.error.patientRequired"),e.type||(t.type="labs.requests.error.typeRequired"),We()(t)||(t.message="labs.requests.error.unableToRequest"),t}(e);if(We()(t))return e.requestedOn=new Date(Date.now().valueOf()).toISOString(),Dt.save(e);throw t}var It=function(){var e=I().t,t=Object(m.g)(),a=Object(o.c)((function(e){return e.user})).user,i=Object($.b)(St,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.invalidateQueries("labs");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),throwOnError:!0}),c=Object(l.a)(i,1)[0],u=Object(n.useState)(""),d=Object(l.a)(u,2),p=d[0],b=d[1],f=Object(n.useState)(void 0),v=Object(l.a)(f,2),g=v[0],h=v[1],E=Object(n.useState)([]),y=Object(l.a)(E,2),O=y[0],w=y[1],j=D();Object(n.useEffect)((function(){j(e("labs.requests.new"))}));var k=Object(n.useState)({patient:"",type:"",status:"requested",requestedBy:(null===a||void 0===a?void 0:a.id)||"",requestedOn:"",visitId:""}),N=Object(l.a)(k,2),C=N[0],q=N[1];x([{i18nKey:"labs.requests.new",location:"/labs/new"}]);var S=function(){var a=Object(M.a)(T.a.mark((function a(){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c(C);case 3:return n=a.sent,t.push("/labs/".concat(null===n||void 0===n?void 0:n.id)),a.t0=s.C,a.t1=e("states.success"),a.t2="".concat(e("labs.successfullyCreated")," ").concat(null===n||void 0===n?void 0:n.type," ").concat(e("labs.lab.for")," "),a.next=10,ze.find((null===n||void 0===n?void 0:n.patient)||"");case 10:a.t3=a.sent.fullName,a.t4=a.t2.concat.call(a.t2,a.t3),(0,a.t0)("success",a.t1,a.t4),h(void 0),a.next=19;break;case 16:a.prev=16,a.t5=a.catch(0),h(a.t5);case 19:case"end":return a.stop()}}),a,null,[[0,16]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,g&&r.a.createElement(s.a,{color:"danger",title:e("states.error"),message:e(g.message||"")}),r.a.createElement("form",null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group patient-typeahead"},r.a.createElement(s.n,{htmlFor:"patientTypeahead",isRequired:!0,text:e("labs.lab.patient")}),r.a.createElement(s.E,{id:"patientTypeahead",placeholder:e("labs.lab.patient"),onChange:function(e){return function(e){if(e){var t,a=null===(t=e.visits)||void 0===t?void 0:t.map((function(e){return{label:"".concat(e.type," at ").concat(ke()(new Date(e.startDateTime),"yyyy-MM-dd hh:mm a")),value:e.id}}));w(a),q((function(t){return Object(B.a)(Object(B.a)({},t),{},{patient:e.id,fullName:e.fullName})}))}else w([]),q((function(e){return Object(B.a)(Object(B.a)({},e),{},{patient:"",visitId:""})}))}(e[0])},onSearch:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.search(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchAccessor:"fullName",renderMenuItemChildren:function(e){return r.a.createElement("div",null,"".concat(e.fullName," (").concat(e.code,")"))},isInvalid:!!(null===g||void 0===g?void 0:g.patient),feedback:e(null===g||void 0===g?void 0:g.patient)}))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(Ne,{name:"visit",label:e("patient.visit"),isRequired:!0,isEditable:void 0!==C.patient,options:O||[],defaultSelected:void 0!==O?O.filter((function(e){return e.value===C.visitId})):[],onChange:function(e){var t;t=e[0],q((function(e){return Object(B.a)(Object(B.a)({},e),{},{visitId:t})}))}})))),r.a.createElement(H,{name:"labType",label:e("labs.lab.type"),isRequired:!0,isEditable:!0,isInvalid:!!(null===g||void 0===g?void 0:g.type),feedback:e(null===g||void 0===g?void 0:g.type),value:C.type,onChange:function(e){var t=e.currentTarget.value;q((function(e){return Object(B.a)(Object(B.a)({},e),{},{type:t})}))}}),r.a.createElement("div",{className:"form-group"},r.a.createElement(qe,{name:"labNotes",label:e("labs.lab.notes"),isEditable:!0,value:p,onChange:function(e){var t=e.currentTarget.value;b(t),q((function(e){return Object(B.a)(Object(B.a)({},e),{},{notes:[t]})}))}})),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:S},e("labs.requests.new")),r.a.createElement(s.e,{color:"danger",onClick:function(){t.push("/labs")}},e("actions.cancel"))))))},Pt=a(48);function At(e){return e.canceledOn=new Date(Date.now().valueOf()).toISOString(),e.status="canceled",Dt.saveOrUpdate(e)}function Rt(e){var t=function(e){var t={};return e.result||(t.result="labs.requests.error.resultRequiredToComplete",t.message="labs.requests.error.unableToComplete"),t}(e);if(We()(t)){var a=Object(B.a)(Object(B.a)({},e),{},{completedOn:new Date(Date.now().valueOf()).toISOString(),status:"completed"});return Dt.saveOrUpdate(a)}throw t}function Tt(e,t){return Dt.find(t)}function Mt(e){return Dt.saveOrUpdate(e)}var Lt=function(){var e,t=Object(m.i)().id,a=I().t,i=Object(m.g)(),c=Object(o.c)((function(e){return e.user})).permissions,u=Object(n.useState)(),d=Object(l.a)(u,2),p=d[0],b=d[1],f=Object(n.useState)(),v=Object(l.a)(f,2),g=v[0],E=v[1],y=Object(n.useState)(!0),O=Object(l.a)(y,2),w=O[0],j=O[1],k=(e=t,Object($.c)(["lab",e],Tt)).data,N=Ot(null===k||void 0===k?void 0:k.patient).data,C=Object($.b)(Mt,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.a.setQueryData(["lab",t.id],t),e.next=3,$.a.invalidateQueries("labs");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),q=Object(l.a)(C,1)[0],S=Object($.b)(Rt,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.a.setQueryData(["lab",t.id],t),e.next=3,$.a.invalidateQueries("labs");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),throwOnError:!0}),P=Object(l.a)(S,1)[0],A=Object($.b)(At,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.a.invalidateQueries("labs");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),R=Object(l.a)(A,1)[0],L=Object(n.useState)(void 0),F=Object(l.a)(L,2),U=F[0],z=F[1],V=D();Object(n.useEffect)((function(){V(function(e,t){return e&&t?"".concat(t.type," for ").concat(e.fullName,"(").concat(t.code,")"):""}(N,p))})),x([{i18nKey:"labs.requests.view",location:"/labs/".concat(null===p||void 0===p?void 0:p.id)}]),Object(n.useEffect)((function(){k&&(b(Object(B.a)({},k)),j("requested"===k.status))}),[k]);var W=function(){var e=Object(M.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=8;break}return t=p,g&&(t.notes=t.notes?[].concat(Object(h.a)(t.notes),[g]):[g],E("")),e.next=5,q(t);case 5:n=e.sent,i.push("/labs/".concat(null===n||void 0===n?void 0:n.id)),Object(s.C)("success",a("states.success"),"".concat(a("labs.successfullyUpdated")," ").concat(null===n||void 0===n?void 0:n.type," for ").concat(null===N||void 0===N?void 0:N.fullName));case 8:z(void 0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(M.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!p){e.next=7;break}return e.next=4,P(p);case 4:t=e.sent,i.push("/labs/".concat(null===t||void 0===t?void 0:t.id)),Object(s.C)("success",a("states.success"),"".concat(a("labs.successfullyCompleted")," ").concat(null===t||void 0===t?void 0:t.type," for ").concat(null===N||void 0===N?void 0:N.fullName," "));case 7:z(void 0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),z(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p&&(R(p),i.push("/labs"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(p&&N){return r.a.createElement(r.a.Fragment,null,U&&r.a.createElement(s.a,{color:"danger",title:a("states.error"),message:a(U.message||"")}),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group lab-status"},r.a.createElement("h4",null,a("labs.lab.status")),r.a.createElement(s.b,{color:"completed"===p.status?"primary":"canceled"===p.status?"danger":"warning"},r.a.createElement("h5",null,p.status)))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group for-patient"},r.a.createElement("h4",null,a("labs.lab.for")),r.a.createElement("h5",null,N.fullName))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group lab-type"},r.a.createElement("h4",null,a("labs.lab.type")),r.a.createElement("h5",null,p.type))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group requested-on"},r.a.createElement("h4",null,a("labs.lab.requestedOn")),r.a.createElement("h5",null,ke()(new Date(p.requestedOn),"yyyy-MM-dd hh:mm a")))),"completed"===p.status&&p.completedOn?r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group completed-on"},r.a.createElement("h4",null,a("labs.lab.completedOn")),r.a.createElement("h5",null,ke()(new Date(p.completedOn),"yyyy-MM-dd hh:mm a")))):"canceled"===p.status&&p.canceledOn?r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group canceled-on"},r.a.createElement("h4",null,a("labs.lab.canceledOn")),r.a.createElement("h5",null,ke()(new Date(p.canceledOn),"yyyy-MM-dd hh:mm a")))):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"border-bottom"}),r.a.createElement("form",null,r.a.createElement(qe,{name:"result",label:a("labs.lab.result"),value:p.result,isEditable:w,isInvalid:!!(null===U||void 0===U?void 0:U.result),feedback:a(null===U||void 0===U?void 0:U.result),onChange:function(e){var t=e.currentTarget.value,a=p;b(Object(B.a)(Object(B.a)({},a),{},{result:t}))}}),r.a.createElement(s.n,{text:a("labs.lab.notes"),htmlFor:"notesTextField"}),p.notes&&""!==p.notes[0]?p.notes.map((function(e){return r.a.createElement(s.g,{key:Object(Pt.a)(),"data-test":"note",color:"info"},r.a.createElement("p",{"data-testid":"note"},e))})):r.a.createElement(r.a.Fragment,null),w&&r.a.createElement(qe,{name:"notes",value:g,isEditable:w,onChange:function(e){var t=e.currentTarget.value;E(t)}}),w&&r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},function(){var e=[];return"completed"===(null===p||void 0===p?void 0:p.status)||"canceled"===(null===p||void 0===p?void 0:p.status)||(e.push(r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:W,key:"actions.update"},a("labs.requests.update"))),c.includes(we.CompleteLab)&&e.push(r.a.createElement(s.e,{className:"mr-2",onClick:K,color:"primary",key:"labs.requests.complete"},a("labs.requests.complete"))),c.includes(we.CancelLab)&&e.push(r.a.createElement(s.e,{onClick:G,color:"danger",key:"labs.requests.cancel"},a("labs.requests.cancel")))),e}()))))}return r.a.createElement("h1",null,"Loading...")},Bt={sorts:[{field:"requestedOn",direction:"desc"}]};function Ft(e,t){var a;return""===(null===(a=t.text)||void 0===a?void 0:a.trim())&&"all"===t.status?Dt.findAll(Bt):Dt.search(Object(B.a)(Object(B.a)({},t),{},{defaultSortRequest:Bt}))}var Ut=function(){var e=I().t,t=Object(m.g)(),a=le(),i=D();Object(n.useEffect)((function(){i(e("labs.label"))}));var c,u=Object(o.c)((function(e){return e.user})).permissions,d=Object(n.useState)("all"),p=Object(l.a)(d,2),b=p[0],f=p[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),h=g[0],E=g[1],y=se(h,500),O=(c={text:y,status:b},Object($.c)(["labs",c],Ft)).data,w=Object(n.useCallback)((function(){var a=[];return u.includes(we.RequestLab)&&a.push(r.a.createElement(s.e,{icon:"add",onClick:function(){return t.push("/labs/new")},outlined:!0,color:"success",key:"lab.requests.new"},e("labs.requests.new"))),a}),[u,t,e]);Object(n.useEffect)((function(){return a(w()),function(){a([])}}),[w,a]);var j=[{label:e("labs.status.requested"),value:"requested"},{label:e("labs.status.completed"),value:"completed"},{label:e("labs.status.canceled"),value:"canceled"},{label:e("labs.filter.all"),value:"all"}];return r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(s.i,{md:3,lg:2},r.a.createElement(Ne,{name:"type",label:e("labs.filterTitle"),options:j,defaultSelected:j.filter((function(e){return e.value===b})),onChange:function(e){return f(e[0])},isEditable:!0})),r.a.createElement(s.i,null,r.a.createElement(H,{name:"searchbox",label:e("labs.search"),placeholder:e("labs.search"),value:h,isEditable:!0,onChange:function(e){E(e.target.value)}}))),r.a.createElement(s.u,null,r.a.createElement(s.y,{getID:function(e){return e.id},columns:[{label:e("labs.lab.code"),key:"code"},{label:e("labs.lab.type"),key:"type"},{label:e("labs.lab.requestedOn"),key:"requestedOn",formatter:function(e){return e.requestedOn?ke()(new Date(e.requestedOn),"yyyy-MM-dd hh:mm a"):""}},{label:e("labs.lab.status"),key:"status"}],data:O||[],actionsHeaderText:e("actions.label"),actions:[{label:e("actions.view"),action:function(e){return a=e,void t.push("/labs/".concat(a.id));var a}}]})))},zt=function(){var e=Object(o.c)((function(e){return e.user})).permissions;return x([{i18nKey:"labs.label",location:"/labs"}],!0),r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:e.includes(we.ViewLabs),exact:!0,path:"/labs",component:Ut}),r.a.createElement(v,{isAuthenticated:e.includes(we.RequestLab),exact:!0,path:"/labs/new",component:It}),r.a.createElement(v,{isAuthenticated:e.includes(we.ViewLab),exact:!0,path:"/labs/:id",component:Lt}))},Vt=Le.a.getLocalDb(),Wt=new(function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){return Object(De.a)(this,a),t.call(this,"medication",Vt)}return Object(Se.a)(a,[{key:"search",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),n={$regex:RegExp(t.text,"i")},r={$and:[{$or:[{"data.medication":n}]}].concat(Object(h.a)("all"!==t.status?[{"data.status":t.status}]:[void 0])).filter((function(e){return void 0!==e})),sorts:t.defaultSortRequest},e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:r}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"save",this).call(this,t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllByPatientId",value:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:{$and:[{patientId:t}]}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Fe.a)),Kt={error:{},medication:void 0,patient:void 0,status:"loading"};function Gt(e){e.status="loading"}function Ht(e,t){var a=t.payload;e.status="completed",e.medication=a,e.error={}}var Zt=Object(E.b)({name:"medication",initialState:Kt,reducers:{fetchMedicationStart:Gt,fetchMedicationSuccess:function(e,t){var a=t.payload;e.status="completed",e.medication=a.medication,e.patient=a.patient},updateMedicationStart:Gt,updateMedicationSuccess:Ht,requestMedicationStart:Gt,requestMedicationSuccess:Ht,requestMedicationError:function(e,t){var a=t.payload;e.status="error",e.error=a},cancelMedicationStart:Gt,cancelMedicationSuccess:Ht}}),Qt=Zt.actions,_t=Qt.fetchMedicationStart,Yt=Qt.fetchMedicationSuccess,$t=Qt.updateMedicationStart,Jt=Qt.updateMedicationSuccess,Xt=Qt.requestMedicationStart,ea=Qt.requestMedicationSuccess,ta=Qt.requestMedicationError,aa=Qt.cancelMedicationStart,na=Qt.cancelMedicationSuccess,ra=function(e){var t={};return e.patient||(t.patient="medications.requests.error.patientRequired"),e.quantity||(t.quantity="medications.requests.error.quantityRequired"),t},ia=function(e,t){return function(){var a=Object(M.a)(T.a.mark((function a(n,r){var i,c,o,l;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n(Xt()),i=ra(e),!(Object.keys(i).length>0)){a.next=7;break}i.message="medications.requests.error.unableToRequest",n(ta(i)),a.next=15;break;case 7:return e.status="draft",e.requestedOn=new Date(Date.now().valueOf()).toISOString(),e.requestedBy=(null===(c=r().user)||void 0===c||null===(o=c.user)||void 0===o?void 0:o.id)||"",a.next=12,Wt.save(e);case 12:l=a.sent,n(ea(l)),t&&t(l);case 15:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ca=function(e,t){return function(){var a=Object(M.a)(T.a.mark((function a(n){var r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(aa()),e.canceledOn=new Date(Date.now().valueOf()).toISOString(),e.status="canceled",a.next=5,Wt.saveOrUpdate(e);case 5:r=a.sent,n(na(r)),t&&t(r);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},oa=function(e,t){return function(){var a=Object(M.a)(T.a.mark((function a(n){var r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n($t()),a.next=3,Wt.saveOrUpdate(e);case 3:r=a.sent,n(Jt(r)),t&&t(r);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},la=Zt.reducer,sa=function(){var e=I().t,t=Object(o.b)(),a=Object(m.g)(),i=D();Object(n.useEffect)((function(){i(e("medications.requests.new"))}));var c=Object(o.c)((function(e){return e.medication})),u=c.status,d=c.error,p=Object(n.useState)({patient:"",medication:"",notes:"",status:"",intent:"order",priority:"",quantity:{value:"",unit:""}}),b=Object(l.a)(p,2),f=b[0],v=b[1],g=[{label:e("medications.status.draft"),value:"draft"},{label:e("medications.status.active"),value:"active"}],h=[{label:e("medications.intent.proposal"),value:"proposal"},{label:e("medications.intent.plan"),value:"plan"},{label:e("medications.intent.order"),value:"order"},{label:e("medications.intent.originalOrder"),value:"original order"},{label:e("medications.intent.reflexOrder"),value:"reflex order"},{label:e("medications.intent.fillerOrder"),value:"filler order"},{label:e("medications.intent.instanceOrder"),value:"instance order"},{label:e("medications.intent.option"),value:"option"}],E=[{label:e("medications.priority.routine"),value:"routine"},{label:e("medications.priority.urgent"),value:"urgent"},{label:e("medications.priority.asap"),value:"asap"},{label:e("medications.priority.stat"),value:"stat"}];x([{i18nKey:"medications.requests.new",location:"/medications/new"}]);var y=function(e,t){v((function(a){return Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t))}))},O=function(e,t){v((function(a){return Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},t,e))}))},w=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ia(f,(function(e){a.push("/medications/".concat(e.id))})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,"error"===u&&r.a.createElement(s.a,{color:"danger",title:e("states.error"),message:e(d.message||"")}),r.a.createElement("form",{"aria-label":"Medication Request form"},r.a.createElement("div",{className:"form-group patient-typeahead"},r.a.createElement(s.n,{htmlFor:"patientTypeahead",isRequired:!0,text:e("medications.medication.patient")}),r.a.createElement(s.E,{id:"patientTypeahead",placeholder:e("medications.medication.patient"),onChange:function(e){return t=e[0],void v((function(e){return Object(B.a)(Object(B.a)({},e),{},{patient:t.id,fullName:t.fullName})}));var t},onSearch:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.search(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchAccessor:"fullName",renderMenuItemChildren:function(e){return r.a.createElement("div",null,"".concat(e.fullName," (").concat(e.code,")"))},isInvalid:!!d.patient})),r.a.createElement(H,{name:"medication",label:e("medications.medication.medication"),isRequired:!0,isEditable:!0,isInvalid:!!d.medication,feedback:e(d.medication),value:f.medication,onChange:function(e){var t=e.currentTarget.value;v((function(e){return Object(B.a)(Object(B.a)({},e),{},{medication:t})}))}}),r.a.createElement("div",{className:"form-group"},r.a.createElement(Ne,{name:"status",label:e("medications.medication.status"),isRequired:!0,options:g,defaultSelected:g.filter((function(e){return e.value===f.status})),onChange:function(e){return y&&y("status",e[0])},isEditable:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Ne,{name:"intent",label:e("medications.medication.intent"),isRequired:!0,options:h,defaultSelected:h.filter((function(e){return e.value===f.intent})),onChange:function(e){return y&&y("intent",e[0])},isEditable:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Ne,{name:"priority",label:e("medications.medication.priority"),isRequired:!0,options:E,defaultSelected:E.filter((function(e){return e.value===f.priority})),onChange:function(e){return y&&y("priority",e[0])},isEditable:!0})),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(H,{name:"quantityValue",label:"".concat(e("medications.medication.quantity")," | ").concat(e("medications.medication.quantityValue")),isEditable:!0,isRequired:!0,value:f.quantity.value,onChange:function(e){return O(e.currentTarget.value,"quantity.value")},isInvalid:!!(null===d||void 0===d?void 0:d.quantityValue),feedback:e(null===d||void 0===d?void 0:d.quantityValue)})),r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:"".concat(e("medications.medication.quantity")," | ").concat(e("medications.medication.quantityUnit")),name:"quantityUnit",isRequired:!0,isEditable:!0,value:f.quantity.unit,onChange:function(e){return O(e.currentTarget.value,"quantity.unit")},isInvalid:!!(null===d||void 0===d?void 0:d.quantityUnit),feedback:e(null===d||void 0===d?void 0:d.quantityUnit)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement(qe,{name:"medicationNotes",label:e("medications.medication.notes"),isEditable:!0,value:f.notes,onChange:function(e){var t=e.currentTarget.value;v((function(e){return Object(B.a)(Object(B.a)({},e),{},{notes:t})}))}})),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:w},e("medications.requests.new")),r.a.createElement(s.e,{color:"danger",onClick:function(){a.push("/medications")}},e("actions.cancel"))))))},ua=function(e){var t=e.searchRequest,a=e.onChange,n=I().t,i=[{label:n("medications.filter.all"),value:"all"},{label:n("medications.status.draft"),value:"draft"},{label:n("medications.status.active"),value:"active"},{label:n("medications.status.onHold"),value:"on hold"},{label:n("medications.status.completed"),value:"completed"},{label:n("medications.status.enteredInError"),value:"entered in error"},{label:n("medications.status.canceled"),value:"canceled"},{label:n("medications.status.unknown"),value:"unknown"}],c=function(e){a(Object(B.a)(Object(B.a)({},t),{},{status:e}))};return r.a.createElement(s.u,null,r.a.createElement(s.i,{md:3,lg:2},r.a.createElement(Ne,{name:"filterStatus",label:n("medications.filterTitle"),options:i,defaultSelected:i.filter((function(e){return e.value===t.status})),onChange:function(e){return c(e[0])},isEditable:!0})),r.a.createElement(s.i,null,r.a.createElement(H,{name:"searchbox",label:n("medications.search"),placeholder:n("medications.search"),value:t.text,isEditable:!0,onChange:function(e){var n=e.target.value;a(Object(B.a)(Object(B.a)({},t),{},{text:n}))}})))},da={sorts:[{field:"requestedOn",direction:"desc"}]};function ma(e,t){return Wt.search(Object(B.a)(Object(B.a)({},t),{},{defaultSortRequest:da}))}var pa,ba=function(e){var t=e.searchRequest,a=I().t,n=Object(m.g)(),i=function(e){return Object($.c)(["medication-requests",e],ma)}(t),c=i.data,o=i.status;if(void 0===c||"loading"===o)return r.a.createElement(Y,null);return r.a.createElement(s.y,{getID:function(e){return e.id},columns:[{label:a("medications.medication.medication"),key:"medication"},{label:a("medications.medication.priority"),key:"priority"},{label:a("medications.medication.intent"),key:"intent"},{label:a("medications.medication.requestedOn"),key:"requestedOn",formatter:function(e){return e.requestedOn?ke()(new Date(e.requestedOn),"yyyy-MM-dd hh:mm a"):""}},{label:a("medications.medication.status"),key:"status"}],data:c,actionsHeaderText:a("actions.label"),actions:[{label:a("actions.view"),action:function(e){return t=e,void n.push("/medications/".concat(t.id));var t}}]})},fa=function(){var e=I().t,t=Object(m.g)(),a=le(),i=D();Object(n.useEffect)((function(){i(e("medications.label"))}));var c=Object(o.c)((function(e){return e.user})).permissions,u=Object(n.useCallback)((function(){var a=[];return c.includes(we.RequestMedication)&&a.push(r.a.createElement(s.e,{icon:"add",onClick:function(){return t.push("/medications/new")},outlined:!0,color:"success",key:"medication.requests.new"},e("medications.requests.new"))),a}),[c,t,e]);Object(n.useEffect)((function(){return a(u()),function(){a([])}}),[u,a]);var d=Object(n.useState)({text:"",status:"all"}),p=Object(l.a)(d,2),b=p[0],f=p[1];return r.a.createElement(s.j,null,r.a.createElement(ua,{searchRequest:b,onChange:function(e){f(e)}}),r.a.createElement(s.u,null,r.a.createElement(ba,{searchRequest:b})))},va=function(){var e=Object(m.i)().id,t=I().t,a=Object(m.g)(),i=Object(o.b)(),c=Object(o.c)((function(e){return e.user})).permissions,u=Object(o.c)((function(e){return e.medication})),d=u.medication,p=u.patient,b=u.status,f=u.error,v=Object(n.useState)(),g=Object(l.a)(v,2),h=g[0],E=g[1],y=Object(n.useState)(!0),O=Object(l.a)(y,2),w=O[0],j=O[1],k=D();Object(n.useEffect)((function(){k(function(e,t){return e&&t?"".concat(t.medication," for ").concat(e.fullName):""}(p,h))})),x([{i18nKey:"medications.requests.view",location:"/medications/".concat(null===h||void 0===h?void 0:h.id)}]),Object(n.useEffect)((function(){var t;e&&i((t=e,function(){var e=Object(M.a)(T.a.mark((function e(a){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(_t()),e.next=3,Wt.find(t);case 3:return n=e.sent,e.next=6,ze.find(n.patient);case 6:r=e.sent,a(Yt({medication:n,patient:r}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,i]),Object(n.useEffect)((function(){d&&(E(Object(B.a)({},d)),j("completed"!==d.status))}),[d]);var N=[{label:t("medications.status.draft"),value:"draft"},{label:t("medications.status.active"),value:"active"},{label:t("medications.status.onHold"),value:"on hold"},{label:t("medications.status.completed"),value:"completed"},{label:t("medications.status.enteredInError"),value:"entered in error"},{label:t("medications.status.canceled"),value:"canceled"},{label:t("medications.status.unknown"),value:"unknown"}],C=[{label:t("medications.intent.proposal"),value:"proposal"},{label:t("medications.intent.plan"),value:"plan"},{label:t("medications.intent.order"),value:"order"},{label:t("medications.intent.originalOrder"),value:"original order"},{label:t("medications.intent.reflexOrder"),value:"reflex order"},{label:t("medications.intent.fillerOrder"),value:"filler order"},{label:t("medications.intent.instanceOrder"),value:"instance order"},{label:t("medications.intent.option"),value:"option"}],q=[{label:t("medications.priority.routine"),value:"routine"},{label:t("medications.priority.urgent"),value:"urgent"},{label:t("medications.priority.asap"),value:"asap"},{label:t("medications.priority.stat"),value:"stat"}],S=function(e,t){var a=h;E(Object(B.a)(Object(B.a)({},a),{},{quantity:Object(B.a)(Object(B.a)({},a.quantity),{},Object(L.a)({},t,e))}))},P=function(e,t){var a=h;E(Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t)))},A=function(){var e=Object(M.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){a.push("/medications")},h&&i(oa(h,t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(M.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){a.push("/medications")},h&&i(ca(h,t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(h&&p){var F=function(){return"canceled"===h.status?"danger":"warning"};return r.a.createElement(r.a.Fragment,null,"error"===b&&r.a.createElement(s.a,{color:"danger",title:t("states.error"),message:t(f.message||"")}),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group medication-status"},r.a.createElement("h4",null,t("medications.medication.status")),r.a.createElement(s.b,{color:F()},r.a.createElement("h5",null,h.status)))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group medication-medication"},r.a.createElement("h4",null,t("medications.medication.medication")),r.a.createElement("h5",null,h.medication))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group medication-quantity"},r.a.createElement("h4",null,t("medications.medication.quantity")),r.a.createElement("h5",null,"".concat(h.quantity.value," x ").concat(h.quantity.unit)))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group for-patient"},r.a.createElement("h4",null,t("medications.medication.for")),r.a.createElement("h5",null,p.fullName))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group requested-on"},r.a.createElement("h4",null,t("medications.medication.requestedOn")),r.a.createElement("h5",null,ke()(new Date(h.requestedOn),"yyyy-MM-dd hh:mm a")))),"canceled"===h.status&&h.canceledOn?r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group canceled-on"},r.a.createElement("h4",null,t("medications.medication.canceledOn")),r.a.createElement("h5",null,ke()(new Date(h.canceledOn),"yyyy-MM-dd hh:mm a")))):r.a.createElement(r.a.Fragment,null)),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group medication-intent"},r.a.createElement("h4",null,t("medications.medication.intent")),r.a.createElement(s.b,{color:F()},r.a.createElement("h5",null,h.intent)))),r.a.createElement(s.i,null,r.a.createElement("div",{className:"form-group medication-priority"},r.a.createElement("h4",null,t("medications.medication.priority")),r.a.createElement(s.b,{color:F()},r.a.createElement("h5",null,h.priority))))),r.a.createElement("div",{className:"border-bottom"}),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(Ne,{name:"status",label:t("medications.medication.status"),isRequired:!0,options:N,defaultSelected:N.filter((function(e){return e.value===h.status})),onChange:function(e){return P&&P("status",e[0])},isEditable:w})),r.a.createElement(s.i,null,r.a.createElement(Ne,{name:"intent",label:t("medications.medication.intent"),isRequired:!0,options:C,defaultSelected:C.filter((function(e){return e.value===h.intent})),onChange:function(e){return P&&P("intent",e[0])},isEditable:w})),r.a.createElement(s.i,null,r.a.createElement(Ne,{name:"priority",label:t("medications.medication.priority"),isRequired:!0,options:q,defaultSelected:q.filter((function(e){return e.value===h.priority})),onChange:function(e){return P&&P("priority",e[0])},isEditable:w}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(H,{name:"quantityValue",label:"".concat(t("medications.medication.quantity")," | ").concat(t("medications.medication.quantityValue")),isEditable:w,isRequired:!0,value:h.quantity.value,onChange:function(e){return S(e.currentTarget.value,"value")},isInvalid:!!(null===f||void 0===f?void 0:f.quantityValue),feedback:t(null===f||void 0===f?void 0:f.quantityValue)})),r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:"".concat(t("medications.medication.quantity")," | ").concat(t("medications.medication.quantityUnit")),name:"quantityUnit",isRequired:!0,isEditable:w,value:h.quantity.unit,onChange:function(e){return S(e.currentTarget.value,"unit")},isInvalid:!!(null===f||void 0===f?void 0:f.quantityUnit),feedback:t(null===f||void 0===f?void 0:f.quantityUnit)}))),r.a.createElement("form",null,r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(qe,{"data-testid":"notes",name:"notes",label:t("medications.medication.notes"),value:h.notes,isEditable:w,onChange:function(e){return function(e){var t=e.currentTarget.value;P("notes",t)}(e)}}))),w&&r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},function(){var e=[];return"canceled"===(null===h||void 0===h?void 0:h.status)||(e.push(r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:A,key:"actions.update"},t("medications.requests.update"))),c.includes(we.CancelMedication)&&e.push(r.a.createElement(s.e,{onClick:R,color:"danger",key:"medications.requests.cancel"},t("medications.requests.cancel")))),e}()))))}return r.a.createElement("h1",null,"Loading...")},ga=function(){var e=Object(o.c)((function(e){return e.user})).permissions;return x([{i18nKey:"medications.label",location:"/medications"}],!0),r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:e.includes(we.ViewMedications),exact:!0,path:"/medications",component:fa}),r.a.createElement(v,{isAuthenticated:e.includes(we.RequestMedication),exact:!0,path:"/medications/new",component:sa}),r.a.createElement(v,{isAuthenticated:e.includes(we.ViewMedication),path:"/medications/:id",component:va}))},ha=function(){var e=Object(m.g)(),t=I().t,a=Object(o.c)((function(e){return e.breadcrumbs})).breadcrumbs;return 0===a.length?null:r.a.createElement(s.c,null,a.map((function(n,i){var c=n.i18nKey,o=n.text,l=n.location,u=i===a.length-1,d=u?void 0:function(){return e.push(l)};return r.a.createElement(s.d,{key:l,active:u,onClick:d},c?t(c):o)})))},Ea=function(){var e=function(){var e=r.a.useContext(ie);if(void 0===e)throw new Error("useButtons must be used within a Button Bar Context");return e}();return 0===e.length?null:r.a.createElement("div",{className:"button-toolbar"},e.map((function(e){return e})))},ya=a(446),Oa=a.n(ya),wa=a(134),ja=a.n(wa),ka=a(241),xa=a.n(ka),Na=function(e){var t=e.onChange,a=e.label,n=e.name,i=e.isEditable,c=e.value,o=e.isRequired,l=e.feedback,u=e.isInvalid,d=e.maxDate,m="".concat(n,"DatePicker");return r.a.createElement("div",{className:"form-group","data-testid":m},r.a.createElement(s.n,{text:a,htmlFor:m,isRequired:o}),r.a.createElement(s.k,{dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",dropdownMode:"scroll",maxDate:d,selected:c,timeIntervals:30,withPortal:!1,disabled:!i,feedback:l,isInvalid:u,showYearDropdown:!0,onChange:function(e){t&&t(e)}}))};!function(e){e.home="home",e.mobile="mobile",e.work="work",e.temporary="temporary",e.old="old"}(pa||(pa={}));var Ca=pa,qa=function(e){var t=e.component,a=e.data,i=e.errors,c=e.label,o=e.name,l=e.isEditable,u=e.onChange,d=I().t;Object(n.useEffect)((function(){u&&0===a.length&&u([].concat(Object(h.a)(a),[{id:Object(Pt.a)(),value:""}]))}),[a,u]);var m=Object.values(Ca).map((function(e){return{label:d("patient.contactInfoType.options.".concat(e)),value:"".concat(e)}})),p=r.a.createElement(s.u,{className:"header mb-2"},r.a.createElement(s.i,{xs:12,sm:4},r.a.createElement("span",{className:""},d("patient.contactInfoType.label")),r.a.createElement("span",{className:"d-sm-none"}," & ",d(c))),r.a.createElement(s.i,{className:"d-none d-sm-block",sm:8},d(c))),b={TextInputWithLabelFormGroup:H,TextFieldWithLabelFormGroup:qe}[t],f=function(e,t){if(u){var n=Object(B.a)(Object(B.a)({},a[t]),{},{type:e}),r=Object(h.a)(a);r.splice(t,1,n),u(r)}},v=function(e,t){if(u){var n=e.currentTarget.value,r=Object(B.a)(Object(B.a)({},a[t]),{},{value:n}),i=Object(h.a)(a);i.splice(t,1,r),u(i)}},g=a.map((function(e,t){var a=i?i[t]:void 0;return r.a.createElement(s.u,{key:e.id},r.a.createElement(s.i,{sm:4},r.a.createElement(Ne,{name:"".concat(o,"Type").concat(t),options:m,defaultSelected:m.filter((function(t){return t.value===e.type})),onChange:function(e){return f(e[0],t)},isEditable:l})),r.a.createElement(s.i,{sm:8},r.a.createElement(b,{name:"".concat(o).concat(t),value:e.value,isEditable:l,onChange:function(e){return v(e,t)},feedback:a&&d(a),isInvalid:!!a})))})),E=r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){if(u){var e=a.filter((function(e){return""!==e.value.trim()}));e.push({id:Object(Pt.a)(),value:""}),u(e)}}},r.a.createElement(s.m,{icon:"add"})," ",d("actions.add")));return l&&0===a.length?r.a.createElement(s.w,{"aria-hidden":"false","aria-label":"Loading",color:"blue",loading:!0,size:20,type:"SyncLoader"}):r.a.createElement("div",null,a.length>0?p:null,g,l?E:null)};qa.defaultProps={data:[]};var Da=qa,Sa=function(e){var t=I().t,a=e.patient,n=e.isEditable,i=e.onChange,c=e.error,o=function(e,t){if(i){var n=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));i(n)}},l=[{label:t("sex.male"),value:"male"},{label:t("sex.female"),value:"female"},{label:t("sex.other"),value:"other"},{label:t("sex.unknown"),value:"unknown"}],u=[{label:t("patient.types.charity"),value:"charity"},{label:t("patient.types.private"),value:"private"}],d=[{label:t("bloodType.apositive"),value:"A+"},{label:t("bloodType.anegative"),value:"A-"},{label:t("bloodType.abpositive"),value:"AB+"},{label:t("bloodType.abnegative"),value:"AB-"},{label:t("bloodType.bpositive"),value:"B+"},{label:t("bloodType.bnegative"),value:"B-"},{label:t("bloodType.opositive"),value:"O+"},{label:t("bloodType.onegative"),value:"O-"},{label:t("bloodType.unknown"),value:"unknown"}];return r.a.createElement("div",null,r.a.createElement(s.t,{title:t("patient.basicInformation"),color:"primary",collapsible:!0},(null===c||void 0===c?void 0:c.message)&&r.a.createElement(s.a,{className:"alert",color:"danger",message:t(null===c||void 0===c?void 0:c.message)}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement(H,{label:t("patient.prefix"),name:"prefix",value:a.prefix,isEditable:n,onChange:function(e){return o("prefix",e.currentTarget.value)},isInvalid:!!(null===c||void 0===c?void 0:c.prefix),feedback:t(null===c||void 0===c?void 0:c.prefix)})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(H,{label:t("patient.givenName"),name:"givenName",value:a.givenName,isEditable:n,onChange:function(e){return o("givenName",e.currentTarget.value)},isRequired:!0,isInvalid:!!(null===c||void 0===c?void 0:c.givenName),feedback:t(null===c||void 0===c?void 0:c.givenName)})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(H,{label:t("patient.familyName"),name:"familyName",value:a.familyName,isEditable:n,onChange:function(e){return o("familyName",e.currentTarget.value)},isInvalid:!!(null===c||void 0===c?void 0:c.familyName),feedback:t(null===c||void 0===c?void 0:c.familyName)})),r.a.createElement("div",{className:"col-md-2"},r.a.createElement(H,{label:t("patient.suffix"),name:"suffix",value:a.suffix,isEditable:n,onChange:function(e){return o("suffix",e.currentTarget.value)},isInvalid:!!(null===c||void 0===c?void 0:c.suffix),feedback:t(null===c||void 0===c?void 0:c.suffix)}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(Ne,{name:"sex",label:t("patient.sex"),options:l,defaultSelected:l.filter((function(e){return e.value===a.sex})),onChange:function(e){return o("sex",e[0])},isEditable:n})),r.a.createElement("div",{className:"col"},r.a.createElement(Ne,{name:"type",label:t("patient.type"),options:u,defaultSelected:u.filter((function(e){return e.value===a.type})),onChange:function(e){return o("type",e[0])},isEditable:n})),r.a.createElement("div",{className:"col"},r.a.createElement(Ne,{name:"bloodType",label:t("patient.bloodType"),options:d,defaultSelected:d.filter((function(e){return e.value===a.bloodType})),onChange:function(e){return o("bloodType",e[0])},isEditable:n}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},a.isApproximateDateOfBirth?r.a.createElement(H,{label:t("patient.approximateAge"),name:"approximateAge",type:"number",value:"".concat(Oa()(new Date(Date.now()),new Date(a.dateOfBirth))),isEditable:n,onChange:function(e){var t=e.currentTarget.value;o("dateOfBirth",function(e){var t=Number.isNaN(parseFloat(e))?0:parseFloat(e),a=xa()(new Date(Date.now()),t);return ja()(a).toISOString()}(t))}}):r.a.createElement(Na,{name:"dateOfBirth",label:t("patient.dateOfBirth"),isEditable:n&&!a.isApproximateDateOfBirth,value:a.dateOfBirth&&a.dateOfBirth.length>0?new Date(a.dateOfBirth):void 0,maxDate:new Date(Date.now().valueOf()),onChange:function(e){return o("dateOfBirth",e.toISOString())},isInvalid:!!(null===c||void 0===c?void 0:c.dateOfBirth),feedback:t(null===c||void 0===c?void 0:c.dateOfBirth)}),r.a.createElement("div",{className:"form-group"},r.a.createElement(s.h,{label:t("patient.unknownDateOfBirth"),name:"unknown",disabled:!n,onChange:function(e){var t=e.currentTarget.checked;o("isApproximateDateOfBirth",t)}}))),r.a.createElement("div",{className:"col"},r.a.createElement(H,{label:t("patient.occupation"),name:"occupation",value:a.occupation,isEditable:n,onChange:function(e){return o("occupation",e.currentTarget.value)}})),r.a.createElement("div",{className:"col"},r.a.createElement(H,{label:t("patient.preferredLanguage"),name:"preferredLanguage",value:a.preferredLanguage,isEditable:n,onChange:function(e){return o("preferredLanguage",e.currentTarget.value)},isInvalid:!!(null===c||void 0===c?void 0:c.preferredLanguage),feedback:t(null===c||void 0===c?void 0:c.preferredLanguage)})))),r.a.createElement("br",null),r.a.createElement(s.t,{title:t("patient.contactInformation"),color:"primary",collapsible:!0},r.a.createElement("div",{className:"mb-4"},r.a.createElement(s.t,{title:t("patient.phoneNumber"),color:"primary",collapsible:!0},r.a.createElement(Da,{component:"TextInputWithLabelFormGroup",data:a.phoneNumbers,errors:null===c||void 0===c?void 0:c.phoneNumbers,label:"patient.phoneNumber",name:"phoneNumber",isEditable:n,onChange:function(e){return o("phoneNumbers",e)}}))),r.a.createElement("div",{className:"mb-4"},r.a.createElement(s.t,{title:t("patient.email"),color:"primary",collapsible:!0},r.a.createElement(Da,{component:"TextInputWithLabelFormGroup",data:a.emails,errors:null===c||void 0===c?void 0:c.emails,label:"patient.email",name:"email",isEditable:n,onChange:function(e){return o("emails",e)}}))),r.a.createElement("div",null,r.a.createElement(s.t,{title:t("patient.address"),color:"primary",collapsible:!0},r.a.createElement(Da,{component:"TextFieldWithLabelFormGroup",data:a.addresses,label:"patient.address",name:"address",isEditable:n,onChange:function(e){return o("addresses",e)}})))))},Ia=function(e,t){return"".concat(e," ").concat(function(e){return e||""}(t)).trim()};function Pa(e,t,a){var n="";return n=Ia(n,e),n=Ia(n,t),(n=Ia(n,a)).trim()}function Aa(e){return e?Pa(e.givenName,e.familyName,e.suffix):""}var Ra=function(e){var t=Object(B.a)({},e),a=e.givenName,n=e.familyName,r=e.suffix;t.fullName=Pa(a,n,r);return["phoneNumbers","emails","addresses"].forEach((function(e){if(e in t){var a=t[e].filter((function(e){return""!==e.value.trim()})).map((function(e){var t=e.value.trim();return"type"in e?{id:e.id,value:t,type:e.type}:{id:e.id,value:t}}));a.length>0?t[e]=a:delete t[e]}})),t},Ta=a(242),Ma=a.n(Ta),La=a(257),Ba=a.n(La),Fa=function(e){return e&&/\d/.test(e)},Ua=function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){var e;return Object(De.a)(this,a),(e=t.call(this,"Patient data is invalid.")).fieldErrors=void 0,e.name="PatientValidationError",e.fieldErrors={},e}return Object(Se.a)(a,[{key:"count",get:function(){return Object.keys(this.fieldErrors).length}}]),a}(Object(Ze.a)(Error));function za(e){var t=new Ua;e.givenName||(t.fieldErrors.givenName="patient.errors.patientGivenNameFeedback"),function(e){if(!e)return!1;var t=new Date(Date.now()),a=Ma()(e);return gt()(a,t)}(e.dateOfBirth)&&(t.fieldErrors.dateOfBirth="patient.errors.patientDateOfBirthFeedback"),Fa(e.suffix)&&(t.fieldErrors.suffix="patient.errors.patientNumInSuffixFeedback"),Fa(e.prefix)&&(t.fieldErrors.prefix="patient.errors.patientNumInPrefixFeedback"),Fa(e.familyName)&&(t.fieldErrors.familyName="patient.errors.patientNumInFamilyNameFeedback"),Fa(e.preferredLanguage)&&(t.fieldErrors.preferredLanguage="patient.errors.patientNumInPreferredLanguageFeedback");var a,n,r=(null!==(a=e.emails)&&void 0!==a?a:[]).map((function(e){return Ba.a.isEmail(e.value)?void 0:"patient.errors.invalidEmail"})),i=(null!==(n=e.phoneNumbers)&&void 0!==n?n:[]).map((function(e){return Ba.a.isMobilePhone(e.value)?void 0:"patient.errors.invalidPhoneNumber"}));return r.some(Boolean)&&(t.fieldErrors.emails=r),i.some(Boolean)&&(t.fieldErrors.phoneNumbers=i),0===t.count?null:t}var Va={status:"loading",isUpdatedSuccessfully:!1,patient:{},relatedPersons:[],createError:void 0,updateError:void 0,relatedPersonError:void 0};function Wa(e){e.status="loading",e.createError={}}var Ka=Object(E.b)({name:"patient",initialState:Va,reducers:{createPatientStart:Wa,createPatientSuccess:function(e){e.status="completed"},createPatientError:function(e,t){var a=t.payload;e.status="error",e.createError=a},updatePatientStart:Wa,updatePatientSuccess:function(e,t){var a=t.payload;e.status="completed",e.patient=a},updatePatientError:function(e,t){var a=t.payload;e.status="error",e.updateError=a}}}),Ga=Ka.actions,Ha=Ga.createPatientStart,Za=Ga.createPatientSuccess,Qa=Ga.createPatientError,_a=Ga.updatePatientStart,Ya=Ga.updatePatientSuccess,$a=Ga.updatePatientError,Ja=function(e,t){return function(){var a=Object(M.a)(T.a.mark((function a(n){var r,i,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n(Ha()),r=Ra(e),i=za(r)){a.next=11;break}return a.next=6,ze.save(r);case 6:c=a.sent,n(Za()),t&&t(c),a.next=12;break;case 11:n(Qa(Object(B.a)(Object(B.a)({},i.fieldErrors),{},{message:"patient.errors.createPatientError"})));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Xa=function(e,t){return function(){var a=Object(M.a)(T.a.mark((function a(n){var r,i,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n(_a()),r=Ra(e),i=za(r)){a.next=11;break}return a.next=6,ze.saveOrUpdate(r);case 6:c=a.sent,n(Ya(c)),t&&t(c),a.next=12;break;case 11:n($a(Object(B.a)(Object(B.a)({},i.fieldErrors),{},{message:"patient.errors.updatePatientError"})));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},en=Ka.reducer,tn=function(){var e=I().t,t=Object(m.g)(),a=Object(o.b)(),i=Object(m.i)().id,c=Ot(i),u=c.data,d=c.status,p=Object(n.useState)({}),b=Object(l.a)(p,2),f=b[0],v=b[1],g=Object(o.c)((function(e){return e.patient})).updateError,h=D();Object(n.useEffect)((function(){var t;h("".concat(e("patients.editPatient"),": ").concat(Aa(u)," (").concat((t=u)?t.code:"",")"))})),x([{i18nKey:"patients.label",location:"/patients"},{text:Aa(u),location:"/patients/".concat(i)},{i18nKey:"patients.editPatient",location:"/patients/".concat(i,"/edit")}],!0),Object(n.useEffect)((function(){v(u||{})}),[u]);var E=function(a){t.push("/patients/".concat(a.id)),Object(s.C)("success",e("states.success"),"".concat(e("patients.successfullyUpdated")," ").concat(f.fullName))},y=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Xa(f,E));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"loading"===d?r.a.createElement(s.w,{color:"blue",loading:!0,size:[10,25],type:"ScaleLoader"}):r.a.createElement("div",null,r.a.createElement(Sa,{patient:f,isEditable:!0,onChange:function(e){v(e)},error:g}),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},r.a.createElement(s.e,{className:"btn-save mr-2",color:"success",onClick:y},e("patients.updatePatient")),r.a.createElement(s.e,{className:"btn-cancel",color:"danger",onClick:function(){t.push("/patients/".concat(f.id))}},e("actions.cancel")))))};function an(e,t){return e.givenName===t.givenName&&e.familyName===t.familyName&&e.sex===t.sex&&e.dateOfBirth===t.dateOfBirth}var nn=function(e){var t=I().t,a=e.duplicatePatient,n=e.show,i=e.toggle,c=e.onCloseButtonClick,o=e.onContinueButtonClick,u=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{color:"warning",title:t("patients.warning"),message:t("patients.duplicatePatientWarning")}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},t("patients.possibleDuplicatePatient"),void 0!==a&&Object.entries(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{key:a.toString()},r.a.createElement(d.b,{to:"/patients/".concat(n.id)},n.fullName))})))));return r.a.createElement(s.r,{show:n,toggle:i,title:t("patients.newPatient"),body:u,closeButton:{children:t("actions.cancel"),color:"danger",onClick:c},successButton:{children:t("actions.save"),color:"success",onClick:o}})},rn=[{i18nKey:"patients.label",location:"/patients"},{i18nKey:"patients.newPatient",location:"/patients/new"}],cn=function(){var e=I().t,t=Object(m.g)(),a=Object(o.b)(),i=Object(o.c)((function(e){return e.patient})).createError,c=Object(Object(o.c)((function(e){return e.patients}))).patients,u=Object(n.useState)({}),d=Object(l.a)(u,2),p=d[0],b=d[1],f=Object(n.useState)(void 0),v=Object(l.a)(f,2),g=v[0],h=v[1],E=Object(n.useState)(!1),y=Object(l.a)(E,2),O=y[0],w=y[1],j={givenName:"Kelly",familyName:"Clark",sex:"female",dateOfBirth:"1963-01-09T05:00:00.000Z"},k=D();Object(n.useEffect)((function(){k(e("patients.newPatient"))})),x(rn,!0);var N=function(a){t.push("/patients/".concat(a.id)),Object(s.C)("success",e("states.success"),"".concat(e("patients.successfullyCreated")," ").concat(a.fullName))},C=function(){w(!1)};return r.a.createElement("div",null,r.a.createElement(Sa,{patient:p,isEditable:!0,onChange:function(e){b(e)},error:i}),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mt-3 mr-3"},r.a.createElement(s.e,{className:"btn-save mr-2",color:"success",onClick:function(){var e=[];return void 0!==c&&(e=c.filter((function(e){return an(p,e)}))),e.length>0?(w(!0),h(e)):a(Ja(p,N)),[an(p,j)].length>0}},e("patients.createPatient")),r.a.createElement(s.e,{className:"btn-cancel",color:"danger",onClick:function(){t.push("/patients")}},e("actions.cancel")))),r.a.createElement(nn,{duplicatePatient:g,show:O,toggle:C,onContinueButtonClick:function(){a(Ja(p,N))},onCloseButtonClick:C}))},on=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),u=o[0],d=o[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Health Id registration"),r.a.createElement("div",{className:"row"},r.a.createElement(H,{type:"text",name:"healthId",placeholder:"Enter Health Id",isEditable:!0,isRequired:!0,value:a,onChange:function(e){return i(e.target.value)},label:"Health Id"})),r.a.createElement("div",{className:["row","flex-column"].join(" ")},["kyc","link","kyc_and_link"].map((function(e){return r.a.createElement("div",{className:"form-check",key:e},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"purpose",id:e,value:e.toUpperCase(),onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:e},e.toUpperCase()))}))),r.a.createElement(s.e,{onClick:function(){var e={requestId:Object(Pt.a)(),timestamp:(new Date).toISOString(),query:{id:a,purpose:u,requester:{type:"HIP",id:"innomed01"}}};console.log(e)}},"Submit"))},ln="WITH_HEALTH_ID",sn="WITHOUT_HEALTH_ID",un=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],i=t[1],c=null;return""===a?c=r.a.createElement("div",{className:"row justify-content-md-around"},r.a.createElement(s.e,{onClick:function(){return i(ln)}},"Using Health Id"),r.a.createElement(s.e,{onClick:function(){return i(sn)}},"Without Health Id")):a===ln?c=r.a.createElement(on,null):a===sn&&(c=r.a.createElement(cn,null)),c},dn=function(e){var t=e.onChange,a=I().t,i=Object(n.useState)(""),c=Object(l.a)(i,2),o=c[0],u=c[1],d=se(o,500);Object(n.useEffect)((function(){t({queryString:d})}),[d,t]);return r.a.createElement(s.B,{size:"lg",type:"text",onChange:function(e){var t=e.currentTarget.value;u(t)},value:o,placeholder:a("actions.search")})},mn=function(e){if(!e)return"";var t="string"===typeof e?new Date(e):e;return Number.isNaN(t.getTime())?"":ke()(t,"MM/dd/yyyy")};function pn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(M.a)(T.a.mark((function e(t,a){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.search(a.queryString);case 2:return n=e.sent,e.next=5,ze.count();case 5:return r=e.sent,e.abrupt("return",{totalCount:r,patients:n});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e){return Object($.c)(["patients",e],pn)}var vn=function(){var e=Object(m.g)(),t=I().t;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(s.m,{icon:"patients",outline:!1,size:"6x"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{textAlign:"center",width:"60%",margin:16}},r.a.createElement(s.F,{variant:"h5"},t("patients.noPatients")))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(s.e,{key:"newPatientButton",outlined:!0,color:"primary",icon:"patient-add",onClick:function(){return e.push("/patients/new")}},t("patients.newPatient")))))},gn=function(e){var t=e.searchRequest,a=I().t,n=Object(m.g)(),i=fn(t),c=i.data,o=i.status;return void 0===c||"loading"===o?r.a.createElement(Y,null):0===c.totalCount?r.a.createElement(vn,null):r.a.createElement(s.y,{data:c.patients,getID:function(e){return e.id},columns:[{label:a("patient.code"),key:"code"},{label:a("patient.givenName"),key:"givenName"},{label:a("patient.familyName"),key:"familyName"},{label:a("patient.sex"),key:"sex"},{label:a("patient.dateOfBirth"),key:"dateOfBirth",formatter:function(e){return mn(e.dateOfBirth)}}],actionsHeaderText:a("actions.label"),actions:[{label:a("actions.view"),action:function(e){return n.push("/patients/".concat(e.id))}}]})},hn=function(){var e=Object(n.useState)({queryString:""}),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useCallback)((function(e){i(e)}),[]);return r.a.createElement("div",null,r.a.createElement(s.j,null,r.a.createElement(s.u,null,r.a.createElement(s.i,{md:12},r.a.createElement(dn,{onChange:c}))),r.a.createElement(s.u,null,r.a.createElement(gn,{searchRequest:a}))))},En=[{i18nKey:"patients.label",location:"/patients"}],yn=function(){var e=I().t,t=Object(m.g)(),a=D();Object(n.useEffect)((function(){a(e("patients.label"))}));var i=Object(o.b)(),c=le();return x(En,!0),Object(n.useEffect)((function(){return c([r.a.createElement(s.e,{key:"newPatientButton",outlined:!0,color:"success",icon:"patient-add",onClick:function(){return t.push("/patients/new")}},e("patients.newPatient"))]),function(){c([])}}),[i,c,e,t]),r.a.createElement(hn,null)};function On(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:return n=e.sent,e.abrupt("return",n.allergies||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e){return Object($.c)(["allergies",e],On)}var kn=function(e){var t=e.patientId,a=Object(m.g)(),n=I().t,i=jn(t),c=i.data,o=i.status;return void 0===c||"loading"===o?r.a.createElement(Y,null):0===c.length?r.a.createElement(s.a,{color:"warning",title:n("patient.allergies.warning.noAllergies"),message:n("patient.allergies.addAllergyAbove")}):r.a.createElement(s.p,null,c.map((function(e){return r.a.createElement(s.q,{action:!0,key:e.id,onClick:function(){return a.push("/patients/".concat(t,"/allergies/").concat(e.id))}},e.name)})))};Error;function xn(e){var t={};return e.name||(t.nameError="patient.allergies.error.nameRequired"),t}function Nn(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(M.a)(T.a.mark((function e(t){var a,n,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=xn(t.allergy),!We()(a)){e.next=11;break}return e.next=4,ze.find(t.patientId);case 4:return n=e.sent,r=n.allergies?Object(h.a)(n.allergies):[],i=Object(B.a)({id:Object(Pt.a)()},t.allergy),r.push(i),e.next=10,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},n),{},{allergies:r}));case 10:return e.abrupt("return",r);case 11:throw a;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qn=function(e){var t=e.show,a=e.onCloseButtonClick,i=e.patientId,c=I().t,o=Object($.b)(Nn,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.setQueryData(["allergies",a.patientId],t);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),u=Object(l.a)(o,1)[0],d=Object(n.useState)({name:""}),m=Object(l.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(void 0),v=Object(l.a)(f,2),g=v[0],h=v[1];Object(n.useEffect)((function(){b({name:""})}),[t]);var E=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({patientId:i,allergy:p});case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),y=function(){a()},O=r.a.createElement(r.a.Fragment,null,g&&r.a.createElement(s.a,{color:"danger",title:c("states.error"),message:c("patient.allergies.error.unableToAdd")}),r.a.createElement("form",null,r.a.createElement(H,{name:"name",isRequired:!0,label:c("patient.allergies.allergyName"),isEditable:!0,placeholder:c("patient.allergies.allergyName"),value:p.name,onChange:function(e){var t=e.target.value;b((function(e){return Object(B.a)(Object(B.a)({},e),{},{name:t})}))},feedback:c((null===g||void 0===g?void 0:g.nameError)||""),isInvalid:!!(null===g||void 0===g?void 0:g.nameError)})));return r.a.createElement(s.r,{show:t,toggle:y,title:c("patient.allergies.new"),body:O,closeButton:{children:c("actions.cancel"),color:"danger",onClick:y},successButton:{children:c("patient.allergies.new"),color:"success",icon:"add",iconLocation:"left",onClick:E}})};function Dn(e,t,a){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(M.a)(T.a.mark((function e(t,a,n){var r,i,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:if(i=e.sent,c=null===(r=i.allergies)||void 0===r?void 0:r.find((function(e){return e.id===n}))){e.next=6;break}throw new Error("Allergy not found");case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var In=function(){var e=I().t,t=Object(m.i)(),a=t.allergyId,n=function(e,t){return Object($.c)(["allergies",e,t],Dn)}(t.id,a),i=n.data,c=n.status;return void 0===i||"loading"===c?r.a.createElement(Y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{name:"allergy",label:e("patient.allergies.allergyName"),isEditable:!1,placeholder:e("patient.allergies.allergyName"),value:i.name}))},Pn=function(e){var t=I().t,a=e.patient,i=Object(o.c)((function(e){return e.user})).permissions,c=Object(n.useState)(!1),u=Object(l.a)(c,2),d=u[0],p=u[1];return x([{i18nKey:"patient.allergies.label",location:"/patients/".concat(a.id,"/allergies")}]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},i.includes(we.AddAllergy)&&r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",onClick:function(){return p(!0)}},t("patient.allergies.new")))),r.a.createElement("br",null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/patients/:id/allergies"},r.a.createElement(kn,{patientId:a.id})),r.a.createElement(m.b,{exact:!0,path:"/patients/:id/allergies/:allergyId"},r.a.createElement(In,null))),r.a.createElement(qn,{patientId:a.id,show:d,onCloseButtonClick:function(){return p(!1)}}))};function An(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(M.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.getAppointments(a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tn,Mn,Ln=function(e){var t=e.patient,a=Object(m.g)(),n=I().t,i=t.id,c=function(e){return Object($.c)(["appointments",e],An)}(i),o=c.data,l=c.status;return x([{i18nKey:"scheduling.appointments.label",location:"/patients/".concat(i,"/appointments")}]),void 0===o||"loading"===l?r.a.createElement(Y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},r.a.createElement(s.e,{key:"newAppointmentButton",outlined:!0,color:"success",icon:"appointment-add",onClick:function(){return a.push({pathname:"/appointments/new",state:{patient:t}})}},n("scheduling.appointments.new")))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},o.length>0?r.a.createElement(s.y,{data:o,getID:function(e){return e.id},onRowClick:function(e){return a.push("/appointments/".concat(e.id))},columns:[{label:n("scheduling.appointment.startDate"),key:"startDateTime",formatter:function(e){return e.startDateTime?ke()(new Date(e.startDateTime),"yyyy-MM-dd, hh:mm a"):""}},{label:n("scheduling.appointment.endDate"),key:"endDateTime",formatter:function(e){return e.endDateTime?ke()(new Date(e.endDateTime),"yyyy-MM-dd, hh:mm a"):""}},{label:n("scheduling.appointment.location"),key:"location"},{label:n("scheduling.appointment.type"),key:"type"}],actionsHeaderText:n("actions.label"),actions:[{label:n("actions.view"),action:function(e){return a.push("/appointments/".concat(e.id))}}]}):r.a.createElement(s.a,{color:"warning",title:n("patient.appointments.warning.noAppointments"),message:n("patient.appointments.addAppointmentAbove")}))))},Bn=a(100),Fn=a.n(Bn);!function(e){e.Draft="draft",e.Active="active",e.OnHold="on hold",e.Revoked="revoked",e.Completed="completed",e.Unknown="unknown"}(Tn||(Tn={})),function(e){e.Proposal="proposal",e.Plan="plan",e.Order="order",e.Option="option"}(Mn||(Mn={}));var Un=a(136),zn=a.n(Un);Error;function Vn(e){var t={};return e.title||(t.title="patient.carePlan.error.titleRequired"),e.description||(t.description="patient.carePlan.error.descriptionRequired"),e.status||(t.status="patient.carePlan.error.statusRequired"),e.intent||(t.intent="patient.carePlan.error.intentRequired"),e.startDate||(t.startDate="patient.carePlan.error.startDateRequired"),e.endDate||(t.endDate="patient.carePlan.error.endDateRequired"),e.startDate&&e.endDate&&zn()(new Date(e.endDate),new Date(e.startDate))&&(t.endDate="patient.carePlan.error.endDateMustBeAfterStartDate"),t}function Wn(e){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(M.a)(T.a.mark((function e(t){var a,n,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Vn(t.carePlan),!We()(a)){e.next=11;break}return e.next=4,ze.find(t.patientId);case 4:return n=e.sent,r=n.carePlans?Object(h.a)(n.carePlans):[],i=Object(B.a)({id:Object(Pt.a)(),createdOn:new Date(Date.now()).toISOString()},t.carePlan),r.push(i),e.next=10,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},n),{},{carePlans:r}));case 10:return e.abrupt("return",r);case 11:throw a.message="patient.carePlan.error.unableToAdd",a;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gn=function(e){var t=I().t,a=e.carePlan,i=e.carePlanError,c=e.disabled,o=e.onChange,u=Object(n.useState)(a.status),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(a.intent),f=Object(l.a)(b,2),v=f[0],g=f[1],h=function(e,t){if(o){var n=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));o(n)}},E=Object.values(Tn).map((function(e){return{label:e,value:e}})),y=Object.values(Mn).map((function(e){return{label:e,value:e}}));return r.a.createElement("form",{"aria-label":"form"},(null===i||void 0===i?void 0:i.message)&&r.a.createElement(s.a,{color:"danger",message:t(i.message)}),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(H,{isRequired:!0,value:a.title,label:t("patient.carePlan.title"),name:"title",feedback:t((null===i||void 0===i?void 0:i.title)||""),isInvalid:!!(null===i||void 0===i?void 0:i.title),isEditable:!c,onChange:function(e){return h("title",e.currentTarget.value)}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(qe,{isRequired:!0,value:a.description,label:t("patient.carePlan.description"),name:"description",feedback:t((null===i||void 0===i?void 0:i.description)||""),isInvalid:!!(null===i||void 0===i?void 0:i.description),isEditable:!c,onChange:function(e){return h("description",e.currentTarget.value)}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:6},r.a.createElement(Ne,{name:"status",label:t("patient.carePlan.status"),isRequired:!0,options:E,defaultSelected:E.filter((function(e){return e.value===m})),onChange:function(e){h("status",e[0]),p(e[0])},isEditable:!c,isInvalid:!!(null===i||void 0===i?void 0:i.status)})),r.a.createElement(s.i,{sm:6},r.a.createElement(Ne,{name:"intent",label:t("patient.carePlan.intent"),isRequired:!0,options:y,defaultSelected:y.filter((function(e){return e.value===v})),onChange:function(e){h("intent",e[0]),g(e[0])},isEditable:!c,isInvalid:!!(null===i||void 0===i?void 0:i.intent)}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:6},r.a.createElement(Na,{isRequired:!0,value:a.startDate?new Date(a.startDate):new Date,label:t("patient.carePlan.startDate"),name:"startDate",feedback:t((null===i||void 0===i?void 0:i.startDate)||""),isInvalid:!!(null===i||void 0===i?void 0:i.startDate),isEditable:!c,onChange:function(e){return h("startDate",e.toISOString())}})),r.a.createElement(s.i,{sm:6},r.a.createElement(Na,{isRequired:!0,value:a.endDate?new Date(a.endDate):new Date,label:t("patient.carePlan.endDate"),name:"endDate",feedback:t((null===i||void 0===i?void 0:i.endDate)||""),isInvalid:!!(null===i||void 0===i?void 0:i.endDate),isEditable:!c,onChange:function(e){return h("endDate",e.toISOString())}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(qe,{value:a.note,label:t("patient.carePlan.note"),name:"note",feedback:null===i||void 0===i?void 0:i.note,isInvalid:!!(null===i||void 0===i?void 0:i.note),isEditable:!c,onChange:function(e){return h("note",e.currentTarget.value)}}))))};Gn.defaultProps={disabled:!1};var Hn=Gn,Zn={title:"",description:"",startDate:(new Date).toISOString(),endDate:Fn()(new Date,1).toISOString(),note:"",status:Tn.Active,intent:Mn.Plan},Qn=function(e){var t=e.show,a=e.onCloseButtonClick,i=e.patient,c=I().t,o=Object($.b)(Wn,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.setQueryData(["care-plans",a.patientId],t);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),u=Object(l.a)(o,1)[0],d=Object(n.useState)(Zn),m=Object(l.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(void 0),v=Object(l.a)(f,2),g=v[0],h=v[1];Object(n.useEffect)((function(){b(Zn)}),[t]);var E=function(){a()},y=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({patientId:i.id,carePlan:p});case 3:E(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),O=r.a.createElement(Hn,{carePlan:p,carePlanError:g,onChange:function(e){b(e)}});return r.a.createElement(s.r,{show:t,toggle:E,title:c("patient.carePlan.new"),body:O,closeButton:{children:c("actions.cancel"),color:"danger",onClick:E},successButton:{children:c("patient.carePlan.new"),color:"success",icon:"add",iconLocation:"left",onClick:y}})};function _n(e,t,a){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(M.a)(T.a.mark((function e(t,a,n){var r,i,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:if(i=e.sent,c=null===(r=i.carePlans)||void 0===r?void 0:r.find((function(e){return e.id===n}))){e.next=6;break}throw new Error("Care Plan not found");case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $n=function(){var e=Object(m.i)(),t=e.carePlanId,a=e.id,n=Ot(a),i=n.data,c=n.status,o=function(e,t){return Object($.c)(["care-plans",e,t],_n)}(a,t),l=o.data,s=o.status;return void 0===i||void 0===l||"loading"===c||"loading"===s?r.a.createElement(Y,null):l?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,l.title),r.a.createElement(Hn,{carePlan:l,disabled:!0})):r.a.createElement(r.a.Fragment,null)};function Jn(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:return n=e.sent,e.abrupt("return",n.carePlans||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var er=function(e){var t=e.patientId,a=Object(m.g)(),n=I().t,i=function(e){return Object($.c)(["care-plans",e],Jn)}(t),c=i.data,o=i.status;return void 0===c||"loading"===o?r.a.createElement(Y,null):0===c.length?r.a.createElement(s.a,{color:"warning",title:n("patient.carePlans.warning.noCarePlans"),message:n("patient.carePlans.warning.addCarePlanAbove")}):r.a.createElement(s.y,{getID:function(e){return e.id},data:c,columns:[{label:n("patient.carePlan.title"),key:"title"},{label:n("patient.carePlan.startDate"),key:"startDate",formatter:function(e){return ke()(new Date(e.startDate),"yyyy-MM-dd")}},{label:n("patient.carePlan.endDate"),key:"endDate",formatter:function(e){return ke()(new Date(e.endDate),"yyyy-MM-dd")}},{label:n("patient.carePlan.status"),key:"status"}],actionsHeaderText:n("actions.label"),actions:[{label:n("actions.view"),action:function(e){return a.push("/patients/".concat(t,"/care-plans/").concat(e.id))}}]})},tr=function(){var e=Object(m.i)().id;return r.a.createElement(er,{patientId:e})},ar=function(){var e=Object(m.i)().id,t=I().t,a=Object(o.c)((function(e){return e.user})).permissions,i=Ot(e),c=i.data,u=i.status,d=Object(n.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1];return void 0===c||"loading"===u?r.a.createElement(Y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},a.includes(we.AddCarePlan)&&r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",onClick:function(){return f(!0)}},t("patient.carePlan.new")))),r.a.createElement("br",null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/patients/:id/care-plans"},r.a.createElement(tr,null)),r.a.createElement(m.b,{exact:!0,path:"/patients/:id/care-plans/:carePlanId"},r.a.createElement($n,null))),r.a.createElement(Qn,{patient:c,show:b,onCloseButtonClick:function(){return f(!1)}}))},nr=function(e){var t=e.patient,a=I().t,i=Object(o.c)((function(e){return e.user})).permissions,c=Object(n.useState)(!1),u=Object(l.a)(c,2),d=u[0],m=u[1];return x([{i18nKey:"patient.diagnoses.label",location:"/patients/".concat(t.id,"/diagnoses")}]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},i.includes(we.AddDiagnosis)&&r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",onClick:function(){return m(!0)}},a("patient.diagnoses.new")))),r.a.createElement("br",null),r.a.createElement("strong",null,"DiagnosesList was here"),d?r.a.createElement("h1",null,"Diagnosis Modal was here"):null)};function rr(e,t){return ir.apply(this,arguments)}function ir(){return(ir=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.getLabs(a);case 2:return n=e.sent,e.abrupt("return",n||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cr=function(e){var t,a=e.patient,n=Object(m.g)(),i=I().t,c=(t=a.id,Object($.c)(["labs",t],rr)),o=c.data,l=c.status;return void 0===o||"loading"===l?r.a.createElement(Y,null):0===o.length?r.a.createElement(s.a,{color:"warning",title:i("patient.labs.warning.noLabs"),message:i("patient.labs.noLabsMessage")}):r.a.createElement(s.y,{actionsHeaderText:i("actions.label"),getID:function(e){return e.id},data:o,columns:[{label:i("labs.lab.type"),key:"type"},{label:i("labs.lab.requestedOn"),key:"requestedOn",formatter:function(e){return ke()(new Date(e.requestedOn),"yyyy-MM-dd hh:mm a")}},{label:i("labs.lab.status"),key:"status"}],actions:[{label:i("actions.view"),action:function(e){return n.push("/labs/".concat(e.id))}}]})},or=function(e){var t=e.patient;return x([{i18nKey:"patient.labs.label",location:"/patients/".concat(t.id,"/labs")}]),r.a.createElement(m.b,{exact:!0,path:"/patients/:id/labs"},r.a.createElement(cr,{patient:t}))};function lr(e,t){return sr.apply(this,arguments)}function sr(){return(sr=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.getMedications(a);case 2:return n=e.sent,e.abrupt("return",n||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ur=function(e){var t,a=e.patient,n=Object(m.g)(),i=I().t,c=(t=a.id,Object($.c)(["medications",t],lr)),o=c.data,l=c.status;return void 0===o||"loading"===l?r.a.createElement(Y,null):0===o.length?r.a.createElement(s.a,{color:"warning",title:i("patient.medications.warning.noMedications"),message:i("patient.medications.noMedicationsMessage")}):r.a.createElement(s.y,{actionsHeaderText:i("actions.label"),getID:function(e){return e.id},data:o,columns:[{label:i("medications.medication.medication"),key:"medication"},{label:i("medications.medication.priority"),key:"priority"},{label:i("medications.medication.intent"),key:"intent"},{label:i("medications.medication.requestedOn"),key:"requestedOn",formatter:function(e){return e.requestedOn?ke()(new Date(e.requestedOn),"yyyy-MM-dd hh:mm a"):""}},{label:i("medications.medication.status"),key:"status"}],actions:[{label:i("actions.view"),action:function(e){return n.push("/medications/".concat(e.id))}}]})},dr=function(e){var t=e.patient;return x([{i18nKey:"patient.medications.label",location:"/patients/".concat(t.id,"/medications")}]),r.a.createElement(m.b,{exact:!0,path:"/patients/:id/medications"},r.a.createElement(ur,{patient:t}))};Error;function mr(e){var t={};return e.text||(t.noteError="patient.notes.error.noteRequired"),t}function pr(e){return br.apply(this,arguments)}function br(){return(br=Object(M.a)(T.a.mark((function e(t){var a,n,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=mr(t.note),!We()(a)){e.next=11;break}return e.next=4,ze.find(t.patientId);case 4:return n=e.sent,r=n.notes?Object(h.a)(n.notes):[],i=Object(B.a)({id:Object(Pt.a)()},t.note),r.push(i),e.next=10,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},n),{},{notes:r}));case 10:return e.abrupt("return",r);case 11:throw a;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fr={text:"",date:(new Date).toISOString()},vr=function(e){var t=e.show,a=e.toggle,i=e.onCloseButtonClick,c=e.patientId,o=I().t,u=Object($.b)(pr,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.setQueryData(["notes",a.patientId],t);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),d=Object(l.a)(u,1)[0],m=Object(n.useState)(void 0),p=Object(l.a)(m,2),b=p[0],f=p[1],v=Object(n.useState)(fr),g=Object(l.a)(v,2),h=g[0],E=g[1],y=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d({patientId:c,note:h});case 3:E(fr),i(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=r.a.createElement("form",null,b&&r.a.createElement(s.a,{color:"danger",title:o("states.error"),message:o("patient.notes.error.unableToAdd")}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(qe,{isEditable:!0,isRequired:!0,name:"noteTextField",label:o("patient.note"),value:h.text,isInvalid:!!(null===b||void 0===b?void 0:b.noteError),feedback:o((null===b||void 0===b?void 0:b.noteError)||""),onChange:function(e){var t=e.currentTarget.value;E(Object(B.a)(Object(B.a)({},h),{},{text:t}))}})))));return r.a.createElement(s.r,{show:t,toggle:a,title:o("patient.notes.new"),body:O,closeButton:{children:o("actions.cancel"),color:"danger",onClick:i},successButton:{children:o("patient.notes.new"),color:"success",icon:"add",iconLocation:"left",onClick:y}})};function gr(e,t){return hr.apply(this,arguments)}function hr(){return(hr=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:return n=e.sent,e.abrupt("return",n.notes||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Er=function(e){var t=e.patientId,a=Object(m.g)(),n=I().t,i=function(e){return Object($.c)(["notes",e],gr)}(t),c=i.data,o=i.status;return void 0===c||"loading"===o?r.a.createElement(Y,null):0===c.length?r.a.createElement(s.a,{color:"warning",title:n("patient.notes.warning.noNotes"),message:n("patient.notes.addNoteAbove")}):r.a.createElement(s.p,null,c.map((function(e){return r.a.createElement(s.q,{action:!0,key:e.id,onClick:function(){return a.push("/patients/".concat(t,"/notes/").concat(e.id))}},r.a.createElement("p",{className:"ref__note-item-date"},new Date(e.date).toLocaleString()),r.a.createElement("p",{role:"listitem",className:"ref__note-item-text"},e.text))})))};function yr(e,t,a){return Or.apply(this,arguments)}function Or(){return(Or=Object(M.a)(T.a.mark((function e(t,a,n){var r,i,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:if(i=e.sent,c=null===(r=i.notes)||void 0===r?void 0:r.find((function(e){return e.id===n}))){e.next=6;break}throw new Error("Note not found");case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wr=function(){var e=I().t,t=Object(m.i)(),a=t.noteId,n=function(e,t){return Object($.c)(["notes",e,t],yr)}(t.id,a),i=n.data,c=n.status;return void 0===i||"loading"===c?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("p",null,"Date: ",new Date(i.date).toLocaleString()),r.a.createElement(H,{name:"text",label:e("patient.note"),isEditable:!1,placeholder:e("patient.note"),value:i.text}))},jr=function(e){var t=e.patient,a=I().t,i=Object(o.c)((function(e){return e.user})).permissions,c=Object(n.useState)(!1),u=Object(l.a)(c,2),d=u[0],p=u[1];x([{i18nKey:"patient.notes.label",location:"/patients/".concat(t.id,"/notes")}]);var b=function(){p(!1)};return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},i.includes(we.WritePatients)&&r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",onClick:function(){p(!0)}},a("patient.notes.new")))),r.a.createElement("br",null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/patients/:id/notes"},r.a.createElement(Er,{patientId:t.id})),r.a.createElement(m.b,{exact:!0,path:"/patients/:id/notes/:noteId"},r.a.createElement(wr,null))),r.a.createElement(vr,{show:d,toggle:b,onCloseButtonClick:b,patientId:t.id}))};function kr(e,t){return xr.apply(this,arguments)}function xr(){return(xr=Object(M.a)(T.a.mark((function e(t,a){var n,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:return n=e.sent,r=n.relatedPersons||[],e.next=6,Promise.all(r.map(function(){var e=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(t.patientId);case 2:return a=e.sent,e.abrupt("return",Object(B.a)(Object(B.a)({},a),{},{type:t.type}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(M.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(t.patientId);case 2:return a=e.sent,n=a.relatedPersons?a.relatedPersons.filter((function(e){return e.patientId!==t.relatedPersonId})):[],e.next=6,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},a),{},{relatedPersons:n}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Error;function qr(e){var t={};return e.patientId||(t.relatedPersonError="patient.relatedPersons.error.relatedPersonRequired"),e.type||(t.relationshipTypeError="patient.relatedPersons.error.relationshipTypeRequired"),t}function Dr(e){return Sr.apply(this,arguments)}function Sr(){return(Sr=Object(M.a)(T.a.mark((function e(t){var a,n,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=qr(t.relatedPerson),!We()(a)){e.next=11;break}return e.next=4,ze.find(t.patientId);case 4:return n=e.sent,r=n.relatedPersons?Object(h.a)(n.relatedPersons):[],i=Object(B.a)({id:Object(Pt.a)()},t.relatedPerson),r.push(i),e.next=10,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},n),{},{relatedPersons:r}));case 10:return e.abrupt("return",r);case 11:throw a;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ir,Pr,Ar,Rr,Tr=function(e){var t=I().t,a=e.patientId,i=e.show,c=e.toggle,o=e.onCloseButtonClick,u=Object(n.useState)({patientId:"",type:""}),d=Object(l.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(""),f=Object(l.a)(b,2),v=f[0],g=f[1],E=fn({queryString:v}),y=E.data,O=E.status,w=[];void 0!==y&&"loading"!==O&&(w=y.patients.filter((function(e){return e.id!==a})));var j=Object($.b)(Dr,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(t.patientId);case 2:return a=e.sent,e.abrupt("return",Object(B.a)(Object(B.a)({},a),{},{type:t.type}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.next=5,$.a.setQueryData(["related-persons",a.patientId],n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),k=Object(l.a)(j,1)[0],x=Object(n.useState)(void 0),N=Object(l.a)(x,2),C=N[0],q=N[1],D=function(e,t){var a,n;a=t,n=e.target.value,p(Object(B.a)(Object(B.a)({},m),{},Object(L.a)({},a,n)))},S=function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),e.abrupt("return",Object(h.a)(w));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({patientId:a,relatedPerson:m});case 3:o(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),q(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),A=r.a.createElement("form",null,C&&r.a.createElement(s.a,{color:"danger",title:t("states.error"),message:t("patient.relatedPersons.error.unableToAddRelatedPerson")}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(s.n,{text:t("patient.relatedPerson"),htmlFor:"relatedPersonTypeAhead",isRequired:!0}),r.a.createElement(s.E,{id:"relatedPersonTypeAhead",searchAccessor:"fullName",placeholder:t("patient.relatedPerson"),onChange:function(e){e.length>0&&p(Object(B.a)(Object(B.a)({},m),{},{patientId:e[0].id}))},isInvalid:!!(null===C||void 0===C?void 0:C.relatedPersonError),onSearch:S,renderMenuItemChildren:function(e){return r.a.createElement("div",null,"".concat(e.fullName," - ").concat((t=e.dateOfBirth,t?ke()(new Date(t),"yyyy-MM-dd"):"")," (").concat(e.code,")"));var t}}),(null===C||void 0===C?void 0:C.relatedPersonError)&&r.a.createElement("div",{className:"text-left ml-3 mt-1 text-small text-danger invalid-feedback d-block related-person-feedback"},t(null===C||void 0===C?void 0:C.relatedPersonError))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(H,{name:"type",label:t("patient.relatedPersons.relationshipType"),value:m.type,isEditable:!0,isInvalid:!!(null===C||void 0===C?void 0:C.relationshipTypeError),feedback:t(null===C||void 0===C?void 0:C.relationshipTypeError),isRequired:!0,onChange:function(e){D(e,"type")}}))));return r.a.createElement(s.r,{show:i,toggle:c,title:t("patient.relatedPersons.add"),body:A,closeButton:{children:t("actions.cancel"),color:"danger",onClick:o},successButton:{children:t("patient.relatedPersons.add"),color:"success",icon:"add",iconLocation:"left",onClick:P}})},Mr=function(e){var t=Object(m.g)(),a=e.patient,i=I().t,c=Object(o.c)((function(e){return e.user})).permissions,u=Object(n.useState)(!1),d=Object(l.a)(u,2),p=d[0],b=d[1],f=Object($.b)(Nr,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(t.patientId);case 2:return a=e.sent,e.abrupt("return",Object(B.a)(Object(B.a)({},a),{},{type:t.type}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.next=5,$.a.setQueryData(["related-persons",a.patientId],n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),v=Object(l.a)(f,1)[0];x([{i18nKey:"patient.relatedPersons.label",location:"/patients/".concat(a.id,"/relatedpersons")}]);var g,h=(g=a.id,Object($.c)(["related-persons",g],kr)).data,E=function(){b(!1)};return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},c.includes(we.WritePatients)&&r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",onClick:function(){b(!0)}},i("patient.relatedPersons.add")))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},h?h.length>0?r.a.createElement(s.y,{getID:function(e){return e.id},data:h,columns:[{label:i("patient.givenName"),key:"givenName"},{label:i("patient.familyName"),key:"familyName"},{label:i("patient.relatedPersons.relationshipType"),key:"type"}],actionsHeaderText:i("actions.label"),actions:[{label:i("actions.view"),action:function(e){return a="/patients/".concat(e.id),void t.push(a);var a}},{label:i("actions.delete"),action:function(e){return t=e,void v({patientId:a.id,relatedPersonId:t.id});var t},buttonColor:"danger"}]}):r.a.createElement(s.a,{color:"warning",title:i("patient.relatedPersons.warning.noRelatedPersons"),message:i("patient.relatedPersons.addRelatedPersonAbove")}):r.a.createElement(s.w,{color:"blue",loading:!0,size:[10,25],type:"ScaleLoader"}))),r.a.createElement(Tr,{patientId:a.id,show:p,toggle:E,onCloseButtonClick:E}))};!function(e){e.Kilogram="kg",e.Pound="lb"}(Ir||(Ir={})),function(e){e.MillimetersOfMercury="mmHg",e.KiloPascal="kPa"}(Pr||(Pr={})),function(e){e.Celsius="C",e.Fahrenheit="F"}(Ar||(Ar={})),function(e){e.Active="active",e.Recurrence="recurrence",e.Relapse="relapse",e.Inactive="inactive",e.Remission="remission",e.Resolved="resolved"}(Rr||(Rr={}));var Lr=function(e){var t=e.disabled,a=e.diagnosis,i=e.diagnosisError,c=e.onSave,o=e.onCancel,u=Object(n.useState)(a.status),d=Object(l.a)(u,2),m=d[0],p=d[1],b=function(e,t){if(c){var n=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));c(n)}},f=Object.values(Rr).map((function(e){return{label:e,value:e}}));return r.a.createElement(g.a,{style:{marginBottom:"15px",padding:"15px"}},r.a.createElement(g.a.Body,null,r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(H,{label:"Diagnosis Name",name:"name",isRequired:!0,isEditable:!t,value:a.name||"",onChange:function(e){return b("name",e.target.value)},isInvalid:!!i.name,feedback:i.name})),r.a.createElement(s.i,null,r.a.createElement(Na,{label:"Diagnosis Date",name:"diagnosisDate",isRequired:!0,isEditable:!t,value:a.diagnosisDate?new Date(a.diagnosisDate):new Date,onChange:function(e){return b("diagnosisDate",e.toISOString())}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{md:6},r.a.createElement(Ne,{label:"Status",name:"status",options:f,isEditable:!t,placeholder:"Status",defaultSelected:f.filter((function(e){return e.value===m})),onChange:function(e){b("status",e[0]),p(e[0])}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(qe,{name:"note",label:"Note",isEditable:!t,value:a.note,onChange:function(e){return b("note",e.target.value)}}))),r.a.createElement(s.e,{color:"danger",onClick:o},"Cancel")))};Error;function Br(e){var t={};return e.startDateTime||(t.startDateTime="patient.visits.error.startDateRequired"),t}function Fr(e){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(M.a)(T.a.mark((function e(t){var a,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Br(t.visit),!We()(a)){e.next=10;break}return e.next=4,ze.find(t.patientId);case 4:return n=e.sent,(r=n.visits||[]).push(Object(B.a)(Object(B.a)({},t.visit),{},{createdAt:new Date(Date.now().valueOf()).toISOString()})),e.next=9,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},n),{},{visits:r}));case 9:return e.abrupt("return",r);case 10:throw a.message="patient.visits.error.unableToAdd",a;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zr={marginBottom:"15px",padding:"15px"},Vr={alignItems:"center"},Wr=function(e){var t=e.disabled,a=e.imagingTest,n=e.onSave,i=e.onDelete,c=function(e,t){if(n){var r=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));n(r)}};return r.a.createElement(g.a,{style:zr},r.a.createElement(s.u,{style:Vr},r.a.createElement(s.i,null,r.a.createElement(H,{label:"Name",isRequired:!0,name:"name",placeholder:"e.g. X-Ray",value:a.name,isEditable:!t,onChange:function(e){return c("name",e.target.value)}})),r.a.createElement(s.i,null,r.a.createElement(H,{label:"Description",name:"description",placeholder:"Description",value:a.description,isEditable:!t,onChange:function(e){return c("description",e.target.value)}})),r.a.createElement(s.e,{icon:"remove",onClick:i})))},Kr={marginBottom:"15px",padding:"15px"},Gr={alignItems:"center"},Hr=function(e){var t=e.disabled,a=e.labTest,n=e.onSave,i=e.onDelete,c=function(e,t){if(n){var r=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));n(r)}};return r.a.createElement(g.a,{style:Kr},r.a.createElement(s.u,{style:Gr},r.a.createElement(s.i,null,r.a.createElement(H,{label:"Test Name",isRequired:!0,name:"name",placeholder:"e.g. Blood Test",value:a.name,isEditable:!t,onChange:function(e){return c("name",e.target.value)}})),r.a.createElement(s.i,null,r.a.createElement(H,{label:"Description",name:"description",placeholder:"Description",value:a.description,isEditable:!t,onChange:function(e){return c("description",e.target.value)}})),r.a.createElement(s.e,{icon:"remove",onClick:i})))},Zr=function(e){var t=e.disabled,a=e.medicine,n=e.onCancel,i=e.onSave,c=function(e,t){if(i){var n=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));i(n)}};return r.a.createElement(g.a,{style:{marginBottom:"15px",padding:"15px"}},r.a.createElement(s.u,{style:{alignItems:"center"}},r.a.createElement(s.i,null,r.a.createElement(H,{label:"Type",isRequired:!0,name:"type",placeholder:"Type",value:a.type,isEditable:!t,onChange:function(e){return c("type",e.target.value)}})),r.a.createElement(s.i,{md:4},r.a.createElement(H,{label:"Name",isRequired:!0,name:"name",placeholder:"Medicine Name",value:a.name,isEditable:!t,onChange:function(e){return c("name",e.target.value)}})),r.a.createElement(s.i,null,r.a.createElement(H,{label:"Concentration",type:"number",name:"concentration",placeholder:"mg/ml",isEditable:!t,value:String(a.concentration),onChange:function(e){return c("concentration",e.target.value)}})),r.a.createElement(s.i,null,r.a.createElement(H,{label:"Dose",isRequired:!0,type:"number",name:"dose",placeholder:"Dose",isEditable:!t,value:String(a.dose),onChange:function(e){return c("dose",e.target.value)}})),r.a.createElement(s.i,null,r.a.createElement(H,{label:"Days",isRequired:!0,type:"number",name:"days",placeholder:"Days",isEditable:!t,value:String(a.days),onChange:function(e){return c("days",e.target.value)}})),r.a.createElement(s.i,null,r.a.createElement(H,{label:"Comment",name:"comment",placeholder:"Comment",isEditable:!t,value:a.comment,onChange:function(e){return c("comment",e.target.value)}})),r.a.createElement(s.e,{size:"small",icon:"remove",onClick:n})))};function Qr(e){var t={};return""===e.complaints&&(t.complaints="Patient Complaints are required"),t}function _r(e){var t={};return e.name||(t.name="Diagnosis name is required"),e.diagnosisDate||(t.diagnosisDate="Diagnosis date cannot be empty"),t}var Yr=a(69),$r=a(187),Jr={borderRadius:"0 .25em .25em 0",backgroundColor:"#e9ecef",border:"1px solid #ced4da",color:"#495057",outline:"none"},Xr=function(e){var t=e.append,a=e.type,n=e.placeholder,i=e.name,c=e.value,o=e.onChange,l=e.disabled,s=e.className,u=e.style,d=e.appendOptions,m=e.selectComponentValue,p=e.onSelectAppend;return r.a.createElement(Yr.a.Group,null,r.a.createElement($r.a,null,r.a.createElement(Yr.a.Control,{type:a,placeholder:n,name:i,value:c,onChange:o,disabled:l,style:u,className:s}),t&&r.a.createElement($r.a.Append,null,r.a.createElement("select",{style:Jr,value:null===m||void 0===m?void 0:m.value,onChange:p},null===d||void 0===d?void 0:d.map((function(e){return r.a.createElement("option",{key:e.label,value:e.value},e.label)}))))))};Xr.defaultProps={value:"",type:"text"};var ei,ti=Xr,ai=function(e){var t=e.condition,a=e.disabled,n=e.onChange,i=e.conditionError,c=function(e,a){if(n){var r={};r="complaints"===e||"weightUnit"===e||"bloodPressureUnit"===e||"temperatureUnit"===e?Object(B.a)(Object(B.a)({},t),{},Object(L.a)({},e,a)):Object(B.a)(Object(B.a)({},t),{},Object(L.a)({},e,Number(a))),n(r)}};return r.a.createElement(s.u,{style:{alignItems:"flex-end"}},r.a.createElement(s.i,{md:6},r.a.createElement(H,{name:"complaints",isRequired:!0,label:"Symptoms",placeholder:"Symptoms",value:t.complaints,isEditable:!a,onChange:function(e){return c("complaints",e.target.value)},isInvalid:i&&!!i.complaints,feedback:i&&i.complaints})),r.a.createElement(s.i,{md:2},r.a.createElement(ti,{name:"weight",type:"number",placeholder:"Weight",value:String(t.weight),onChange:function(e){c("weight",e.target.value)},append:!0,appendOptions:Object.values(Ir).map((function(e){return{label:e,value:e}})),onSelectAppend:function(e){return c("weightUnit",e.target.value)},selectComponentValue:Object.values(Ir).map((function(e){return{label:e,value:e}})).filter((function(e){return e.value===t.weightUnit}))[0]})),r.a.createElement(s.i,{md:2},r.a.createElement(ti,{name:"bloodPressure",type:"number",placeholder:"BP",value:String(t.bloodPressure),onChange:function(e){c("bloodPressure",e.target.value)},append:!0,appendOptions:Object.values(Pr).map((function(e){return{label:e,value:e}})),onSelectAppend:function(e){return c("bloodPressureUnit",e.target.value)},selectComponentValue:Object.values(Pr).map((function(e){return{label:e,value:e}})).filter((function(e){return e.value===t.bloodPressureUnit}))[0]})),r.a.createElement(s.i,{md:2},r.a.createElement(ti,{name:"temperature",type:"number",placeholder:"Temp.",value:String(t.temperature),onChange:function(e){c("temperature",e.target.value)},append:!0,appendOptions:Object.values(Ar).map((function(e){return{label:e,value:e}})),onSelectAppend:function(e){return c("temperatureUnit",e.target.value)},selectComponentValue:Object.values(Ar).map((function(e){return{label:e,value:e}})).filter((function(e){return e.value===t.temperatureUnit}))[0]})))},ni={backgroundColor:"#cecece"},ri=function(e){var t=e.disabled,a=e.patientId,i=e.onClose,c=Object(o.c)((function(e){return e.user.permissions})),u=Object(n.useState)({id:"",title:"Cancer Treatment",description:"Treatment of stage 2 cancer for Kabir Shrivastava",startDate:"2021-05-19",endDate:"",createdOn:"2021-05-19",note:""}),d=Object(l.a)(u,1)[0],m=Object(n.useState)(Object(Pt.a)()),p=Object(l.a)(m,1)[0],b=Object(n.useState)({complaints:"",weight:void 0,weightUnit:Ir.Kilogram,bloodPressure:void 0,bloodPressureUnit:Pr.MillimetersOfMercury,temperature:void 0,temperatureUnit:Ar.Fahrenheit}),f=Object(l.a)(b,2),v=f[0],g=f[1],E=Object(n.useState)(void 0),y=Object(l.a)(E,2),O=y[0],w=y[1],j=Object(n.useState)([]),k=Object(l.a)(j,2),x=k[0],N=k[1],C=Object(n.useState)([]),q=Object(l.a)(C,2),D=q[0],S=q[1],I=Object(n.useState)([]),P=Object(l.a)(I,2),A=P[0],R=P[1],L=Object(n.useState)([]),B=Object(l.a)(L,2),U=B[0],z=B[1],V=Object(n.useState)(""),W=Object(l.a)(V,2),K=W[0],G=W[1],Z=Object(n.useState)(""),Q=Object(l.a)(Z,2),_=Q[0],Y=Q[1],J=Object($.b)(Fr,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.setQueryData(["visits",a.patientId],t);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),X=Object(l.a)(J,1)[0],ee=function(e,t){N((function(a){var n=Object(h.a)(a);return n[e].diagnosisError=t,n}))},te=function(){var e=Object(M.a)(T.a.mark((function e(){var t,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qr(v),n=x.map((function(e,t){var a=_r(e.diagnosis);return ee(t,a),a})),console.log(n),!Object(F.isEmpty)(t)){e.next=16;break}return r={id:p,startDateTime:(new Date).toISOString(),endDateTime:(new Date).toISOString(),condition:v,diagnoses:x.map((function(e){return e.diagnosis})),medications:D,labTests:A,imagingTests:U,advice:K,followUp:_,updatedAt:(new Date).toISOString(),rev:""},e.prev=5,e.next=8,X({patientId:a,visit:r});case 8:i(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:e.next=17;break;case 16:w(t);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",null,r.a.createElement(s.j,{style:{border:"1px #1abc9c solid"}},r.a.createElement(s.u,{style:ni},r.a.createElement(s.i,null,r.a.createElement("div",null,r.a.createElement("strong",null,"Care Plan"),r.a.createElement("h6",null,d.title))),r.a.createElement(s.i,null,r.a.createElement("div",null,r.a.createElement("strong",null,"Care Goals"),r.a.createElement("h6",null,"Reduction of Growth"))),r.a.createElement(s.i,null,r.a.createElement("div",null,r.a.createElement("strong",null,"Related Persons"),r.a.createElement("h6",null,d.title)))),r.a.createElement(s.u,null,r.a.createElement(s.j,{style:{paddingTop:"15px",paddingBottom:"15px"}},r.a.createElement(s.t,{title:"Conditions",color:"primary"},r.a.createElement(ai,{condition:v,disabled:!!t,onChange:function(e){g(e)},conditionError:O})),r.a.createElement("br",null),c.includes(we.AddDiagnosis)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.t,{color:"primary",title:"Diagnoses"},x.map((function(e,t){return r.a.createElement(Lr,{key:"diagnosis-".concat(t),disabled:!1,diagnosis:e.diagnosis,diagnosisError:e.diagnosisError,onSave:function(e){!function(e,t){N((function(a){var n=Object(h.a)(a);return n[e].diagnosis=t,n}))}(t,e)},onCancel:function(){!function(e){N((function(t){var a=Object(h.a)(t);return a.splice(e,1),a}))}(t)}})})),r.a.createElement(s.e,{color:"outline-primary",onClick:function(){N((function(e){return[].concat(Object(h.a)(e),[{diagnosis:{id:Object(Pt.a)(),name:"",diagnosisDate:(new Date).toISOString(),visit:p},diagnosisError:{}}])}))}},"Add New Diagnosis")),r.a.createElement("br",null)),c.includes(we.AddMedicine)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.t,{color:"primary",title:"Medications"},D.map((function(e,t){return r.a.createElement(Zr,{key:"medicine-".concat(t),disabled:!1,medicine:e,onCancel:function(){return function(e){S((function(t){var a=Object(h.a)(t);return a.splice(e,1),a}))}(t)},onSave:function(e){!function(e,t){S((function(a){var n=Object(h.a)(a);return n[e]=t,n}))}(t,e)}})})),r.a.createElement(s.e,{color:"outline-primary",onClick:function(){S((function(e){return[].concat(Object(h.a)(e),[{id:Object(Pt.a)(),name:"",type:"",comment:"",dose:void 0,days:void 0,concentration:void 0,visitId:p,note:"",prescribedBy:""}])}))}},"Add New Medicine")),r.a.createElement("br",null)),r.a.createElement(s.u,null,r.a.createElement(s.i,null,c.includes(we.RequestLab)&&r.a.createElement(s.t,{color:"primary",title:"Lab Test"},A.map((function(e,t){return r.a.createElement(Hr,{key:"labTest-".concat(t),disabled:!1,labTest:e,onDelete:function(){return function(e){R((function(t){var a=Object(h.a)(t);return a.splice(e,1),a}))}(t)},onSave:function(e){return function(e,t){R((function(a){var n=Object(h.a)(a);return n[e]=t,n}))}(t,e)}})})),r.a.createElement(s.e,{color:"outline-primary",onClick:function(){R((function(e){return[].concat(Object(h.a)(e),[{id:Object(Pt.a)(),code:Object(Be.a)("L"),name:"",patientId:a,requestedOn:(new Date).toISOString(),requestedBy:"",status:"requested",visitId:p}])}))}},"Add New Lab Test"))),r.a.createElement(s.i,null,c.includes(we.RequestImaging)&&r.a.createElement(s.t,{color:"primary",title:"Imaging Test"},U.map((function(e,t){return r.a.createElement(Wr,{key:"imagingTest-".concat(t),disabled:!1,imagingTest:e,onDelete:function(){return function(e){z((function(t){var a=Object(h.a)(t);return a.splice(e,1),a}))}(t)},onSave:function(e){return function(e,t){z((function(a){var n=Object(h.a)(a);return n[e]=t,n}))}(t,e)}})})),r.a.createElement(s.e,{color:"outline-primary",onClick:function(){z((function(e){return[].concat(Object(h.a)(e),[{id:Object(Pt.a)(),name:"",code:Object(Be.a)("I"),patientId:a,visitId:p,requestedOn:(new Date).toISOString(),requestedBy:""}])}))}},"Add New Imaging Test")))),r.a.createElement("br",null),r.a.createElement(s.u,null,r.a.createElement(s.i,null,r.a.createElement(s.t,{color:"primary",title:"Advice"},r.a.createElement(H,{name:"advice",isEditable:!t,label:"Advice",value:K,onChange:function(e){return G(e.target.value)}}))),r.a.createElement(s.i,null,r.a.createElement(s.t,{color:"primary",title:"Next Follow Up"},r.a.createElement(Na,{label:"Choose Date",name:"follow",value:""!==_?new Date(_):new Date,isEditable:!t,onChange:function(e){Y(e.toISOString())}})))),r.a.createElement(s.u,{style:{justifyContent:"center"}},r.a.createElement(s.e,{color:"danger",style:{margin:"15px"},onClick:i},"Cancel"),r.a.createElement(s.e,{color:"success",style:{margin:"15px"},onClick:te},"Create Prescription"))))))};function ii(e){return ci.apply(this,arguments)}function ci(){return(ci=Object(M.a)(T.a.mark((function e(t){var a,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Br(t.visit),!We()(a)){e.next=10;break}return e.next=4,ze.find(t.patientId);case 4:return n=e.sent,(r=n.visits||[]).push(Object(B.a)({id:Object(Pt.a)(),createdAt:new Date(Date.now().valueOf()).toISOString()},t.visit)),e.next=9,ze.saveOrUpdate(Object(B.a)(Object(B.a)({},n),{},{visits:r}));case 9:return e.abrupt("return",r);case 10:throw a.message="patient.visits.error.unableToAdd",a;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.Planned="planned",e.Arrived="arrived",e.Triaged="triaged",e.InProgress="in progress",e.OnLeave="on leave",e.Finished="finished",e.Cancelled="cancelled"}(ei||(ei={}));var oi=function(e){var t=I().t,a=e.visit,i=e.visitError,c=e.disabled,o=e.onChange,u=Object(n.useState)(a.status),d=Object(l.a)(u,2),m=d[0],p=d[1],b=function(e,t){if(o){var n=Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e,t));o(n)}},f=Object.values(ei).map((function(e){return{label:e,value:e}}))||[];return r.a.createElement("form",{"aria-label":"visit form"},(null===i||void 0===i?void 0:i.message)&&r.a.createElement(s.a,{color:"danger",message:t(i.message)}),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:6},r.a.createElement(pt,{isRequired:!0,value:a.startDateTime?new Date(a.startDateTime):new Date,label:t("patient.visits.startDateTime"),name:"startDateTime",feedback:t((null===i||void 0===i?void 0:i.startDateTime)||""),isInvalid:!!(null===i||void 0===i?void 0:i.startDateTime),isEditable:!c,onChange:function(e){return b("startDateTime",e.toISOString())}})),r.a.createElement(s.i,{sm:6},r.a.createElement(pt,{isRequired:!0,value:a.endDateTime?new Date(a.endDateTime):new Date,label:t("patient.visits.endDateTime"),name:"endDateTime",feedback:t((null===i||void 0===i?void 0:i.endDateTime)||""),isInvalid:!!(null===i||void 0===i?void 0:i.endDateTime),isEditable:!c,onChange:function(e){return b("endDateTime",e.toISOString())}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(H,{isRequired:!0,value:a.type,label:t("patient.visits.type"),name:"type",feedback:t((null===i||void 0===i?void 0:i.type)||""),isInvalid:!!(null===i||void 0===i?void 0:i.type),isEditable:!c,onChange:function(e){return b("type",e.currentTarget.value)}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(Ne,{name:"status",label:t("patient.visits.status"),isRequired:!0,options:f,defaultSelected:f.filter((function(e){return e.value===m})),onChange:function(e){b("status",e[0]),p(e[0])},isEditable:!c,isInvalid:!!(null===i||void 0===i?void 0:i.status)}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(qe,{isRequired:!0,value:a.reason,label:t("patient.visits.reason"),name:"reason",feedback:null===i||void 0===i?void 0:i.reason,isInvalid:!!(null===i||void 0===i?void 0:i.reason),isEditable:!c,onChange:function(e){return b("reason",e.currentTarget.value)}}))),r.a.createElement(s.u,null,r.a.createElement(s.i,{sm:12},r.a.createElement(H,{isRequired:!0,value:a.location,label:t("patient.visits.location"),name:"location",feedback:t((null===i||void 0===i?void 0:i.location)||""),isInvalid:!!(null===i||void 0===i?void 0:i.location),isEditable:!c,onChange:function(e){return b("location",e.currentTarget.value)}}))))};oi.defaultProps={disabled:!1,onChange:function(e){return e},visitError:{}};var li=oi,si={startDateTime:(new Date).toISOString(),endDateTime:Fn()(new Date,1).toISOString(),updatedAt:"",type:"",status:"",reason:"",location:"",rev:""},ui=function(e){var t=e.show,a=e.onCloseButtonClick,i=e.patientId,c=I().t,o=Object($.b)(ii,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.setQueryData(["visits",a.patientId],t);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),throwOnError:!0}),u=Object(l.a)(o,1)[0],d=Object(n.useState)(si),m=Object(l.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(void 0),v=Object(l.a)(f,2),g=v[0],h=v[1];Object(n.useEffect)((function(){b(si)}),[t]);var E=function(){a()},y=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({patientId:i,visit:p});case 3:E(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),O=r.a.createElement(li,{visit:p,visitError:g,onChange:function(e){b(e)}});return r.a.createElement(s.r,{show:t,toggle:E,title:c("patient.visits.new"),body:O,closeButton:{children:c("actions.cancel"),color:"danger",onClick:E},successButton:{children:c("patient.visits.new"),color:"success",icon:"add",iconLocation:"left",onClick:y}})};function di(e,t,a){return mi.apply(this,arguments)}function mi(){return(mi=Object(M.a)(T.a.mark((function e(t,a,n){var r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:return r=e.sent,i=r.visits,e.abrupt("return",i.find((function(e){return e.id===n}))||void 0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pi=function(e){var t=function(e,t){return Object($.c)(["visits",e,t],di)}(e.patientId,Object(m.i)().visitId),a=t.data,n=t.status;return void 0===a||"loading"===n?r.a.createElement(Y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,a.reason),r.a.createElement("h1",null,"VisitForm here"))};function bi(e,t){return fi.apply(this,arguments)}function fi(){return(fi=Object(M.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(a);case 2:return n=e.sent,e.abrupt("return",n.visits||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vi=function(e){var t=e.patientId,a=Object(m.g)(),n=I().t,i=function(e){return Object($.c)(["visits",e],bi)}(t),c=i.data,o=i.status;return void 0===c||"loading"===o?r.a.createElement(Y,null):0===c.length?r.a.createElement(s.a,{color:"warning",title:n("patient.visits.warning.noVisits"),message:n("patient.visits.warning.addVisitAbove")}):(c.sort((function(e,t){return e.startDateTime<t.startDateTime?1:e.startDateTime>t.startDateTime?-1:0})),r.a.createElement(s.y,{getID:function(e){return e.id},data:c,columns:[{label:n("patient.visits.startDateTime"),key:"startDateTime",formatter:function(e){return ke()(new Date(e.startDateTime),"yyyy-MM-dd hh:mm a")}},{label:n("patient.visits.endDateTime"),key:"endDateTime",formatter:function(e){return ke()(new Date(e.endDateTime),"yyyy-MM-dd hh:mm a")}},{label:n("patient.visits.type"),key:"type"},{label:n("patient.visits.status"),key:"status"},{label:n("patient.visits.reason"),key:"reason"},{label:n("patient.visits.location"),key:"location"}],actionsHeaderText:n("actions.label"),actions:[{label:n("actions.view"),action:function(e){return a.push("/patients/".concat(t,"/visits/").concat(e.id))}}]}))},gi=function(e){var t=e.patientId,a=I().t,i=Object(o.c)((function(e){return e.user})).permissions,c=Object(n.useState)(!1),u=Object(l.a)(c,2),d=u[0],p=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-end"},i.includes(we.AddVisit)&&r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",onClick:function(){return p(!0)}},a("patient.visits.new")))),r.a.createElement("br",null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/patients/:id/visits"},r.a.createElement(vi,{patientId:t})),r.a.createElement(m.b,{exact:!0,path:"/patients/:id/visits/:visitId"},r.a.createElement(pi,{patientId:t}))),r.a.createElement(ui,{show:d,patientId:t,onCloseButtonClick:function(){return p(!1)}}))},hi=function(e){var t,a=e.patient,i=e.onAddVisit,c=I().t,u=Object(m.g)(),d=Object(o.c)((function(e){return e.user})).permissions,p=Object(n.useState)(!1),b=Object(l.a)(p,2),f=b[0],v=b[1],g=Object(n.useState)(!1),h=Object(l.a)(g,2),E=h[0],y=h[1],O=Object(n.useState)(!1),w=Object(l.a)(O,2),j=w[0],k=w[1],x=jn(a.id),N=x.data,C=x.status,q={display:"flex",flexDirection:"column",position:"relative",color:"black",fontSize:"small",textAlign:"center",justifyContent:"center",height:"100%"},D={height:"2.5rem"},S={display:"flex",flexDirection:"column",height:"100%"},P={fontSize:"small",height:"5.5rem",overflowX:"hidden",overflowY:"auto",scrollBehavior:"auto"};return r.a.createElement("div",null,r.a.createElement(s.u,{style:{minHeight:"3rem",marginBottom:"1rem",borderRadius:"10px",display:"flex",justifyContent:"space-between",maxWidth:"100%",marginRight:"0rem",marginLeft:"0rem",backgroundColor:"rgba(245,245,245,1)"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start"}},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",color:"black",textAlign:"left",justifyContent:"center",height:"100%"}},r.a.createElement("h3",null,a.fullName))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{style:q},r.a.createElement("strong",null,c("patient.code")),r.a.createElement("h6",null,(t=a)?t.code:""))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{style:q,className:"patient-sex"},r.a.createElement("strong",null,c("patient.sex")),r.a.createElement("h6",null,a.sex))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{style:q,className:"patient-dateOfBirth"},r.a.createElement("strong",null,c("patient.dateOfBirth")),r.a.createElement("h6",null,a.dateOfBirth?mn(a.dateOfBirth):c("patient.unknownDateOfBirth"))))),r.a.createElement("div",{className:"col d-flex justify-content-end align-items-center"},d.includes(we.AddVisit)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",style:D,onClick:function(){return k(!0)}},c("patient.visits.new")),r.a.createElement(s.e,{outlined:!0,color:"success",icon:"add",iconLocation:"left",style:D,onClick:i},"Add My Visit")))),r.a.createElement(s.u,{style:{minHeight:"3rem",marginBottom:"1rem"}},r.a.createElement("div",{className:"col allergies-section",style:S},r.a.createElement(s.F,{variant:"h5"},c("patient.allergies.label")),r.a.createElement("div",{className:"border border-primary",style:P},r.a.createElement(s.y,{tableClassName:"table table-hover table-sm m-0",onRowClick:function(){return u.push("/patients/".concat(a.id,"/allergies"))},getID:function(e){return e.id},columns:[{label:c("patient.allergies.allergyName"),key:"name"}],data:N&&"loading"!==C?N:[]})),d.includes(we.AddAllergy)&&r.a.createElement(s.e,{size:"small",color:"primary",icon:"add",iconLocation:"left",onClick:function(){return v(!0)}},c("patient.allergies.new"))),r.a.createElement("div",{className:"col carePlan-section",style:S},r.a.createElement(s.F,{variant:"h5"},c("patient.carePlan.label")),r.a.createElement("div",{className:"border border-primary",style:P},r.a.createElement(s.y,{tableClassName:"table table-hover table-sm m-0",onRowClick:function(e){return u.push("/patients/".concat(a.id,"/care-plans/").concat(e.id))},getID:function(e){return e.id},data:a.carePlans||[],columns:[{label:c("patient.carePlan.title"),key:"title"},{label:c("patient.carePlan.startDate"),key:"startDate",formatter:function(e){return mn(e.startDate)}},{label:c("patient.carePlan.endDate"),key:"endDate",formatter:function(e){return mn(e.endDate)}},{label:c("patient.carePlan.status"),key:"status"}]})),d.includes(we.AddCarePlan)&&r.a.createElement(s.e,{size:"small",color:"primary",icon:"add",iconLocation:"left",onClick:function(){return y(!0)}},c("patient.carePlan.new")))),r.a.createElement(qn,{show:f,onCloseButtonClick:function(){return v(!1)},patientId:a.id}),r.a.createElement(Qn,{show:E,onCloseButtonClick:function(){return y(!1)},patient:a}),r.a.createElement(ui,{show:j,onCloseButtonClick:function(){return k(!1)},patientId:a.id}))},Ei=Object(m.k)((function(){var e=I().t,t=Object(m.g)(),a=Object(m.h)(),i=Object(m.j)().path,c=le(),u=Object(m.i)().id,d=Object(o.c)((function(e){return e.user})).permissions,p=Ot(u),b=p.data,f=p.status,v=D();Object(n.useEffect)((function(){v(e("patient.label"))}),[v,e]),x([{i18nKey:"patients.label",location:"/patients"},{text:Aa(b),location:"/patients/".concat(u)}],!0);var g=Object(n.useState)(!1),h=Object(l.a)(g,2),E=h[0],y=h[1];if(Object(n.useEffect)((function(){var a=[];return d.includes(we.WritePatients)&&a.push(r.a.createElement(s.e,{key:"editPatientButton",color:"success",icon:"edit",outlined:!0,onClick:function(){t.push("/patients/edit/".concat(u))}},e("actions.edit"))),c(a),function(){c([])}}),[c,t,u,d,e]),"loading"===f||!b)return r.a.createElement(s.w,{color:"blue",loading:!0,size:[10,25],type:"ScaleLoader"});var O=null;return O=E?r.a.createElement(ri,{disabled:!1,patientId:u,onClose:function(){y(!1)}}):r.a.createElement("div",null,r.a.createElement(s.z,null,r.a.createElement(s.x,{active:a.pathname==="/patients/".concat(b.id),label:e("patient.generalInformation"),onClick:function(){return t.push("/patients/".concat(b.id))},icon:"patient",iconLocation:"left"}),r.a.createElement(s.x,{active:a.pathname==="/patients/".concat(b.id,"/relatedpersons"),label:e("patient.relatedPersons.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/relatedpersons"))}}),r.a.createElement(s.x,{active:a.pathname==="/patients/".concat(b.id,"/appointments"),label:e("scheduling.appointments.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/appointments"))}}),r.a.createElement(s.x,{active:a.pathname.startsWith("/patients/".concat(b.id,"/allergies")),label:e("patient.allergies.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/allergies"))}}),r.a.createElement(s.x,{active:a.pathname==="/patients/".concat(b.id,"/diagnoses"),label:e("patient.diagnoses.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/diagnoses"))}}),r.a.createElement(s.x,{active:a.pathname.startsWith("/patients/".concat(b.id,"/notes")),label:e("patient.notes.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/notes"))}}),r.a.createElement(s.x,{active:a.pathname==="/patients/".concat(b.id,"/medications"),label:e("patient.medications.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/medications"))}}),r.a.createElement(s.x,{active:a.pathname==="/patients/".concat(b.id,"/labs"),label:e("patient.labs.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/labs"))}}),r.a.createElement(s.x,{active:a.pathname.startsWith("/patients/".concat(b.id,"/care-plans")),label:e("patient.carePlan.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/care-plans"))}}),r.a.createElement(s.x,{active:a.pathname.startsWith("/patients/".concat(b.id,"/visits")),label:e("patient.visits.label"),onClick:function(){return t.push("/patients/".concat(b.id,"/visits"))}})),r.a.createElement(s.t,null,r.a.createElement(m.b,{exact:!0,path:i},r.a.createElement(Sa,{patient:b})),r.a.createElement(m.b,{exact:!0,path:"".concat(i,"/relatedpersons")},r.a.createElement(Mr,{patient:b})),r.a.createElement(m.b,{exact:!0,path:"".concat(i,"/appointments")},r.a.createElement(Ln,{patient:b})),r.a.createElement(m.b,{path:"".concat(i,"/allergies")},r.a.createElement(Pn,{patient:b})),r.a.createElement(m.b,{exact:!0,path:"".concat(i,"/diagnoses")},r.a.createElement(nr,{patient:b})),r.a.createElement(m.b,{exact:!0,path:"".concat(i,"/notes")},r.a.createElement(jr,{patient:b})),r.a.createElement(m.b,{exact:!0,path:"".concat(i,"/medications")},r.a.createElement(dr,{patient:b})),r.a.createElement(m.b,{exact:!0,path:"".concat(i,"/labs")},r.a.createElement(or,{patient:b})),r.a.createElement(m.b,{path:"".concat(i,"/care-plans")},r.a.createElement(ar,null)),r.a.createElement(m.b,{path:"".concat(i,"/visits")},r.a.createElement(gi,{patientId:b.id})))),r.a.createElement("div",null," ",r.a.createElement(hi,{patient:b,onAddVisit:function(){y((function(e){return!e}))}}),O)})),yi=function(){var e=Object(o.c)((function(e){return e.user.permissions}));return r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:e.includes(we.ReadPatients),exact:!0,path:"/patients",component:yn}),r.a.createElement(v,{isAuthenticated:e.includes(we.WritePatients),exact:!0,path:"/patients/new",component:un}),r.a.createElement(v,{isAuthenticated:e.includes(we.WritePatients)&&e.includes(we.ReadPatients),exact:!0,path:"/patients/edit/:id",component:tn}),r.a.createElement(v,{isAuthenticated:e.includes(we.ReadPatients),path:"/patients/:id",component:Ei}))},Oi=Le.a.getLocalDb(),wi=new(function(e){Object(Ae.a)(a,e);var t=Object(Re.a)(a);function a(){var e;return Object(De.a)(this,a),(e=t.call(this,"appointment",Oi)).db.createIndex({index:{fields:["data.patient","_id"]}}),e}return Object(Se.a)(a,[{key:"searchPatientAppointments",value:function(){var e=Object(M.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Ie.a)(Object(Pe.a)(a.prototype),"refreshRelationalDb",this).call(this),r=Me()(n),e.abrupt("return",Object(Ie.a)(Object(Pe.a)(a.prototype),"search",this).call(this,{selector:{$and:[{"data.patient":t},{$or:[{"data.location":{$regex:RegExp(r,"i")}},{"data.reason":{$regex:RegExp(r,"i")}},{"data.type":{$regex:RegExp(r,"i")}}]}]}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(Fe.a));function ji(e,t){return wi.find(t)}function ki(e){return Object($.c)(["appointment",e],ji)}Error;function xi(e){var t={};return e.patient||(t.patient="scheduling.appointment.errors.patientRequired"),zn()(new Date(e.endDateTime),new Date(e.startDateTime))&&(t.startDateTime="scheduling.appointment.errors.startDateMustBeBeforeEndDate"),t}function Ni(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wi.saveOrUpdate(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qi=function(e){var t=e.onFieldChange,a=e.appointment,n=e.patient,i=e.isEditable,c=e.error,o=I().t,l=function(e,a){return t&&t(a,e.toISOString())},u=[{label:o("scheduling.appointment.types.checkup"),value:"checkup"},{label:o("scheduling.appointment.types.emergency"),value:"emergency"},{label:o("scheduling.appointment.types.followUp"),value:"follow up"},{label:o("scheduling.appointment.types.routine"),value:"routine"},{label:o("scheduling.appointment.types.walkIn"),value:"walk in"}];return r.a.createElement(r.a.Fragment,null,(null===c||void 0===c?void 0:c.message)&&r.a.createElement(s.a,{className:"alert",color:"danger",message:o(null===c||void 0===c?void 0:c.message)}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement(s.n,{htmlFor:"patientTypeahead",isRequired:!0,text:o("scheduling.appointment.patient")}),r.a.createElement(s.E,{id:"patientTypeahead",disabled:!i||void 0!==n,value:null===n||void 0===n?void 0:n.fullName,placeholder:o("scheduling.appointment.patient"),onChange:function(e){return t&&e[0]&&t("patient",e[0].id)},onSearch:function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.search(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchAccessor:"fullName",renderMenuItemChildren:function(e){return r.a.createElement("div",null,"".concat(e.fullName," (").concat(e.code,")"))},isInvalid:!!(null===c||void 0===c?void 0:c.patient),feedback:o(null===c||void 0===c?void 0:c.patient)})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(pt,{name:"startDate",label:o("scheduling.appointment.startDate"),value:a.startDateTime&&a.startDateTime.length>0?new Date(a.startDateTime):void 0,isEditable:i,isInvalid:null===c||void 0===c?void 0:c.startDateTime,feedback:o(null===c||void 0===c?void 0:c.startDateTime),onChange:function(e){l(e,"startDateTime")}})),r.a.createElement("div",{className:"col"},r.a.createElement(pt,{name:"endDate",label:o("scheduling.appointment.endDate"),value:a.endDateTime&&a.endDateTime.length>0?new Date(a.endDateTime):void 0,isEditable:i,onChange:function(e){l(e,"endDateTime")}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(H,{name:"location",label:o("scheduling.appointment.location"),value:a.location,isEditable:i,onChange:function(e){!function(e,a){t&&t(a,e.target.value)}(e,"location")}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(Ne,{name:"type",label:o("scheduling.appointment.type"),options:u,defaultSelected:u.filter((function(e){return e.value===a.type})),onChange:function(e){return t&&t("type",e[0])},isEditable:i}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement(qe,{name:"reason",label:o("scheduling.appointment.reason"),value:a.reason,isEditable:i,onChange:function(e){return t&&t("reason",e.currentTarget.value)}})))))};qi.defaultProps={isEditable:!0};var Di=qi,Si={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};function Ii(e){return e.toLocaleString([],Si)}function Pi(e){if(!e)return"";var t=e.id,a=e.startDateTime,n=e.endDateTime;return a&&n?"".concat(Ii(new Date(a))," - ").concat(Ii(new Date(n))):t}var Ai=function(){var e=I().t,t=Object(m.i)().id,a=D();Object(n.useEffect)((function(){a(e("scheduling.appointments.editAppointment"))}),[a,e]);var i=Object(m.g)(),c=Object(n.useState)({}),o=Object(l.a)(c,2),u=o[0],d=o[1],p=ki(t),b=p.data,f=p.isLoading,v=function(e){var t=xi(e),a=Object($.b)(Ni,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.invalidateQueries("appointment");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),throwOnError:!0}),n=Object(l.a)(a,2),r=n[0],i=n[1];return{mutate:r,isLoading:i.isLoading,isError:i.isError,error:t}}(u),g=v.mutate,h=v.isLoading,E=v.isError,y=v.error,O=Ot(b?b.patient:t).data;x([{i18nKey:"scheduling.appointments.label",location:"/appointments"},{text:Pi(b),location:"/appointments/".concat(t)},{i18nKey:"scheduling.appointments.editAppointment",location:"/appointments/edit/".concat(t)}],!0),Object(n.useEffect)((function(){void 0!==b&&d(b)}),[b]);return f||h?r.a.createElement(s.w,{color:"blue",loading:!0,size:[10,25],type:"ScaleLoader"}):r.a.createElement("div",null,r.a.createElement(Di,{isEditable:!0,appointment:u,patient:O,onFieldChange:function(e,t){d(Object(B.a)(Object(B.a)({},u),{},Object(L.a)({},e,t)))},error:y}),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mr-3"},r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:function(){We()(y)&&!E&&g(u).then((function(){Object(s.C)("success",e("states.success"),e("scheduling.appointment.successfullyUpdated")),i.push("/appointments/".concat(u.id))}))}},e("scheduling.appointments.updateAppointment")),r.a.createElement(s.e,{color:"danger",onClick:function(){i.push("/appointments/".concat(u.id))}},e("actions.cancel")))))},Ri=a(173),Ti=a.n(Ri),Mi=a(447),Li=a.n(Mi);function Bi(e){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wi.save(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e){return xi(e)}var zi=[{i18nKey:"scheduling.appointments.label",location:"/appointments"},{i18nKey:"scheduling.appointments.new",location:"/appointments/new"}],Vi=function(){var e,t=I().t,a=Object(m.g)(),i=null===(e=Object(m.h)().state)||void 0===e?void 0:e.patient,c=D();Object(n.useEffect)((function(){c(t("scheduling.appointments.new"))})),x(zi,!0);var o=Li()(new Date,{nearestTo:15}),u=Ti()(o,60),d=Object(n.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],v=Object(n.useState)({}),g=Object(l.a)(v,2),h=g[0],E=g[1],y=Object(n.useState)({patient:i||"",startDateTime:o.toISOString(),endDateTime:u.toISOString(),location:"",reason:"",type:""}),O=Object(l.a)(y,2),w=O[0],j=O[1],k=function(){var e=Object($.b)(Bi,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.invalidateQueries("appointment");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),throwOnError:!0}),t=Object(l.a)(e,2),a=t[0],n=t[1];return{mutate:a,isLoading:n.isLoading,isError:n.isError,validator:Ui}}(),N=k.mutate,C=k.isLoading,q=k.isError,S=k.validator;if(Object(n.useEffect)((function(){b&&(We()(h)&&!q?N(w).then((function(e){Object(s.C)("success",t("states.success"),t("scheduling.appointment.successfullyCreated")),a.push("/appointments/".concat(null===e||void 0===e?void 0:e.id))})):We()(h)||(h.message="scheduling.appointment.errors.createAppointmentError")),f(!1)}),[b,h,q,N,w,t,a]),C)return r.a.createElement(s.w,{color:"blue",loading:!0,size:[10,25],type:"ScaleLoader"});return r.a.createElement("div",null,r.a.createElement("form",{"aria-label":"new appointment form"},r.a.createElement(Di,{appointment:w,patient:i,error:h,onFieldChange:function(e,t){j(Object(B.a)(Object(B.a)({},w),{},Object(L.a)({},e,t)))}}),r.a.createElement("div",{className:"row float-right"},r.a.createElement("div",{className:"btn-group btn-group-lg mr-3"},r.a.createElement(s.e,{className:"mr-2",color:"success",onClick:function(){f(!0),E(S(w))}},t("scheduling.appointments.createAppointment")),r.a.createElement(s.e,{color:"danger",onClick:function(){a.push("/appointments")}},t("actions.cancel"))))))};function Wi(e){return Ki.apply(this,arguments)}function Ki(){return(Ki=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wi.find(t.appointmentId);case 2:return a=e.sent,e.abrupt("return",wi.delete(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gi=function(){var e=I().t,t=D();Object(n.useEffect)((function(){t&&t(e("scheduling.appointments.viewAppointment"))}),[t,e]);var a=Object(m.i)().id,i=Object(m.g)(),c=Object($.b)(Wi,{onSuccess:function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.invalidateQueries("appointment");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),u=Object(l.a)(c,1)[0],d=Object(n.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],v=le(),g=Object(o.c)((function(e){return e.user})).permissions,h=ki(a).data,E=Ot(h?h.patient:a).data;x([{i18nKey:"scheduling.appointments.label",location:"/appointments"},{text:h?Pi(h):"",location:"/patients/".concat(a)}],!0);var y=function(e){e.preventDefault(),f(!0)},O=Object(n.useCallback)((function(){var t=[];return h&&g.includes(we.WriteAppointments)&&t.push(r.a.createElement(s.e,{key:"editAppointmentButton",color:"success",icon:"edit",outlined:!0,onClick:function(){i.push("/appointments/edit/".concat(h.id))}},e("actions.edit"))),g.includes(we.DeleteAppointment)&&t.push(r.a.createElement(s.e,{key:"deleteAppointmentButton",color:"danger",icon:"appointment-remove",onClick:y},e("scheduling.appointments.deleteAppointment"))),t}),[h,i,g,e]);return Object(n.useEffect)((function(){return v(O()),function(){v([])}}),[O,v]),r.a.createElement(r.a.Fragment,null,E&&h?r.a.createElement("div",null,r.a.createElement(Di,{appointment:h,isEditable:!1,patient:E}),r.a.createElement(s.r,{body:e("scheduling.appointment.deleteConfirmationMessage"),buttonsAlignment:"right",show:b,closeButton:{children:e("actions.delete"),color:"danger",onClick:function(){h&&(u({appointmentId:h.id}).then((function(){i.push("/appointments"),Object(s.C)("success",e("states.success"),e("scheduling.appointment.successfullyDeleted"))})),f(!1))}},title:e("actions.confirmDelete"),toggle:function(){return f(!1)}})):r.a.createElement(s.w,{type:"BarLoader",loading:!0}))};function Hi(){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(M.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wi.findAll();case 2:return t=e.sent,e.abrupt("return",t||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qi=[{i18nKey:"scheduling.appointments.label",location:"/appointments"}],_i=function(){var e=I().t,t=Object(m.g)(),a=D();Object(n.useEffect)((function(){a(e("scheduling.appointments.label"))}));var i=Object($.c)(["appointments"],Hi),c=i.data,o=i.isLoading,u=Object(n.useState)([]),d=Object(l.a)(u,2),p=d[0],b=d[1],f=le();return x(Qi,!0),Object(n.useEffect)((function(){return f([r.a.createElement(s.e,{key:"newAppointmentButton",outlined:!0,color:"success",icon:"appointment-add",onClick:function(){return t.push("/appointments/new")}},e("scheduling.appointments.new"))]),function(){f([])}}),[f,t,e]),Object(n.useEffect)((function(){return c&&!o&&c.map(function(){var e=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.find(t.patient);case 2:a=e.sent,b((function(e){return[].concat(Object(h.a)(e),[{id:t.id,start:new Date(t.startDateTime),end:new Date(t.endDateTime),title:a&&a.fullName?a.fullName:"",allDay:!1}])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){b([])}}),[c,o]),o||void 0===c?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement(s.f,{events:p,onEventClick:function(e){t.push("/appointments/".concat(e.id))}}))},Yi=function(){var e=Object(o.c)((function(e){return e.user.permissions}));return r.a.createElement(m.d,null,r.a.createElement(v,{isAuthenticated:e.includes(we.ReadAppointments),exact:!0,path:"/appointments",component:_i}),r.a.createElement(v,{isAuthenticated:e.includes(we.WriteAppointments),exact:!0,path:"/appointments/new",component:Vi}),r.a.createElement(v,{isAuthenticated:e.includes(we.WriteAppointments)&&e.includes(we.ReadAppointments),exact:!0,path:"/appointments/edit/:id",component:Ai}),r.a.createElement(v,{isAuthenticated:e.includes(we.ReadAppointments),exact:!0,path:"/appointments/:id",component:Gi}))},$i=a(448),Ji=a.n($i),Xi=a(258),ec=a(449),tc=a(144),ac=Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{edit:"\u062a\u0635\u062d\u064a\u062d",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",new:"\u0627\u0644\u062c\u062f\u064a\u062f",list:"\u0642\u0627\u0626\u0645\u0629"}}),{dashboard:{label:"\u0644\u0648\u062d\u0629 \u0627\u0644\u0642\u064a\u0627\u062f\u0629"}}),{patient:{firstName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644",lastName:"\u0627\u0644\u0643\u0646\u064a\u0629",medications:{label:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",new:"\u0623\u0636\u0641 \u062f\u0648\u0627\u0621 \u062c\u062f\u064a\u062f",warning:{noMedications:"\u0644\u0627 \u0623\u062f\u0648\u064a\u0629"},noMedicationsMessage:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a \u0623\u062f\u0648\u064a\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u0634\u062e\u0635."}}}),{patients:{label:"\u0627\u0644\u0645\u0631\u0636\u0649",viewPatients:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0631\u0636\u0649",noPatients:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0631\u0636\u0649 \u062d\u0627\u0644\u064a\u0627, \u0642\u0645 \u0628\u0627\u0646\u0634\u0627\u0621 \u0627\u0648\u0644 \u0645\u0631\u064a\u0636 \u062d\u0627\u0644\u0627 !",viewPatient:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0631\u064a\u0636",editPatient:"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0645\u0631\u064a\u0636",newPatient:"\u0645\u0631\u064a\u0636 \u062c\u062f\u064a\u062f"}}),{settings:{}}),{medications:{label:"\u0627\u0644\u0623\u062f\u0648\u064a\u0629",filterTitle:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u062d\u0627\u0644\u0629",search:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0623\u062f\u0648\u064a\u0629",status:{draft:"\u0645\u0634\u0631\u0648\u0639",active:"\u0646\u0634\u064a\u0637",onHold:"\u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",cancelled:"\u0623\u0644\u063a\u064a\u062a",completed:"\u0645\u0646\u062c\u0632",enteredInError:"\u062f\u062e\u0644\u062a \u062e\u0637\u0623",stopped:"\u062a\u0648\u0642\u0641\u062a",unknown:"\u0645\u062c\u0647\u0648\u0644"},intent:{proposal:"\u0627\u0642\u062a\u0631\u0627\u062d",plan:"\u062e\u0637\u0629",order:"\u0637\u0644\u0628",originalOrder:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0623\u0635\u0644\u064a",reflexOrder:"\u062a\u0631\u062a\u064a\u0628 \u0645\u0646\u0639\u0643\u0633",fillerOrder:"\u0637\u0644\u0628 \u062d\u0634\u0648",instanceOrder:"\u0623\u0645\u0631 \u0627\u0644\u0645\u062b\u064a\u0644",option:"\u0627\u062e\u062a\u064a\u0627\u0631"},priority:{routine:"\u0646\u0645\u0637",urgent:"\u0627\u0644\u0639\u0627\u062c\u0644\u0629",asap:"\u0641\u064a \u0627\u0633\u0631\u0639 \u0648\u0642\u062a \u0645\u0645\u0643\u0646",stat:"\u0633\u062a\u0627\u062a"},filter:{all:"\u0643\u0644 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"},requests:{label:"\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u064a\u0629",new:"\u0637\u0644\u0628 \u062f\u0648\u0627\u0621",view:"\u0645\u0634\u0627\u0647\u062f\u0629 \u0645\u0644\u0641 Medication",cancel:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062f\u0648\u0627\u0621",complete:"\u062f\u0648\u0627\u0621 \u0643\u0627\u0645\u0644",error:{unableToRequest:"\u062a\u0639\u0630\u0631 \u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u062f\u0648\u0627\u0621.",unableToComplete:"\u062a\u0639\u0630\u0631 \u0625\u0643\u0645\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u062f\u0648\u0627\u0621.",quantityRequired:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0645\u0637\u0644\u0648\u0628\u0629.",unitRequired:"\u0627\u0644\u0648\u062d\u062f\u0629 \u0645\u0637\u0644\u0648\u0628\u0629."}},medication:{medication:"\u062f\u0648\u0627\u0621",for:"\u0625\u0644\u0649 \u0639\u0646 \u0639\u0644\u0649",status:"\u0627\u0644\u062d\u0627\u0644\u0629",intent:"\u0646\u0648\u0627\u064a\u0627",priority:"\u0623\u0641\u0636\u0644\u064a\u0629",notes:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a",quantity:"\u0643\u0645\u064a\u0629",quantityValue:"\u0627\u0644\u0642\u064a\u0645\u0629",quantityUnit:"\u0648\u062d\u062f\u0629",requestedOn:"\u0637\u0644\u0628\u062a \u0641\u064a",requestedBy:"\u0628\u062a\u0648\u0635\u064a\u0629 \u0645\u0646",completedOn:"\u0627\u0643\u062a\u0645\u0644 \u0641\u064a",canceledOn:"\u062a\u0645 \u0627\u0644\u0625\u0644\u063a\u0627\u0621 \u0641\u064a",patient:"\u0635\u0628\u0648\u0631"}}}),nc=Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{label:"Aktionen",edit:"Bearbeiten",save:"Speichern",update:"Aktualisieren",complete:"Komplett",delete:"L\xf6schen",cancel:"Stornieren",new:"Neu",list:"Liste",search:"Suche",confirmDelete:"Best\xe4tigung der L\xf6schung"}}),{dashboard:{label:"Dashboard"}}),{patient:{code:"Patient Code",firstName:"Vorname",lastName:"Nachname",suffix:"Suffix",prefix:"Pr\xe4fix",givenName:"Rufname",familyName:"Familienname",dateOfBirth:"Geburtsdatum",approximateDateOfBirth:"Ungef\xe4hres Geburtsdatum",age:"Alter",approximateAge:"Ungef\xe4hres Alter",placeOfBirth:"Geburtsort",sex:"Geschlecht",phoneNumber:"Telefonnummer",email:"E-mail",address:"Addresse",occupation:"Beruf",type:"Patiententyp",preferredLanguage:"Bevorzugte Sprache",basicInformation:"Grundinformation",generalInformation:"Allgemeine Information",contactInformation:"Kontakt Information",unknownDateOfBirth:"Unbekannt",relatedPerson:"Verwandte Person",relatedPersons:{error:{unableToAddRelatedPerson:"Neue verwandte Person kann nicht hinzugef\xfcgt werden.",relatedPersonRequired:"Verwandte Person ist erforderlich.",relationshipTypeRequired:"Beziehungstyp ist erforderlich."},label:"Verwandte Personen",new:"Neue Verwandte Person",add:"Verwandte Person hinzuf\xfcgen",relationshipType:"Beziehungstyp",warning:{noRelatedPersons:"Keine verwandten Personen"},addRelatedPersonAbove:"F\xfcgen Sie \xfcber den Button oben eine verwandte Person hinzu."},appointments:{new:"Termin hinzuf\xfcgen"},allergies:{label:"Allergien",allergyName:"Name der Allergie",new:"Allergie hinzuf\xfcgen",error:{nameRequired:"Name ist erforderlich.",unableToAdd:"Allergie konnte nicht hinzugef\xfcgt werden."},warning:{noAllergies:"Keine Allergien"},addAllergyAbove:"F\xfcgen Sie \xfcber den Button oben eine Allergie hinzu.",successfullyAdded:"Erfolgreich eine neue Allergie hinzugef\xfcgt!"},diagnoses:{label:"Diagnosen",new:"Diagnose hinzuf\xfcgen",diagnosisName:"Name",diagnosisDate:"Datum",warning:{noDiagnoses:"Keine Diagnosen"},error:{nameRequired:"Name der Diagnose ist erforderlich.",dateRequired:"Diagnosedatum ist erforderlich.",unableToAdd:"Diagnose konnte nicht hinzugef\xfcgt werden."},addDiagnosisAbove:"F\xfcgen Sie \xfcber den Button oben eine Diagnose hinzu.",successfullyAdded:"Erfolgreich eine neue Diagnose hinzugef\xfcgt!"},note:"Notizen",notes:{label:"Notizen",new:"Neue Notiz hinzuf\xfcgen",warning:{noNotes:"Keine Notizen"},error:{noteRequired:"Notiz ist erforderlich.",unableToAdd:"Unable to add new note."},addNoteAbove:"F\xfcgen Sie \xfcber den Button oben eine Notiz hinzu."},labs:{label:"Labore",new:"Neues Labor hinzuf\xfcgen",warning:{noLabs:"Keine Labore"},noLabsMessage:"Keine Laboranfragen f\xfcr diese Person."},medications:{label:"Medications",new:"Neue Medikamente hinzuf\xfcgen",warning:{noMedications:"Keine Medikamente"},noMedicationsMessage:"Keine Medikamentenanfragen f\xfcr diese Person."},types:{charity:"Charity",private:"Privat"},errors:{createPatientError:"Neuer Patient konnte nicht erstellt werden.",updatePatientError:"Patient konnte nicht aktualisiert werden.",patientGivenNameFeedback:"Rufname ist erforderlich.",patientDateOfBirthFeedback:"Das Geburtsdatum kann nicht in der Zukunft liegen",patientNumInSuffixFeedback:"Kann keine Zahlen enthalten.",patientNumInPrefixFeedback:"Kann keine Zahlen enthalten.",patientNumInFamilyNameFeedback:"Kann keine Zahlen enthalten.",patientNumInPreferredLanguageFeedback:"Kann keine Zahlen enthalten.",invalidEmail:"Muss eine g\xfcltige E-Mail sein.",invalidPhoneNumber:"Muss eine g\xfcltige Telefonnummer sein."}}}),{patients:{label:"Patienten",viewPatients:"Patienten anzeigen",noPatients:"Es sind noch keine Patienten vorhanden, f\xfcgen Sie den Ersten hinzu",viewPatient:"Patient anzeigen",editPatient:"Patient bearbeiten",newPatient:"Neuer Patient"}}),{settings:{}}),{scheduling:{label:"Planung",appointments:{label:"Termine",new:"Neuer Termin",schedule:"Terminplan",editAppointment:"Termin bearbeiten",deleteAppointment:"Termin l\xf6schen",viewAppointment:"Termin ansehen"},appointment:{startDate:"Anfangsdatum",endDate:"Enddatum",location:"Standort",type:"Typ",types:{checkup:"Untersuchung",emergency:"Notfall",followUp:"Nachverfolgen",routine:"Routine",walkIn:"Walk In"},errors:{createAppointmentError:"Neuer Termin konnte nicht erstellt werden.",updateAppointmentError:"Termin konnte nicht aktualisiert werden.",patientRequired:"Patient ist erforderlich.",startDateMustBeBeforeEndDate:"Die Startzeit muss vor der Endzeit liegen."},reason:"Grund",patient:"Patient",deleteConfirmationMessage:"Sind Sie sicher, dass Sie diesen Termin l\xf6schen m\xf6chten?",successfullyCreated:"Termin erfolgreich erstellt.",successfullyDeleted:"Termin erfolgreich gel\xf6scht."}}}),{states:{success:"Erfolg!",error:"Fehler!"}}),{sex:{male:"M\xe4nnlich",female:"Weiblich",other:"Andere",unknown:"Unbekannt"}}),{labs:{label:"Labor",filterTitle:"Nach Status filtern",search:"Laborsuche",status:{requested:"Angefordert",completed:"Abgeschlossen",canceled:"Abgebrochen"},filter:{all:"Alle Status"},requests:{label:"Laboranfragen",new:"Neue Laboranfrage",view:"Labor anzeigen",cancel:"Labor stornieren",complete:"Labor erledigt",error:{unableToRequest:"Unable to create new lab request.",unableToComplete:"Unable to complete lab request.",typeRequired:"Type is required.",resultRequiredToComplete:"Result is required to complete."}},lab:{code:"Laborcode",status:"Status",for:"F\xfcr",type:"Typ",result:"Resultat",notes:"Notizen",requestedOn:"Angefordert am",completedOn:"Erledigt am",canceledOn:"Storniert am",patient:"Patient"}}}),{incidents:{filterTitle:"Nach Status filtern",label:"Vorf\xe4lle",actions:{report:"Bericht"},status:{reported:"gemeldet",all:"alle"},reports:{label:"Gemeldete Vorf\xe4lle",new:"Vorfall melden",view:"Vorfall ansehen",dateOfIncident:"Datum des Vorfalles",department:"Abteilung",category:"Kategorie",categoryItem:"Kategorie Artikel",description:"Beschreibung des Vorfalles",patient:"Patient",code:"Code",reportedBy:"Gemeldet von",reportedOn:"Gemeldet am",status:"Status",error:{dateRequired:"Datum is erforderlich.",dateMustBeInThePast:"Datum muss in der vergangenheit sein.",departmentRequired:"Abteilung ist erforderlich.",categoryRequired:"Kategorie ist erforderlich",categoryItemRequired:"Kategorie Artikel ist erforderlich",descriptionRequired:"Beschreibung ist erforderlich"}}}}),{medications:{label:"Medikamente",filterTitle:"Nach Status filtern",search:"Medikamente suchen",status:{draft:"Entwurf",active:"Aktiv",onHold:"In Wartestellung",cancelled:"Abgesagt",completed:"Abgeschlossen",enteredInError:"Fehlerhaft eingegeben",stopped:"Gestoppt",unknown:"Unbekannt"},intent:{proposal:"Vorschlag",plan:"Planen",order:"Bestellung",originalOrder:"Urspr\xfcngliche Bestellung",reflexOrder:"Reflexreihenfolge",fillerOrder:"F\xfcllauftrag",instanceOrder:"Instanzbestellung",option:"M\xf6glichkeit"},priority:{routine:"Routine",urgent:"Dringend",asap:"So schnell wie m\xf6glich",stat:"Stat"},filter:{all:"Alle Status"},requests:{label:"Medikamentenanfragen",new:"Medikamente anfordern",view:"Medikamente anzeigen",cancel:"Medikamente abbrechen",complete:"Komplette Medikation",error:{unableToRequest:"Medikationsanforderung kann nicht erstellt werden.",unableToComplete:"Medikamentenanforderung kann nicht abgeschlossen werden.",quantityRequired:"Menge ist erforderlich.",unitRequired:"Einheit ist erforderlich."}},medication:{medication:"Medikament",for:"Zum",status:"Status",intent:"Absicht",priority:"Priorit\xe4t",notes:"Anmerkungen",quantity:"Menge",quantityValue:"Wert",quantityUnit:"Einheit",requestedOn:"Angefordert am",requestedBy:"Angefordert von",completedOn:"Vervollst\xe4ndigt am",canceledOn:"Abgebrochen am",patient:"Geduldig"}}}),rc=Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{label:"Actions",edit:"Edit",save:"Save",update:"Update",complete:"Complete",delete:"Delete",cancel:"Cancel",new:"New",list:"List",search:"Search",confirmDelete:"Delete Confirmation",next:"Next",previous:"Previous",page:"Page",add:"Add",view:"View",logout:"logout"}}),{dashboard:{label:"Dashboard"}}),{networkStatus:{offline:"you are working in offline mode",online:"you are back online"}}),{patient:{label:"Patient",code:"Patient Code",firstName:"First Name",lastName:"Last Name",suffix:"Suffix",prefix:"Prefix",givenName:"Given Name",familyName:"Family Name",dateOfBirth:"Date of Birth",approximateDateOfBirth:"Approximate Date of Birth",age:"Age",approximateAge:"Approximate Age",placeOfBirth:"Place of Birth",sex:"Sex",bloodType:"Blood Type",contactInfoType:{label:"Type",options:{home:"Home",mobile:"Mobile",work:"Work",temporary:"Temporary",old:"Old"}},phoneNumber:"Phone Number",email:"Email",address:"Address",occupation:"Occupation",type:"Patient Type",preferredLanguage:"Preferred Language",basicInformation:"Basic Information",generalInformation:"General Information",contactInformation:"Contact Information",unknownDateOfBirth:"Unknown",relatedPerson:"Related Person",relatedPersons:{error:{unableToAddRelatedPerson:"Unable to add new related person.",relatedPersonRequired:"Related Person is required.",relationshipTypeRequired:"Relationship Type is required."},label:"Related Persons",new:"New Related Person",add:"Add Related Person",relationshipType:"Relationship Type",warning:{noRelatedPersons:"No related persons"},addRelatedPersonAbove:"Add a related person using the button above."},appointments:{new:"Add Appointment",warning:{noAppointments:"No Appointments"},addAppointmentAbove:"Add an appointment using the button above."},allergies:{label:"Allergies",allergyName:"Allergy Name",new:"Add Allergy",error:{nameRequired:"Name is required.",unableToAdd:"Unable to add allergy."},warning:{noAllergies:"No Allergies"},addAllergyAbove:"Add an allergy using the button above.",successfullyAdded:"Successfully added a new allergy!"},diagnoses:{label:"Diagnoses",new:"Add Diagnosis",edit:"Edit Diagnosis",diagnosisName:"Name",diagnosisDate:"Date",onsetDate:"Onset Date",abatementDate:"Abatement Date",visit:"Visit",status:"Status",active:"Active",recurrence:"Recurrence",relapse:"Relapse",inactive:"Inactive",remission:"Remission",resolved:"Resolved",note:"Note",warning:{noDiagnoses:"No Diagnoses"},error:{nameRequired:"Diagnosis Name is required.",dateRequired:"Diagnosis Date is required.",unableToAdd:"Unable to add new diagnosis"},addDiagnosisAbove:"Add a diagnosis using the button above.",successfullyAdded:"Successfully added a new diagnosis!"},note:"Note",notes:{label:"Notes",new:"Add New Note",warning:{noNotes:"No Notes"},error:{noteRequired:"Note is required.",unableToAdd:"Unable to add new note."},addNoteAbove:"Add a note using the button above."},labs:{label:"Labs",new:"Add New Lab",warning:{noLabs:"No Labs"},noLabsMessage:"No labs requests for this person."},medications:{label:"Medications",new:"Add New Medication",warning:{noMedications:"No Medications"},noMedicationsMessage:"No medications requests for this person."},careGoal:{new:"Add Care Goal",label:"Care Goals",title:"Title",description:"Description",status:"Status",achievementStatus:"Achievement Status",priority:{label:"Priority",low:"low",medium:"medium",high:"high"},startDate:"Start Date",dueDate:"Due Date",note:"Note",error:{unableToAdd:"Unable to add a new care goal.",descriptionRequired:"Description is required.",priorityRequired:"Priority is required.",statusRequired:"Status is required.",achievementStatusRequired:"Achievement Status is required.",startDate:"Start date is required.",dueDate:"Due date is required.",dueDateMustBeAfterStartDate:"Due date must be after start date"}},careGoals:{warning:{noCareGoals:"No Care Goals",addCareGoalAbove:"Add a care goal using the button above."}},carePlan:{new:"Add Care Plan",label:"Care Plans",title:"Title",description:"Description",status:"Status",condition:"Condition",intent:"Intent",startDate:"Start Date",endDate:"End Date",note:"Note",error:{unableToAdd:"Unable to add a new care plan.",titleRequired:"Title is required.",descriptionRequired:"Description is required.",conditionRequired:"Condition is required.",statusRequired:"Status is required.",intentRequired:"Intent is required.",startDate:"Start date is required.",endDate:"End date is required"}},carePlans:{warning:{noCarePlans:"No Care Plans",addCarePlanAbove:"Add a care plan using the button above."}},visit:"Visit",visits:{new:"Add Visit",label:"Visits",startDateTime:"Start Date",endDateTime:"End Date",type:"Type",status:"Status",reason:"Reason",location:"Location",error:{unableToAdd:"Unable to add a new visit.",startDateRequired:"Start date is required.",endDateRequired:"End date is required",endDateMustBeAfterStartDate:"End date must be after start date",typeRequired:"Type is required.",statusRequired:"Status is required.",reasonRequired:"Reason is required.",locationRequired:"Location is required."},warning:{noVisits:"No Visits",addVisitAbove:"Add a visit using the button above."}},types:{charity:"Charity",private:"Private"},errors:{createPatientError:"Could not create new patient.",updatePatientError:"Could not update patient.",patientGivenNameFeedback:"Given Name is required.",patientDateOfBirthFeedback:"Date of Birth can not be greater than today",patientNumInSuffixFeedback:"Cannot contain numbers.",patientNumInPrefixFeedback:"Cannot contain numbers.",patientNumInFamilyNameFeedback:"Cannot contain numbers.",patientNumInPreferredLanguageFeedback:"Cannot contain numbers.",invalidEmail:"Must be a valid email.",invalidPhoneNumber:"Must be a valid phone number."}}}),{patients:{label:"Patients",warning:"Warning!",patientsList:"Patients List",viewPatients:"View Patients",noPatients:"There are no patients yet, let's add the first one!",viewPatient:"View Patient",createPatient:"Create Patient",newPatient:"New Patient",editPatient:"Edit Patient",updatePatient:"Update Patient",successfullyCreated:"Successfully created patient",successfullyAddedNote:"Successfully added the new note",successfullyAddedRelatedPerson:"Successfully added a new related person",successfullyUpdated:"Successfully updated information for ",possibleDuplicatePatient:"Possible duplicate patient:",duplicatePatientWarning:"Patient with matching information found in database. Are you sure you want to create this patient?"}}),{scheduling:{label:"Scheduling",appointments:{label:"Appointments",new:"New Appointment",schedule:"Appointment Schedule",editAppointment:"Edit Appointment",createAppointment:"Schedule Appointment",deleteAppointment:"Delete Appointment",viewAppointment:"View Appointment",updateAppointment:"Update Appointment"},appointment:{startDate:"Start Date",endDate:"End Date",location:"Location",type:"Type",types:{checkup:"Checkup",emergency:"Emergency",followUp:"Follow Up",routine:"Routine",walkIn:"Walk In"},errors:{createAppointmentError:"Could not create new appointment.",updateAppointmentError:"Could not update appointment.",patientRequired:"Patient is required.",startDateMustBeBeforeEndDate:"Start Time must be before End Time."},reason:"Reason",patient:"Patient",deleteConfirmationMessage:"Are you sure that you want to delete this appointment?",successfullyCreated:"Successfully created appointment.",successfullyDeleted:"Successfully deleted appointment.",successfullyUpdated:"Successfully updated appointment."}}}),{states:{success:"Success!",error:"Error!"}}),{sex:{male:"Male",female:"Female",other:"Other",unknown:"Unknown"}}),{labs:{label:"Labs",filterTitle:"Filter by status",search:"Search labs",successfullyUpdated:"Successfully updated",successfullyCompleted:"Successfully completed",successfullyCreated:"Successfully created",status:{requested:"Requested",completed:"Completed",canceled:"Canceled"},filter:{all:"All statuses"},requests:{label:"Lab Requests",new:"Request Lab",save:"Request",view:"View Lab",cancel:"Cancel Lab",complete:"Complete Lab",update:"Update Lab",error:{unableToRequest:"Unable to create new lab request.",unableToComplete:"Unable to complete lab request.",typeRequired:"Type is required.",patientRequired:"Patient is required.",resultRequiredToComplete:"Result is required to complete."}},lab:{code:"Lab Code",status:"Status",for:"For",type:"Type",result:"Result",notes:"Notes",requestedOn:"Requested On",completedOn:"Completed On",canceledOn:"Canceled On",patient:"Patient"}}}),{medications:{label:"Medications",filterTitle:"Filter by status",search:"Search Medications",status:{draft:"Draft",active:"Active",onHold:"On Hold",canceled:"Canceled",completed:"Completed",enteredInError:"Entered In Error",stopped:"Stopped",unknown:"Unknown"},intent:{proposal:"Proposal",plan:"Plan",order:"Order",originalOrder:"Original Order",reflexOrder:"Reflex Order",fillerOrder:"Filler Order",instanceOrder:"Instance Order",option:"Option"},priority:{routine:"Routine",urgent:"Urgent",asap:"Asap",stat:"Stat"},filter:{all:"All statuses"},requests:{label:"Medication Requests",new:"Request Medication",view:"View Medication",cancel:"Cancel Medication",complete:"Complete Medication",update:"Update Medication",error:{unableToRequest:"Unable to create Medication request.",unableToComplete:"Unable to complete Medication request.",quantityRequired:"Quantity is required.",unitRequired:"Unit is required."}},medication:{medication:"Medication",for:"For",status:"Status",intent:"Intent",priority:"Priority",notes:"Notes",quantity:"Quantity",quantityValue:"Value",quantityUnit:"Unit",requestedOn:"Requested On",requestedBy:"Requested By",completedOn:"Completed On",canceledOn:"Canceled On",patient:"Patient"}}}),{incidents:{filterTitle:" Filter by status",label:"Incidents",actions:{report:"Report"},status:{reported:"Reported",resolved:"Resolved",all:"All"},reports:{label:"Reported Incidents",new:"Report Incident",view:"View Incident",resolve:"Resolve Incident",dateOfIncident:"Date of Incident",department:"Department",download:"Download",category:"Category",categoryItem:"Category Item",description:"Description of Incident",patient:"Patient",code:"Code",reportedBy:"Reported By",reportedOn:"Reported On",resolvedOn:"Resolved On",status:"Status",error:{dateRequired:"Date is required.",dateMustBeInThePast:"Date must be in the past.",departmentRequired:"Department is required.",categoryRequired:"Category is required",categoryItemRequired:"Category Item is required",descriptionRequired:"Description is required"}},visualize:{label:"Visualize",view:"Visualize Incidents"}}}),{settings:{label:"Settings",language:{label:"Language"}}}),{user:{login:{error:{message:{required:"Missing required fields.",incorrect:"Incorrect username or password.",serverNotResponding:"Server not responding. Try again later."},username:{required:"Username is required."},password:{required:"Password is required."}},currentlySignedInAs:"Currently signed in as"}}}),{bloodType:{apositive:"A+",anegative:"A-",abpositive:"AB+",abnegative:"AB-",bpositive:"B+",bnegative:"B-",opositive:"O+",onegative:"O-",unknown:"Unknown"}}),{imagings:{label:"Imagings",status:{requested:"Requested",completed:"Completed",canceled:"Canceled"},requests:{label:"Imaging Requests",new:"New Imaging Request",view:"View Imaging",create:"Request Imaging",cancel:"Cancel Imaging",complete:"Complete Imaging",error:{unableToRequest:"Unable to create new imaging request.",incorrectStatus:"Incorrect Status",typeRequired:"Type is required.",statusRequired:"Status is required.",patientRequired:"Patient name is required."}},imaging:{label:"imaging",code:"Imaging Code",status:"Status",type:"Type",notes:"Notes",requestedOn:"Requested On",completedOn:"Completed On",canceledOn:"Canceled On",requestedBy:"Requested By",patient:"Patient"}}}),{administration:{label:"Administration",dashboard:"Admin Dashboard",staffManagement:{label:"Staff Management",add:"Add Staff Member",edit:"Edit Staff Member",actions:{passwordReset:"Reset Password"}}}}),{staff:{label:"Staff",code:"Staff Code",primaryEmail:"Primary Email",loginName:"Login Name",primaryMobile:"Primary Mobile",firstName:"First Name",lastName:"Last Name",suffix:"Suffix",prefix:"Prefix",givenName:"Given Name",familyName:"Family Name"}}),ic=Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{edit:"Editar",save:"Guardar",cancel:"Cancelar",new:"Nuevo",list:"Lista"}}),{dashboard:{label:"Panel"}}),{labs:{lab:{code:"C\xf3digo"}}}),{patient:{firstName:"Nombre de pila",lastName:"Apellido",medications:{label:"Medicamentos",new:"Agregar nuevo medicamento",warning:{noMedications:"Sin medicamentos"},noMedicationsMessage:"No hay solicitudes de medicamentos para esta persona."}}}),{patients:{label:"Pacientes",viewPatients:"Ver pacientes",viewPatient:"Ver pacientes",editPatient:"Editar paciente",newPatient:"Nuevo paciente"}}),{settings:{}}),{medications:{label:"Medicamentos",filterTitle:"Filtrar por estado",search:"Buscar medicamentos",status:{draft:"Sequ\xeda",active:"Activa",onHold:"En espera",cancelled:"Cancelada",completed:"Terminada",enteredInError:"Ingresado por error",stopped:"Detenida",unknown:"Desconocida"},intent:{proposal:"Propuesta",plan:"Plan",order:"Orden",originalOrder:"Orden original",reflexOrder:"Orden refleja",fillerOrder:"Orden de relleno",instanceOrder:"Orden de instancia",option:"Opci\xf3n"},priority:{routine:"Rutina",urgent:"Urgente",asap:"Lo antes posible",stat:"Estad\xedsticas"},filter:{all:"Todos los estados"},requests:{label:"Solicitudes de medicaci\xf3n",new:"Solicitar medicaci\xf3n",view:"Ver medicaci\xf3n",cancel:"Cancelar medicaci\xf3n",complete:"Medicaci\xf3n completa",error:{unableToRequest:"No se pudo crear la solicitud de medicaci\xf3n.",unableToComplete:"No se pudo completar la solicitud de medicaci\xf3n.",quantityRequired:"Se requiere cantidad.",unitRequired:"Se requiere unidad."}},medication:{medication:"Medicamento",for:"por",status:"Estado",intent:"Intenci\xf3n",priority:"Prioridad",notes:"Notas",quantity:"Cantidad",quantityValue:"Valor",quantityUnit:"Unidad",requestedOn:"Solicitado el",requestedBy:"Requested By",completedOn:"Completado en",canceledOn:"Cancelado el",patient:"Paciente"}}}),cc=Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{label:"Actions",edit:"\xc9diter",save:"Enregistrer",update:"Mettre \xe0 jour",complete:"Compl\xe9ter",delete:"Supprimer",cancel:"Annuler",new:"Nouveau",list:"Liste",search:"Rechercher",confirmDelete:"Confirmer la suppression"}}),{dashboard:{label:"Tableau de bord"}}),{patient:{code:"Code patient",firstName:"Pr\xe9nom",lastName:"Nom",suffix:"Suffixe",prefix:"Pr\xe9fixe",givenName:"Pr\xe9nom",familyName:"Nom de famille",dateOfBirth:"Date de naissance",approximateDateOfBirth:"Date de naissance approximative",age:"\xc2ge",approximateAge:"\xc2ge approximatif",placeOfBirth:"Lieu de naissance",sex:"Sexe",phoneNumber:"Num\xe9ro de t\xe9l\xe9phone",email:"Email",address:"Adresse",occupation:"Profession",type:"Type de patient",preferredLanguage:"Langue",basicInformation:"Informations de base",generalInformation:"Informations g\xe9n\xe9rales",contactInformation:"Informations du contact",unknownDateOfBirth:"Inconnue",relatedPerson:"Personne li\xe9e",relatedPersons:{error:{unableToAddRelatedPerson:"Impossible d'ajouter une nouvelle personne li\xe9e.",relatedPersonRequired:"La personne li\xe9e est requise.",relationshipTypeRequired:"Le type de relation est requis."},label:"Personnes li\xe9es",new:"Nouvelle personne li\xe9e",add:"Ajouter une personne li\xe9e",relationshipType:"Type de relation",warning:{noRelatedPersons:"Aucune personnes li\xe9es"},addRelatedPersonAbove:"Ajouter une personne li\xe9e \xe0 l'aide du bouton ci-dessus."},appointments:{new:"Ajouter un rendez-vous"},allergies:{label:"Allergies",allergyName:"Nom de l'allergie",new:"Ajouter une allergie",error:{nameRequired:"Le nom de l'allergie est requis.",unableToAdd:"Impossible d'ajouter l'allergie."},warning:{noAllergies:"Pas d'allergies"},addAllergyAbove:"Ajouter une allergie \xe0 l'aide du bouton ci-dessus.",successfullyAdded:"Nouvelle allergie ajout\xe9e avec succ\xe8s !"},diagnoses:{label:"Diagnostics",new:"Ajouter un diagnostic",diagnosisName:"Nom",diagnosisDate:"Date",warning:{noDiagnoses:"Aucun diagnostic"},error:{nameRequired:"Le nom du diagnostic est requis.",dateRequired:"La date du diagnostic est requise."},addDiagnosisAbove:"Ajouter un diagnostic \xe0 l'aide du bouton ci-dessus.",successfullyAdded:"Nouveau diagnostic ajout\xe9 avec succ\xe8s !"},note:"Note",notes:{label:"Notes",new:"Ajouter une nouvelle note",warning:{noNotes:"Pas de notes"},error:{noteRequired:"Une note est requise.",unableToAdd:"Impossible d'ajouter une nouvelle note."},addNoteAbove:"Ajouter une nouvelle note \xe0 l'aide du bouton ci-dessus.."},medications:{label:"M\xe9dicaments",new:"Ajouter un nouveau m\xe9dicament",warning:{noMedications:"Pas de m\xe9dicaments"},noMedicationsMessage:"Aucune demande de m\xe9dicaments pour cette personne."},types:{charity:"Charit\xe9",private:"Priv\xe9"},errors:{createPatientError:"Impossible de cr\xe9er un nouveau patient.",updatePatientError:"Impossible de mettre \xe0 jour le patient.",patientGivenNameFeedback:"Le pr\xe9nom est obligatoire.",patientDateOfBirthFeedback:"La date de naissance ne peut pas \xeatre sup\xe9rieure \xe0 celle d'ajourd'hui."}}}),{patients:{label:"Patients",patientsList:"Liste des patients",viewPatients:"Voir les patients",noPatients:"Il n'y a aucun patient ici, voil\xe0 donc le premier",viewPatient:"Voir le patient",editPatient:"Modifier le patient",newPatient:"Nouveau patient",successfullyCreated:"Patient cr\xe9\xe9 avec succ\xe8s",successfullyAddedNote:"Note ajout\xe9e avec succ\xe8s",successfullyAddedRelatedPerson:"Ajout d'une nouvelle personne li\xe9e avec succ\xe8s"}}),{scheduling:{label:"Planning",appointments:{label:"Rendez-vous",new:"Nouveau rendez-vous",schedule:"Planning des rendez-vous",editAppointment:"\xc9diter un rendez-vous",deleteAppointment:"Supprimer un rendez-vous"},appointment:{startDate:"Date de d\xe9but",endDate:"Date de fin",location:"Lieu",type:"Type",types:{checkup:"Bilan de sant\xe9",emergency:"Urgence",followUp:"Suivi",routine:"Habituel",walkIn:"Sans rendez-vous"},errors:{patientRequired:"Le patient est requis.",startDateMustBeBeforeEndDate:"La date de d\xe9but doit \xeatre inf\xe9rieur \xe0 l'heure de fin."},reason:"Raison",patient:"Patient"}}}),{states:{success:"Succ\xe8s !",error:"Erreur !"}}),{sex:{male:"Homme",female:"Femme",other:"Autre",unknown:"Inconnu"}}),{labs:{label:"Analyses",requests:{label:"Demandes d'analyse",new:"Nouvelle demande d'analyse",view:"Voir l'analyse",cancel:"Annuler l'analyse",complete:"Analyse compl\xe8te",error:{unableToRequest:"Impossible de cr\xe9er une nouvelle demande d'analyse.",unableToComplete:"Impossible de compl\xe9ter la demande d'analyse.",typeRequired:"Le type d'analyse est requis.",resultRequiredToComplete:"Le r\xe9sultat est requis pour compl\xe9ter l'analyse."}},lab:{code:"Code",status:"Statut",for:"Pour",type:"Type",result:"R\xe9sultat",notes:"Notes",requestedOn:"Demand\xe9 le",completedOn:"Compl\xe9t\xe9 le",canceledOn:"Annul\xe9 le"}}}),{settings:{}}),{medications:{label:"Medications",filterTitle:"Filtrer par statut",search:"Rechercher des m\xe9dicaments",status:{draft:"Brouillon",active:"Active",onHold:"En attente",cancelled:"Annul\xe9",completed:"Termin\xe9",enteredInError:"Entr\xe9 par erreur",stopped:"Arr\xeat\xe9",unknown:"Inconnue"},intent:{proposal:"Proposition",plan:"Plan",order:"Commande",originalOrder:"Commande originale",reflexOrder:"Ordre r\xe9flexe",fillerOrder:"Ordre de remplissage",instanceOrder:"Ordre des instances",option:"Option"},priority:{routine:"Routine",urgent:"Urgente",asap:"Au plus vite",stat:"Stat"},filter:{all:"Tous les statuts"},requests:{label:"Demandes de m\xe9dicaments",new:"Demander des m\xe9dicaments",view:"Voir les m\xe9dicaments",cancel:"Annuler le m\xe9dicament",complete:"M\xe9dicament complet",error:{unableToRequest:"Impossible de cr\xe9er une demande de m\xe9dicament.",unableToComplete:"Impossible de terminer la demande de m\xe9dicaments.",quantityRequired:"La quantit\xe9 est requise.",unitRequired:"L'unit\xe9 est requise."}},medication:{medication:"M\xe9dicament",for:"Pour",status:"Statut",intent:"Intention",priority:"Priorit\xe9",notes:"Remarques",quantity:"Quantit\xe9",quantityValue:"Valeur",quantityUnit:"Unit\xe9",requestedOn:"Demand\xe9 le",requestedBy:"Demand\xe9 par",completedOn:"Termin\xe9 le",canceledOn:"Annul\xe9 le",patient:"Patiente"}}}),oc=Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{edit:"Edit",save:"Menyimpan",cancel:"Membatalkan",new:"Baru",list:"Daftar"}}),{dashboard:{label:"Dasbor"}}),{labs:{lab:{code:"Kode"}}}),{patient:{firstName:"Nama depan",lastName:"Nama keluarga",medications:{label:"Pengobatan",new:"Tambahkan Obat Baru",warning:{noMedications:"Tidak Ada Pengobatan"},noMedicationsMessage:"Tidak ada permintaan obat untuk orang ini."}}}),{patients:{label:"Pasien",viewPatients:"Lihat Pasien",viewPatient:"Lihat Pasien",editPatient:"Ganti Pasien",newPatient:"Pasien Baru"}}),{settings:{}}),{medications:{label:"Pengobatan",filterTitle:"Filter menurut status",search:"Cari Obat",status:{draft:"Minuman",active:"Aktif",onHold:"Tertahan",cancelled:"Dibatalkan",completed:"Lengkap",enteredInError:"Dimasukkan Dalam Kesalahan",stopped:"Berhenti",unknown:"Tidak diketahui"},intent:{proposal:"Usul",plan:"Rencana",order:"Memesan",originalOrder:"Pesanan Asli",reflexOrder:"Urutan Refleks",fillerOrder:"Urutan Pengisi",instanceOrder:"Urutan Instance",option:"Pilihan"},priority:{routine:"Rutin",urgent:"Mendesak",asap:"Secepat mungkin",stat:"Stat"},filter:{all:"Semua status"},requests:{label:"Permintaan Obat",new:"Minta Pengobatan",view:"Lihat Obat",cancel:"Batalkan Pengobatan",complete:"Pengobatan Lengkap",error:{unableToRequest:"Tidak dapat membuat permintaan Obat.",unableToComplete:"Tidak dapat menyelesaikan permintaan Pengobatan.",quantityRequired:"Kuantitas diperlukan.",unitRequired:"Satuan wajib diisi."}},medication:{medication:"Pengobatan",for:"Untuk",status:"Status",intent:"Maksud",priority:"Prioritas",notes:"Catatan",quantity:"Kuantitas",quantityValue:"Nilai",quantityUnit:"Satuan",requestedOn:"Diminta Pada",requestedBy:"Diminta oleh",completedOn:"Selesai Pada",canceledOn:"Dibatalkan Pada",patient:"Sabar"}}}),lc={it:{name:"Italian",translation:Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{label:"Azioni",edit:"Modifica",save:"Salva",update:"Aggiorna",complete:"Completa",delete:"Rimuovi",cancel:"Annulla",new:"Nuovo",list:"Lista",search:"Cerca",confirmDelete:"Conferma cancellazione"}}),{dashboard:{label:"Dashboard"}}),{patient:{code:"Codice del paziente",firstName:"Nome",lastName:"Cognome",suffix:"Suffisso",prefix:"Prefisso",givenName:"Nome",familyName:"Cognome",dateOfBirth:"Data di nascita",approximateDateOfBirth:"Data presunta di nascita",age:"Anni",approximateAge:"Anni presunti",placeOfBirth:"Luogo di nascita",sex:"Sesso",phoneNumber:"Numero di telefono",email:"Email",address:"Indirizzo",occupation:"Occupazione",type:"Tipo di paziente",preferredLanguage:"Lingua",basicInformation:"Informazioni base",generalInformation:"Informazioni generali",contactInformation:"Informazioni di contatto",unknownDateOfBirth:"Sconosciuto",relatedPerson:"Relazione di parentela",relatedPersons:{error:{unableToAddRelatedPerson:"Impossibile aggiungere relazione di parentela.",relatedPersonRequired:"Il campo relazione di parentela \xe8 obbligatorio.",relationshipTypeRequired:"Il tipo di relazione \xe8 obbligatorio."},label:"Relazioni di parentela",new:"Nuova relazione di parentela",add:"Aggiungi relazione di parentela",relationshipType:"Tipo di relazione",warning:{noRelatedPersons:"Non ci sono relazioni di parentela"},addRelatedPersonAbove:"Aggiungi una nuova relazione di parentela usando il pulsante soprastante."},appointments:{new:"Aggiungi appuntamento"},allergies:{label:"Allergie",allergyName:"Nome dell'allergia",new:"Aggiungi allergia",error:{nameRequired:"Il nome \xe8 obbligatorio.",unableToAdd:"Impossibile aggiungere l'allergia."},warning:{noAllergies:"Non ci sono allergie"},addAllergyAbove:"Aggiungi un allergia utilizzando il pulsante soprastante.",successfullyAdded:"Allergia aggiunta con successo!"},diagnoses:{label:"Diagnosi",new:"Aggiungi diagnosi",diagnosisName:"Nome",diagnosisDate:"Data",warning:{noDiagnoses:"Non ci sono diagnosi"},error:{nameRequired:"Il nome della diagnosi \xe8 obbligatorio.",dateRequired:"La data della diagnosi \xe8 obbligatorio.",unableToAdd:"Impossibile aggiungere la diagnosi"},addDiagnosisAbove:"Aggiungi la diagnosi utilizzando il pulsante soprastante.",successfullyAdded:"Diagnosi aggiunta con successo!"},note:"Nota",notes:{label:"Note",new:"Aggiungi nuova nota",warning:{noNotes:"Non ci sono note"},error:{noteRequired:"Il campo nota \xe8 obbligatorio.",unableToAdd:"Impossibile aggiungere la nota."},addNoteAbove:"Aggiungi una nota utilizzando il pulsante soprastante."},medications:{label:"Farmaci",new:"Aggiungi nuovo farmaco",warning:{noMedications:"Nessun farmaco"},noMedicationsMessage:"Nessuna richiesta di farmaci per questa persona."},types:{charity:"Beneficenza",private:"Privato"},errors:{createPatientError:"Impossibile aggiungere il paziente.",updatePatientError:"Impossibile aggiornare il paziente.",patientGivenNameFeedback:"Il nome \xe8 obbligatorio.",patientDateOfBirthFeedback:"La data di nascita non pu\xf2 essere maggiore della data odierna"}}}),{patients:{label:"Pazienti",patientsList:"Lista Pazienti",viewPatients:"Vedi Pazienti",viewPatient:"Vedi Paziente",newPatient:"Nuovo Paziente",successfullyCreated:"Paziente creato con successo",successfullyAddedNote:"Note aggiunte con successo",successfullyAddedRelatedPerson:"Relazione di parentela aggiunta con successo"}}),{scheduling:{label:"Appuntamenti",appointments:{label:"Appuntamenti",new:"Nuovo appuntamento",schedule:"Programma appuntamento",editAppointment:"Modifica appuntamento",deleteAppointment:"Cancella appuntamento",viewAppointment:"Vedi appuntamento"},appointment:{startDate:"Data di inizio",endDate:"Data di fine",location:"Luogo",type:"Tipo",types:{checkup:"Checkup",emergency:"Emergenza",followUp:"Approfondimento",routine:"Routine",walkIn:"Senza appuntamento"},errors:{patientRequired:"Il paziente \xe8 obbligatorio.",errorCreatingAppointment:"Impossibile creare l'appuntamento!",startDateMustBeBeforeEndDate:"La data di inizio non pu\xf2 essere inferiore a quella di fine."},reason:"Motivo",patient:"Paziente",deleteConfirmationMessage:"Sei sicuro di voler cancellare l'appuntamento?",successfullyCreated:"Appuntamento creato con successo."}}}),{states:{success:"Successo!",error:"Errore!"}}),{sex:{male:"Maschio",female:"Femmina",other:"Altro",unknown:"Sconosciuto"}}),{labs:{label:"Laboratori",requests:{label:"Richieste di laboratorio",new:"Nuova richiesta di laboratorio",view:"Visualizza richiesta",cancel:"Annulla richiesta",complete:"Completa",error:{unableToRequest:"Impossibile creare la richiesta.",unableToComplete:"Impossibile completare la richiesta.",typeRequired:"La tipologia \xe8 richiesta.",resultRequiredToComplete:"Il risultato \xe8 obbligatorio per completare la richiesta."}},lab:{status:"Stato",for:"Per",type:"Tipo",result:"Risultato",notes:"Note",requestedOn:"Richiesta fatta il",completedOn:"Completato il",canceledOn:"Annullata il",patient:"Paziente"}}}),{settings:{}}),{medications:{label:"Farmaci",filterTitle:"Filtra per stato",search:"Cerca farmaci",status:{draft:"Bozza",active:"Attiva",onHold:"In attesa",cancelled:"Annullata",completed:"Completato",enteredInError:"Inserito per errore",stopped:"Fermato",unknown:"Sconosciuta"},intent:{proposal:"Proposta",plan:"Piano",order:"Ordine",originalOrder:"Ordine originale",reflexOrder:"Ordine riflesso",fillerOrder:"Ordine di riempimento",instanceOrder:"Ordine istanza",option:"Opzione"},priority:{routine:"Routine",urgent:"Urgente",asap:"Al pi\xf9 presto",stat:"statistica"},filter:{all:"Tutti gli stati"},requests:{label:"Richieste di farmaci",new:"Richiedi farmaci",view:"Visualizza farmaci",cancel:"Annulla farmaco",complete:"Farmaco completo",error:{unableToRequest:"Impossibile creare la richiesta di farmaco.",unableToComplete:"Impossibile completare la richiesta del farmaco.",quantityRequired:"La quantit\xe0 \xe8 richiesta.",unitRequired:"L'unit\xe0 \xe8 richiesta."}},medication:{medication:"Farmaco",for:"Per",status:"Stato",intent:"Intenta",priority:"Priorit\xe0",notes:"Appunti",quantity:"Quantit\xe0",quantityValue:"Valore",quantityUnit:"Unit\xe0",requestedOn:"Richiesto il",requestedBy:"Richiesto da",completedOn:"Completato il",canceledOn:"Annullato il",patient:"Paziente"}}})},ar:{name:"Arabic",translation:ac},de:{name:"German",translation:nc},en:{name:"English, American",translation:rc},es:{name:"Spanish",translation:ic},fr:{name:"French",translation:cc},id:{name:"Indonesian",translation:oc},ja:{name:"Japanese",translation:Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{edit:"\u7de8\u96c6",save:"\u30bb\u30fc\u30d6",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",new:"\u65b0\u3057\u3044",list:"\u30ea\u30b9\u30c8"}}),{dashboard:{label:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}}),{labs:{lab:{code:"\u691c\u67fb\u30b3\u30fc\u30c9"}}}),{patient:{firstName:"\u30d5\u30a1\u30fc\u30b9\u30c8\u30cd\u30fc\u30e0",lastName:"\u82d7\u5b57",medications:{label:"\u85ac",new:"\u65b0\u3057\u3044\u85ac\u3092\u8ffd\u52a0\u3059\u308b",warning:{noMedications:"\u85ac\u306f\u3042\u308a\u307e\u305b\u3093"},noMedicationsMessage:"\u3053\u306e\u4eba\u3078\u306e\u6295\u85ac\u8981\u6c42\u306f\u3042\u308a\u307e\u305b\u3093\u3002"}}}),{patients:{label:"\u60a3\u8005\u3055\u3093",viewPatients:"\u60a3\u8005\u3092\u898b\u308b",viewPatient:"\u60a3\u8005\u3092\u898b\u308b",editPatient:"\u60a3\u8005\u3092\u5909\u3048\u308b",newPatient:"\u65b0\u3057\u3044\u60a3\u8005"}}),{settings:{label:"\u8a2d\u5b9a",language:{label:"\u8a00\u8a9e"}}}),{medications:{label:"\u85ac",filterTitle:"\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0",search:"\u85ac\u3092\u691c\u7d22\u3059\u308b",status:{draft:"\u30c9\u30e9\u30d5\u30c8",active:"\u30a2\u30af\u30c6\u30a3\u30d6",onHold:"\u4fdd\u7559",cancelled:"\u30ad\u30e3\u30f3\u30bb\u30eb",completed:"\u5b8c\u4e86",enteredInError:"\u30a8\u30e9\u30fc\u3067\u5165\u529b\u3055\u308c\u307e\u3057\u305f",stopped:"\u505c\u6b62",unknown:"\u308f\u304b\u3089\u306a\u3044"},intent:{proposal:"\u63d0\u6848",plan:"\u4e88\u5b9a",order:"\u6ce8\u6587",originalOrder:"\u5143\u306e\u6ce8\u6587",reflexOrder:"\u53cd\u5c04\u795e\u7d4c\u306e\u79e9\u5e8f",fillerOrder:"\u30d5\u30a3\u30e9\u30fc\u30aa\u30fc\u30c0\u30fc",instanceOrder:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u9806\u5e8f",option:"\u30aa\u30d7\u30b7\u30e7\u30f3"},priority:{routine:"\u30eb\u30fc\u30c1\u30f3",urgent:"\u7dca\u6025",asap:"\u3067\u304d\u308b\u3060\u3051\u901f\u304f\u306b",stat:"\u7d71\u8a08"},filter:{all:"\u3059\u3079\u3066\u306e\u30b9\u30c6\u30fc\u30bf\u30b9"},requests:{label:"\u85ac\u306e\u30ea\u30af\u30a8\u30b9\u30c8",new:"\u85ac\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b",view:"\u85ac\u3092\u898b\u308b",cancel:"\u85ac\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b",complete:"\u5b8c\u5168\u306a\u6295\u85ac",error:{unableToRequest:"\u6295\u85ac\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u4f5c\u6210\u3067\u304d\u307e\u305b\u3093\u3002",unableToComplete:"\u6295\u85ac\u8981\u6c42\u3092\u5b8c\u4e86\u3067\u304d\u307e\u305b\u3093\u3002",quantityRequired:"\u6570\u91cf\u304c\u5fc5\u8981\u3067\u3059\u3002",unitRequired:"\u30e6\u30cb\u30c3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002"}},medication:{medication:"\u6295\u85ac",for:"\u306b\u3068\u3063\u3066",status:"\u72b6\u614b",intent:"\u610f\u56f3",priority:"\u512a\u5148",notes:"\u30ce\u30fc\u30c8",quantity:"\u91cf",quantityValue:"\u5024",quantityUnit:"\u5358\u4f4d",requestedOn:"\u30ea\u30af\u30a8\u30b9\u30c8\u6e08\u307f",requestedBy:"\u306b\u8981\u6c42\u3055\u308c\u305f",completedOn:"\u5b8c\u4e86",canceledOn:"\u30ad\u30e3\u30f3\u30bb\u30eb\u65e5",patient:"\u60a3\u8005"}}})},ptBR:{name:"Portuguese",translation:Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{label:"A\xe7\xf5es",edit:"Editar",save:"Salvar",update:"Atualizar",complete:"Completar",delete:"Eliminar",cancel:"Cancelar",new:"Novo",list:"Lista",search:"Pesquisar",confirmDelete:"Eliminar confirma\xe7\xe3o"}}),{dashboard:{label:"Painel de controle"}}),{patient:{code:"C\xf3digo do paciente",firstName:"Nome",lastName:"Sobrenome",suffix:"Sufixo",prefix:"Prefixo",givenName:"Nome Pr\xf3prio",familyName:"Nome de Fam\xedlia",dateOfBirth:"Data de Nascimento",approximateDateOfBirth:"Data de Nascimento Aproximada",age:"Idade",approximateAge:"Idade Aproximada",placeOfBirth:"Local de Nascimento",sex:"Sexo",phoneNumber:"N\xfamero de Telefone",email:"E-mail",address:"Endere\xe7o",occupation:"Ocupa\xe7\xe3o",type:"Tipo de Paciente",preferredLanguage:"Idioma de Prefer\xeancia",basicInformation:"Informa\xe7\xe3o B\xe1sica",generalInformation:"Informa\xe7\xe3o Geral",contactInformation:"Informa\xe7\xe3o de Contato",unknownDateOfBirth:"Data de Nascimento Desconhecida",relatedPerson:"Pessoa Relacionada",relatedPersons:{error:{unableToAddRelatedPerson:"Impossibilidade de adicionar nova pessoa relacionadas.",relatedPersonRequired:"Pessoa relacionada \xe9 necess\xe1ria.",relationshipTypeRequired:"Tipo de relacionamento \xe9 necess\xe1rio."},label:"Pessoas Relacionadas",new:"Nova Pessoa Relacionada",add:"Addicione Pessoa Relacionada",relationshipType:"Tipo de Relacionamento",warning:{noRelatedPersons:"Sem pessoas relacionadas"},addRelatedPersonAbove:"Addicione uma pessoa relacionada utilizando o bot\xe3o acima."},appointments:{new:"Adicionar um compromisso"},allergies:{label:"Alergias",allergyName:"Nome da Alergia",new:"Adicionar alergia",error:{nameRequired:"Nome da alergia \xe9 necess\xe1rio.",unableToAdd:"Impossibilidade de adicionar alergia."},warning:{noAllergies:"Sem alergias"},addAllergyAbove:"Adicione uma alergia utilizando o bot\xe3o acima.",successfullyAdded:"Uma nova alergia foi adicionada com sucesso!"},diagnoses:{label:"Diagn\xf3sticos",new:"Novo diagn\xf3sticos",diagnosisName:"Nome do diagn\xf3stico",diagnosisDate:"Data do diagn\xf3stico",warning:{noDiagnoses:"Sem diagn\xf3sticos"},error:{nameRequired:"Nome do diagn\xf3stico \xe9 necess\xe1rio.",dateRequired:"Data do diagn\xf3stico \xe9 necess\xe1ria."},addDiagnosisAbove:"Adicione um diagn\xf3stico utilizando o bot\xe3o acima.",successfullyAdded:"Um novo diagn\xf3stico foi adicionado com sucesso!"},note:"Nota",notes:{label:"Notas",new:"Adicionar novas notas",warning:{noNotes:"Sem Notas"},error:{noteRequired:"Uma nota \xe9 necess\xe1rio.",unableToAdd:"Impossibilidade adicionar uma nova nota."},addNoteAbove:"Adicione uma nota utilizando o bot\xe3o acima."},medications:{label:"Rem\xe9dios",new:"Adicionar novo medicamento",warning:{noMedications:"Nomejikachion s"},noMedicationsMessage:"Nenhum pedido de medicamentos para esta pessoa."},types:{charity:"Caridade",private:"Particular"},errors:{createPatientError:"N\xe3o foi poss\xedvel criar um paciente.",updatePatientError:"N\xe3o foi poss\xedvel atualizar o paciente",patientGivenNameFeedback:"Nome do Paciente \xe9 necess\xe1rio.",patientDateOfBirthFeedback:"Data de Nascimento n\xe3o pode ser maior que hoje."}}}),{patients:{label:"Pacientes",patientsList:"Lista de pacientes",viewPatients:"Exibir pacientes",viewPatient:"Ver paciente",newPatient:"Novo Paciente",editPatient:"Mudar paciente",successfullyCreated:"Paciente criado com sucesso",successfullyAddedNote:"Adicionou uma nova nota com sucesso",successfullyAddedRelatedPerson:"Adicionou uma pessoa relacionada com sucesso"}}),{scheduling:{label:"Agendamento",appointments:{label:"Agendamantos",new:"Novo Agendamento",schedule:"Agenda de compromissos",editAppointment:"Editar um compromisso",deleteAppointment:"Eliminar um compromisso",viewAppointment:"Ver um compromisso"},appointment:{startDate:"Data de in\xedcio",endDate:"Data final",location:"Localiza\xe7\xe3o",type:"Tipo",types:{checkup:"Checkup",emergency:"Emerg\xeancia",followUp:"Acompanhamento",routine:"Rotina",walkIn:"Primeira consulta"},errors:{patientRequired:"Paciente \xe9 necessario.",startDateMustBeBeforeEndDate:"Hor\xe1rio de in\xedcio deve ser antes do hor\xe1rio final."},reason:"Raz\xe3o",patient:"Paciente",deleteConfirmationMessage:"Tem a certeza de que deseja eliminar este compromisso?",successfullyCreated:"Compromisso criado com sucesso"}}}),{states:{success:"Sucesso!",error:"Algo deu errado.."}}),{sex:{male:"Masculino",female:"Feminino",other:"Outro",unknown:"Desconhecido"}}),{labs:{label:"Laborat\xf3rio",requests:{label:"Pedidos de Laborat\xf3rio",new:"Novo Pedido de Laborat\xf3rio",view:"Ver Laborat\xf3rio",cancel:"Cancelar Laborat\xf3rio",complete:"Completar Laborat\xf3rio",error:{unableToRequest:"Impossibilidade de criar um novo pedido de laborat\xf3rio.",unableToComplete:"Impossibilidade de completar o pedido de laborat\xf3rio.",typeRequired:"O tipo \xe9 necess\xe1rio.",resultRequiredToComplete:"O resultado \xe9 necess\xe1rio para completar."}},lab:{code:"C\xf3digo",status:"Estado",for:"Por",type:"Tipo",result:"Result",notes:"Resultado",requestedOn:"Perdiu em",completedOn:"Completou em",canceledOn:"Cancelou em",patient:"Paciente"}}}),{settings:{}}),{medications:{label:"Rem\xe9dios",filterTitle:"Filtrar por status",search:"Pesquisar medicamentos",status:{draft:"Esbo\xe7o, projeto",active:"Ativa",onHold:"Em espera",cancelled:"Cancelada",completed:"Conclu\xedda",enteredInError:"Erro inserido",stopped:"Parada",unknown:"Desconhecida"},intent:{proposal:"Proposta",plan:"Plano",order:"Ordem",originalOrder:"Pedido Original",reflexOrder:"Ordem de Reflexo",fillerOrder:"Pedido de Enchimento",instanceOrder:"Pedido de Inst\xe2ncia",option:"Op\xe7\xe3o"},priority:{routine:"Rotina",urgent:"Urgente",asap:"Assim que poss\xedvel",stat:"Estado"},filter:{all:"Todos os status"},requests:{label:"Pedidos de medica\xe7\xe3o",new:"Solicitar Medica\xe7\xe3o",view:"Ver medica\xe7\xe3o",cancel:"Cancelar medica\xe7\xe3o",complete:"Medica\xe7\xe3o Completa",error:{unableToRequest:"Incapaz de criar um pedido de medica\xe7\xe3o.",unableToComplete:"Incapaz de completar o pedido de medica\xe7\xe3o.",quantityRequired:"A quantidade \xe9 obrigat\xf3ria.",unitRequired:"A unidade \xe9 necess\xe1ria."}},medication:{medication:"Medicamento",for:"Para",status:"Status",intent:"Inten\xe7\xe3o",priority:"Prioridade",notes:"Notas",quantity:"Quantidade",quantityValue:"Valor",quantityUnit:"Unidade",requestedOn:"Solicitado em",requestedBy:"Requerido por",completedOn:"Completo em",canceledOn:"Cancelado em",patient:"Paciente"}}})},ru:{name:"Russian",translation:Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",new:"\u041d\u043e\u0432\u044b\u0439",list:"\u0421\u043f\u0438\u0441\u043e\u043a",label:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",update:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",complete:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",search:"\u041f\u043e\u0438\u0441\u043a",confirmDelete:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",next:"\u0414\u0430\u043b\u044c\u0448\u0435",previous:"\u041d\u0430\u0437\u0430\u0434",page:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",view:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"}}),{dashboard:{label:"\u041f\u0430\u043d\u0435\u043b\u044c \u043f\u0440\u0438\u0431\u043e\u0440\u043e\u0432"}}),{sex:{male:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430",female:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430",other:"\u0414\u0440\u0443\u0433\u043e\u0435",unknown:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}),{incidents:{filterTitle:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443",label:"\u0418\u043d\u0446\u0438\u0434\u0435\u0442\u044b",actions:{report:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c"},status:{reported:"reported",all:"all"},reports:{label:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u043d\u0446\u0438\u0434\u0435\u043d\u0442\u044b",new:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e\u0431 \u0438\u043d\u0446\u0438\u0434\u0435\u043d\u0442\u0435",view:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0446\u0438\u0434\u0435\u043d\u0442",dateOfIncident:"\u0414\u0430\u0442\u0430 \u0438\u043d\u0446\u0438\u0434\u0435\u043d\u0442\u0430",department:"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",category:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",categoryItem:"\u041f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u043d\u0446\u0438\u0434\u0435\u043d\u0442\u0430",patient:"\u043f\u0430\u0446\u0438\u0435\u043d\u0442",code:"\u041a\u043e\u0434",reportedBy:"\u041a\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u043e",reportedOn:"\u041a\u043e\u0433\u0434\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u043e",status:"\u0421\u0442\u0430\u0442\u0443\u0441",error:{dateRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u0443.",dateMustBeInThePast:"\u0414\u0430\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u043c.",departmentRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442.",categoryRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",categoryItemRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",descriptionRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}}}}),{networkStatus:{offline:"\u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0432 \u043e\u0444\u0444\u043b\u0430\u0439\u043d \u0440\u0435\u0436\u0438\u043c\u0435",online:"\u0432\u044b \u0441\u043d\u043e\u0432\u0430 \u043e\u043d\u043b\u0430\u0439\u043d"}}),{labs:{label:"\u0410\u043d\u0430\u043b\u0438\u0437\u044b",filterTitle:"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443",search:"\u041f\u043e\u0438\u0441\u043a \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u0432",status:{requested:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d",canceled:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"},filter:{all:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b"},requests:{label:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u0432",new:"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0430\u043d\u0430\u043b\u0438\u0437\u0430",view:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437",cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437",complete:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437",error:{unableToRequest:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0430\u043d\u0430\u043b\u0438\u0437\u0430.",unableToComplete:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437.",typeRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f.",resultRequiredToComplete:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442."}},lab:{code:"\u041a\u043e\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430",status:"\u0421\u0442\u0430\u0442\u0443\u0441",for:"\u0414\u043b\u044f",type:"\u0422\u0438\u043f",result:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",notes:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",requestedOn:"\u041a\u043e\u0433\u0434\u0430 \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d",completedOn:"\u041a\u043e\u0433\u0434\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d",canceledOn:"\u041a\u043e\u0433\u0434\u0430 \u043e\u0442\u043c\u0435\u043d\u0435\u043d",patient:"\u041f\u0430\u0446\u0438\u0435\u043d\u0442"}}}),{states:{success:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",error:"\u041e\u0448\u0438\u0431\u043a\u0430!"}}),{scheduling:{label:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",appointments:{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",new:"\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",schedule:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439",editAppointment:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",deleteAppointment:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",viewAppointment:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"},appointment:{startDate:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",endDate:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",location:"\u041c\u0435\u0441\u0442\u043e",type:"\u0422\u0438\u043f",errors:{createAppointmentError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.",updateAppointmentError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.",patientRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430.",startDateMustBeBeforeEndDate:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u0437\u0436\u0435 \u0434\u0430\u0442\u044b \u043a\u043e\u043d\u0446\u0430."},reason:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430",patient:"\u041f\u0430\u0446\u0438\u0435\u043d\u0442",deleteConfirmationMessage:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435?",successfullyCreated:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043e.",successfullyDeleted:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e."}}}),{patient:{code:"\u041a\u043e\u0434 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430",firstName:"\u0418\u043c\u044f",lastName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",suffix:"\u0421\u0443\u0444\u0444\u0438\u043a\u0441",prefix:"\u041f\u0440\u0435\u0444\u0438\u043a\u0441",givenName:"\u0418\u043c\u044f",familyName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",approximateDateOfBirth:"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0435",age:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",approximateAge:"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u043e\u0437\u0440\u0430\u0441\u0442",placeOfBirth:"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",sex:"\u041f\u043e\u043b",contactInfoType:{label:"\u0422\u0438\u043f",options:{home:"\u0414\u043e\u043c\u0430\u0448\u043d\u0438\u0439",mobile:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439",work:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439",temporary:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439",old:"\u0421\u0442\u0430\u0440\u044b\u0439"}},phoneNumber:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",email:"Email",address:"\u0410\u0434\u0440\u0435\u0441",occupation:"\u0420\u043e\u0434 \u0437\u0430\u043d\u044f\u0442\u0438\u0439",type:"\u0422\u0438\u043f \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430",preferredLanguage:"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044f\u0437\u044b\u043a",basicInformation:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u043c\u0440\u0430\u0446\u0438\u044f",generalInformation:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",contactInformation:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",unknownDateOfBirth:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",relatedPerson:"\u0420\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a",relatedPersons:{error:{unableToAddRelatedPerson:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430.",relatedPersonRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430.",relationshipTypeRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f \u0440\u043e\u0434\u0441\u0442\u0432\u0430."},label:"\u0420\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0438",new:"\u041d\u043e\u0432\u044b\u0439 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430",relationshipType:"\u0422\u0438\u043f \u0440\u043e\u0434\u0441\u0442\u0432\u0430",warning:{noRelatedPersons:"\u041d\u0435\u0442 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u0432"},addRelatedPersonAbove:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u044b\u0448\u0435."},appointments:{new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"},allergies:{label:"\u0410\u043b\u043b\u0435\u0440\u0433\u0438\u0438",allergyName:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043b\u043b\u0435\u0440\u0433\u0438\u0438",new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043b\u043b\u0435\u0440\u0433\u0438\u044e",error:{nameRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435.",unableToAdd:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043b\u043b\u0435\u0440\u0433\u0438\u044e."},warning:{noAllergies:"\u041d\u0435\u0442 \u0430\u043b\u043b\u0435\u0440\u0433\u0438\u0439"},addAllergyAbove:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0430\u043b\u043b\u0435\u0440\u0433\u0438\u044e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u044b\u0448\u0435.",successfullyAdded:"\u0410\u043b\u043b\u0435\u0440\u0433\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430!"},diagnoses:{label:"\u0414\u0438\u0430\u0433\u043d\u043e\u0437\u044b",new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0438\u0430\u0433\u043d\u043e\u0437",diagnosisName:"\u0438\u043c\u044f",diagnosisDate:"\u0414\u0430\u0442\u0430",warning:{noDiagnoses:"\u041d\u0435\u0442 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u043e\u0432"},error:{nameRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u0430.",dateRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u0434\u0438\u0430\u0433\u043d\u043e\u0437\u0430.",unableToAdd:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0438\u0430\u0433\u043d\u043e\u0437"},addDiagnosisAbove:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0438\u0430\u0433\u043d\u043e\u0437, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u044b\u0448\u0435.",successfullyAdded:"\u041d\u043e\u0432\u044b\u0439 \u0434\u0438\u0430\u0433\u043d\u043e\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"},note:"\u0417\u0430\u043c\u0435\u0442\u043a\u0430",notes:{label:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043c\u0435\u0442\u043a\u0443",warning:{noNotes:"\u041d\u0435\u0442 \u0437\u0430\u043c\u0435\u0442\u043e\u043a"},error:{noteRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443.",unableToAdd:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043c\u0435\u0442\u043a\u0443."},addNoteAbove:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u044b\u0448\u0435."},medications:{label:"\u041b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430",new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e",warning:{noMedications:"\u041d\u0438\u043a\u0430\u043a\u0438\u0445 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432"},noMedicationsMessage:"\u041d\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430."},labs:{label:"\u0410\u043d\u0430\u043b\u0438\u0437\u044b",new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043d\u0430\u043b\u0438\u0437",warning:{noLabs:"\u041d\u0435\u0442 \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u0432"},noLabsMessage:"\u041d\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u0432 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430."},carePlan:{new:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043b\u0435\u0447\u0435\u043d\u0438\u044f",label:"\u041f\u043b\u0430\u043d\u044b \u043b\u0435\u0447\u0435\u043d\u0438\u044f",title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",status:"\u0421\u0442\u0430\u0442\u0443\u0441",condition:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",intent:"\u0422\u0438\u043f",startDate:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",endDate:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",note:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",error:{unableToAdd:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043b\u0435\u0447\u0435\u043d\u0438\u044f.",titleRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a.",descriptionRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435.",conditionRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435.",statusRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441.",intentRequired:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f.",startDate:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430\u0447\u0430\u043b\u0430.",endDate:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"}},types:{charity:"\u0411\u043b\u0430\u0433\u043e\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",private:"\u0427\u0430\u0441\u0442\u043d\u044b\u0439"},errors:{createPatientError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430.",updatePatientError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430.",patientGivenNameFeedback:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u043c\u044f.",patientDateOfBirthFeedback:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u0437\u0436\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0435\u0439 \u0434\u0430\u0442\u044b",patientNumInSuffixFeedback:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440.",patientNumInPrefixFeedback:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440",patientNumInFamilyNameFeedback:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440",patientNumInPreferredLanguageFeedback:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440",invalidEmail:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email.",invalidPhoneNumber:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430."}}}),{patients:{label:"\u041f\u0430\u0446\u0438\u0435\u043d\u0442\u044b",viewPatients:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432",noPatients:"\u041f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432 \u0435\u0449\u0435 \u043d\u0435\u0442, \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043f\u0435\u0440\u0432\u043e\u0433\u043e!",viewPatient:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430",editPatient:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430",newPatient:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0446\u0438\u0435\u043d\u0442",patientsList:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u043e\u0432",successfullyCreated:"\u041f\u0430\u0446\u0438\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",successfullyAddedNote:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",successfullyAddedRelatedPerson:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043d\u043e\u0432\u044b\u0439 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a"}}),{settings:{label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",language:{label:"\u042f\u0437\u044b\u043a"}}}),{medications:{label:"\u041b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430",filterTitle:"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443",search:"\u0418\u0441\u043a\u0430\u0442\u044c \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430",status:{draft:"\u041f\u0440\u043e\u0435\u043a\u0442",active:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439",onHold:"\u041d\u0430 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u043d\u0438\u0438",cancelled:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e",completed:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",enteredInError:"\u0412\u0432\u0435\u0434\u0435\u043d\u043e \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435",stopped:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d",unknown:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"},intent:{proposal:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435",plan:"\u0421\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043b\u0430\u043d\u044b",order:"\u043f\u043e\u0440\u044f\u0434\u043e\u043a",originalOrder:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437",reflexOrder:"\u0420\u0435\u0444\u043b\u0435\u043a\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437",fillerOrder:"\u0417\u0430\u043a\u0430\u0437 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f",instanceOrder:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432",option:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442"},priority:{routine:"\u0420\u0443\u0442\u0438\u043d\u0430",urgent:"\u0421\u0440\u043e\u0447\u043d\u043e",asap:"\u041a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u043e\u0440\u0435\u0435",stat:"\u0421\u0442\u0430\u0442"},filter:{all:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b"},requests:{label:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430",new:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e",view:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e",cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043b\u0435\u0447\u0435\u043d\u0438\u0435",complete:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e",error:{unableToRequest:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e.",unableToComplete:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e.",quantityRequired:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e.",unitRequired:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0431\u043b\u043e\u043a."}},medication:{medication:"\u041c\u0435\u0434\u0438\u043a\u0430\u043c\u0435\u043d\u0442",for:"\u0417\u0430",status:"\u0421\u0442\u0430\u0442\u0443\u0441",intent:"\u041d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u0435",priority:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442",notes:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438",quantity:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",quantityValue:"\u0426\u0435\u043d\u043d\u043e\u0441\u0442\u044c",quantityUnit:"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f",requestedOn:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043e",requestedBy:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439",completedOn:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",canceledOn:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e",patient:"\u041f\u0430\u0446\u0438\u0435\u043d\u0442"}}})},zhCN:{name:"Chinese",translation:Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)(Object(B.a)({},{actions:{edit:"\u7f16\u8f91",save:"\u4fdd\u5b58",cancel:"\u53d6\u6d88",new:"\u65b0",list:"\u6e05\u5355"}}),{dashboard:{label:"\u4eea\u8868\u677f"}}),{labs:{lab:{code:"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0439 \u043a\u043e\u0434"}}}),{patient:{firstName:"\u540d\u5b57",lastName:"\u59d3",medications:{label:"\u836f\u7269\u6cbb\u7597",new:"\u6dfb\u52a0\u65b0\u836f",warning:{noMedications:"\u6ca1\u6709\u836f\u7269"},noMedicationsMessage:"\u6ca1\u6709\u836f\u7269\u8981\u6c42\u6b64\u4eba\u3002"}}}),{patients:{label:"\u6807\u7b7e",viewPatients:"\u67e5\u770b\u60a3\u8005",viewPatient:"\u67e5\u770b\u60a3\u8005",editPatient:"\u6539\u53d8\u75c5\u4eba",newPatient:"\u65b0\u75c5\u4eba"}}),{settings:{}}),{medications:{label:"\u836f\u7269\u6cbb\u7597",filterTitle:"\u6309\u72b6\u6001\u8fc7\u6ee4",search:"\u641c\u7d22\u836f\u7269",status:{draft:"\u8349\u6848",active:"\u6d3b\u6027",onHold:"\u7b49\u5019\u63a5\u542c",cancelled:"\u53d6\u6d88",completed:"\u5df2\u5b8c\u6210",enteredInError:"\u8f93\u5165\u9519\u8bef",stopped:"\u5df2\u505c\u6b62",unknown:"\u672a\u77e5"},intent:{proposal:"\u63d0\u6848",plan:"\u8ba1\u5212",order:"\u8ba2\u8d2d",originalOrder:"\u539f\u59cb\u8ba2\u5355",reflexOrder:"\u53cd\u5c04\u987a\u5e8f",fillerOrder:"\u52a0\u6cb9\u5355",instanceOrder:"\u5b9e\u4f8b\u987a\u5e8f",option:"\u9009\u9879"},priority:{routine:"\u5e38\u89c4",urgent:"\u7d27\u6025",asap:"\u5c3d\u5feb",stat:"\u7edf\u8ba1"},filter:{all:"\u6240\u6709\u72b6\u6001"},requests:{label:"\u836f\u7269\u8981\u6c42",new:"\u8981\u6c42\u836f\u7269",view:"\u67e5\u770b\u836f\u7269",cancel:"\u53d6\u6d88\u836f\u7269",complete:"\u5b8c\u5168\u7528\u836f",error:{unableToRequest:"\u65e0\u6cd5\u521b\u5efa\u836f\u7269\u7533\u8bf7\u3002",unableToComplete:"\u65e0\u6cd5\u5b8c\u6210\u836f\u7269\u7533\u8bf7\u3002",quantityRequired:"\u6570\u91cf\u4e3a\u5fc5\u586b\u9879\u3002",unitRequired:"\u5fc5\u586b\u5355\u4f4d\u3002"}},medication:{medication:"\u836f\u7269",for:"\u5bf9\u4e8e",status:"\u72b6\u6001",intent:"\u610f\u56fe",priority:"\u4f18\u5148",notes:"\u7b14\u8bb0",quantity:"\u6570\u91cf",quantityValue:"\u503c",quantityUnit:"Unit",requestedOn:"\u8981\u6c42\u5f00\u542f",requestedBy:"\u88ab\u8981\u6c42",completedOn:"\u5b8c\u6210\u4e8e",canceledOn:"\u5df2\u53d6\u6d88",patient:"\u60a3\u8005"}}})}};Xi.a.use(ec.a).use(tc.e).init({fallbackLng:"en",debug:!0,resources:lc,interpolation:{escapeValue:!1}});var sc=Xi.a,uc=function(){var e=I().t,t=Object(n.useState)(sc.language),a=Object(l.a)(t,2),i=a[0],c=a[1],o=Object.keys(lc).map((function(e){return{label:lc[e].name,value:e}}));o=Ji()(o,(function(e){return e.label}));return r.a.createElement(Ne,{name:"language",label:e("settings.language.label"),options:o,defaultSelected:o.filter((function(e){return e.value===i})),onChange:function(e){return t=e[0],sc.changeLanguage(t),void c(t);var t},isEditable:!0})},dc=function(){var e=I().t,t=D();return Object(n.useEffect)((function(){t(e("settings.label"))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.u,null,r.a.createElement(s.i,{xs:12,sm:9},r.a.createElement(uc,null)),r.a.createElement(s.i,{xs:0,sm:3})))},mc={user:null,permissions:[we.ReadPatients,we.WritePatients,we.ReadAppointments,we.WriteAppointments,we.DeleteAppointment,we.AddAllergy,we.AddDiagnosis,we.ViewLabs,we.ViewLab,we.RequestLab,we.CompleteLab,we.CancelLab,we.ViewIncident,we.ViewIncidents,we.ReportIncident,we.ResolveIncident,we.ViewIncidentWidgets,we.AddCarePlan,we.ReadCarePlan,we.AddCareGoal,we.ReadCareGoal,we.RequestMedication,we.CompleteMedication,we.CancelMedication,we.ViewMedications,we.ViewMedication,we.AddVisit,we.ReadVisits,we.ViewImagings,we.RequestImaging,we.AddMedicine],modules:[]},pc=Object(E.b)({name:"user",initialState:mc,reducers:{fetchPermissions:function(e,t){var a=t.payload;e.permissions=a},loginSuccess:function(e,t){var a=t.payload;e.user=a.user,e.permissions=a.permissions,e.modules=a.modules},loginError:function(e,t){var a=t.payload;e.loginError=a},logoutSuccess:function(e){e.user=void 0,e.permissions=[],e.modules=[]}}}),bc=pc.actions,fc=(bc.fetchPermissions,bc.loginError),vc=bc.loginSuccess,gc=bc.logoutSuccess,hc=function(e,t){return function(){var a=Object(M.a)(T.a.mark((function a(n){var r,i,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Le.a.configureForUser(e,t),r=Le.a.getServerDb(),a.prev=2,a.next=5,r.logIn(e,t);case 5:return i=a.sent,a.next=8,r.get("user_ui_configuration");case 8:return c=a.sent,a.next=11,Le.a.recreateLocalDb();case 11:Le.a.startSyncing(),n(vc({user:{id:"org.couchdb.user:".concat(i.name),username:i.name},permissions:mc.permissions,modules:c.modules.enabled})),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(2),Le.a.teardownServerDb(),e?t?401===a.t0.status?n(fc({message:"user.login.error.message.incorrect"})):404===a.t0.status&&n(fc({message:"user.login.error.message.serverNotResponding"})):n(fc({message:"user.login.error.message.required",password:"user.login.error.password.required"})):n(fc({message:"user.login.error.message.required",username:"user.login.error.username.required"}));case 19:case"end":return a.stop()}}),a,null,[[2,15]])})));return function(e){return a.apply(this,arguments)}}()},Ec=pc.reducer,yc={dashboard:{permission:null,label:"dashboard.label",path:"/",icon:"dashboard"},newPatient:{permission:we.WritePatients,label:"patients.newPatient",path:"/patients/new",icon:"patient-add"},viewPatients:{permission:we.ReadPatients,label:"patients.patientsList",path:"/patients",icon:"patients"},newAppointment:{permission:we.WriteAppointments,label:"scheduling.appointments.new",path:"/appointments/new",icon:"appointment-add"},viewAppointments:{permission:we.ReadAppointments,label:"scheduling.appointments.schedule",path:"/appointments",icon:"appointment"},newMedication:{permission:we.RequestMedication,label:"medications.requests.new",path:"/medications/new",icon:"add"},viewMedications:{permission:we.ViewMedications,label:"medications.requests.label",path:"/medications",icon:"medication"},newLab:{permission:we.RequestLab,label:"labs.requests.new",path:"/labs/new",icon:"add"},viewLabs:{permission:we.ViewLabs,label:"labs.requests.label",path:"/labs",icon:"lab"},newImaging:{permission:we.RequestImaging,label:"imagings.requests.new",path:"/imaging/new",icon:"add"},viewImagings:{permission:we.ReadPatients,label:"imagings.requests.label",path:"/imaging",icon:"image"},newIncident:{permission:we.ReportIncident,label:"incidents.reports.new",path:"/incidents/new",icon:"add"},viewIncidents:{permission:we.ViewIncidents,label:"incidents.reports.label",path:"/incidents",icon:"incident"},viewIncidentWidgets:{permission:we.ViewIncidentWidgets,label:"incidents.visualize.label",path:"/incidents/visualize",icon:"incident"},settings:{permission:null,label:"settings.label",path:"/settings",icon:"setting"}},Oc=function(){var e=Object(o.b)(),t=Object(m.g)(),a=I().t,n=Object(o.c)((function(e){return e.user})),i=n.permissions,c=n.user,l=function(e){t.push(e)},u=["scheduling.appointments.new","labs.requests.new","medications.requests.new","incidents.reports.new","imagings.requests.new","settings.label"];function d(e){return e.filter((function(e){return!e.permission||i.includes(e.permission)})).map((function(e){return{type:"link",label:a(e.label),icon:"".concat(e.icon),onClick:function(){l(e.path)},dividerAbove:u.includes(e.label)}}))}var p=Object.keys(yc).map((function(e){return yc[e]})),b=[yc.newPatient,yc.newAppointment,yc.newMedication,yc.newLab,yc.newImaging,yc.newIncident],f=c?[{type:"link",label:"".concat(a("user.login.currentlySignedInAs")," ").concat(c.username),onClick:function(){l("/settings")}},{type:"link",label:a("settings.label"),onClick:function(){l("/settings")}},{type:"link",label:a("actions.logout"),onClick:function(){e(function(){var e=Object(M.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Le.a.getServerDb())){e.next=5;break}return e.next=4,a.logOut();case 4:t(gc());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l("/login")}}]:[{type:"link",label:"Login",onClick:function(){l("/login")}}];return r.a.createElement(s.s,{bg:"dark",variant:"dark",navItems:[{name:"menu",size:"lg",type:"link-list-icon",children:d(p),label:"",className:"nav-hamberger pr-4 d-md-none"},{type:"image",src:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53%0D%0AMy5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5r%0D%0AIiB2aWV3Qm94PSIwIDAgMjk5IDI5OSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOnVybCgjbGlu%0D%0AZWFyLWdyYWRpZW50KTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVu%0D%0AdCIgeDE9IjcyLjU4IiB5MT0iMTYuMDQiIHgyPSIyMjcuMzEiIHkyPSIyODQuMDIiIGdyYWRpZW50%0D%0AVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAuMDEiIHN0b3AtY29sb3I9IiM2%0D%0AMGQxYmIiLz48c3RvcCBvZmZzZXQ9IjAuNSIgc3RvcC1jb2xvcj0iIzFhYmM5YyIvPjxzdG9wIG9m%0D%0AZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwOWI5ZSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjx0%0D%0AaXRsZT5jcm9zcy1pY29uPC90aXRsZT48cGF0aCBpZD0iY3Jvc3MiIGNsYXNzPSJjbHMtMSIgZD0i%0D%0ATTI5Mi45NCw5Ny40NkgyMDUuM1Y3LjA2QTYuNTYsNi41NiwwLDAsMCwxOTguNzQuNUgxMDEuMjZB%0D%0ANi41Niw2LjU2LDAsMCwwLDk0LjcsNy4wNnY5MC40SDcuMDZBNi41OCw2LjU4LDAsMCwwLC41LDEw%0D%0ANFYxOTYuM2E2LjIzLDYuMjMsMCwwLDAsNi4yMyw2LjI0aDg4djkwLjRhNi41Niw2LjU2LDAsMCww%0D%0ALDYuNTYsNi41Nmg5Ny40OGE2LjU2LDYuNTYsMCwwLDAsNi41Ni02LjU2di05MC40aDg4YTYuMjMs%0D%0ANi4yMywwLDAsMCw2LjIzLTYuMjRWMTA0QTYuNTgsNi41OCwwLDAsMCwyOTIuOTQsOTcuNDZaIiB0%0D%0AcmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIi8+PC9zdmc+",onClick:function(){l("/")},className:"nav-icon"},{type:"header",label:"HospitalRun",onClick:function(){l("/")},className:"nav-header"},{type:"link-list-icon",alignRight:!0,children:d(b),className:"ml-auto nav-add-new d-none d-md-block",iconClassName:"align-bottom",label:"Add",name:"add",size:"lg"},{type:"link-list-icon",alignRight:!0,children:f,className:"pl-2 d-none d-md-block nav-account",iconClassName:"align-bottom",label:"Patient",name:"patient",size:"lg"}]})},wc={height:"50px",pointerEvents:"none",transition:"opacity ".concat(4e3,"ms ease-in")},jc=function(){var e=I().t,t=function(){var e=navigator.onLine,t=Object(n.useState)({isOnline:e,wasOffline:!e}),a=Object(l.a)(t,2),r=a[0],i=a[1],c=function(){i((function(e){return Object(B.a)(Object(B.a)({},e),{},{isOnline:!0})}))},o=function(){i((function(e){return Object(B.a)(Object(B.a)({},e),{},{isOnline:!1,wasOffline:!0})}))};return Object(n.useEffect)((function(){return window.addEventListener("online",c),window.addEventListener("offline",o),function(){window.removeEventListener("online",c),window.removeEventListener("offline",o)}}),[]),r}(),a=t.isOnline,i=t.wasOffline,c=Object(n.useState)(!0),o=Object(l.a)(c,2),s=o[0],u=o[1],d=Object(n.useState)(1),m=Object(l.a)(d,2),p=m[0],b=m[1];if(a&&!i)return null;if(a||1===p||(u(!0),b(1)),a&&i&&0!==p&&(b(0),setTimeout((function(){u(!1)}),4e3)),!s)return null;var f=Object(B.a)(Object(B.a)({},wc),{},{backgroundColor:a?"rgba(0, 255, 0, 0.55)":"rgba(255, 0, 0, 0.65)",opacity:p});return r.a.createElement("div",{className:"fixed-bottom d-flex justify-content-center align-items-center ".concat(a?"online":"offline"),style:f},e(a?"networkStatus.online":"networkStatus.offline"))},kc=Object(E.b)({name:"components",initialState:{sidebarCollapsed:!1},reducers:{toggleSidebar:function(e){e.sidebarCollapsed=!e.sidebarCollapsed}}}),xc=kc.actions.toggleSidebar,Nc=kc.reducer,Cc=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.components})).sidebarCollapsed,a=Object(o.c)((function(e){return e.user.permissions})),i=Object(o.c)((function(e){return e.user.modules})),c=I().t,u=Object(m.h)(),d=Object(m.g)(),b=u.pathname,f=b.split("/"),v=function(e){d.push(e)},g={cursor:"pointer"},h={marginRight:"20px"},E={marginRight:"10px"},y=Object(n.useState)(f[1].includes("patients")?"patient":f[1].includes("appointments")?"appointment":f[1].includes("labs")?"labs":f[1].includes("medications")?"medications":f[1].includes("incidents")?"incidents":f[1].includes("imagings")?"imagings":"none"),O=Object(l.a)(y,2),w=O[0],j=O[1],k=function(e){j(w!==e?e.toString():"none")},x={cursor:"pointer",fontSize:"small",borderBottomWidth:0,borderTopWidth:0,color:"black",padding:".6rem 1.25rem",backgroundColor:"rgba(245,245,245,1)"},N={cursor:"pointer",fontSize:"small",borderBottomWidth:0,borderTopWidth:0,color:"black",padding:".6rem 1.25rem",backgroundColor:"rgba(245,245,245,1)"};return r.a.createElement("nav",{className:"d-none d-md-block bg-light sidebar",style:{width:t?"56px":""}},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement(s.p,{layout:"flush",className:"nav flex-column"},r.a.createElement(s.q,{onClick:function(){return e(function(){var e=Object(M.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(xc());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"nav-item",style:g},r.a.createElement(s.m,{style:{float:t?"left":"right"},icon:t?"right-arrow":"left-arrow"})),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:"/"===b,onClick:function(){v("/"),k("none")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:"dashboard"})," ",!t&&c("dashboard.label"))),i.includes(p.Constants.MODULES.ADMIN)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:"/administration"===b,onClick:function(){v("/administration"),k("none")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:"admin"})," ",!t&&"Administration")),i.includes(p.Constants.MODULES.PATIENT)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:f[1].includes("patient"),onClick:function(){v("/patients"),j("patient"!==w?"patient":"none")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:f[1].includes("patient")&&"patient"===w?"down-arrow":"right-arrow",style:h}),r.a.createElement(s.m,{icon:"patients"})," ",!t&&c("patients.label")),f[1].includes("patient")&&"patient"===w&&r.a.createElement(s.p,{layout:"flush"},a.includes(we.WritePatients)&&r.a.createElement(s.q,{className:"nav-item",style:N,onClick:function(){return v("/patients/new")},active:f[1].includes("patients")&&f.length>2},r.a.createElement(s.m,{icon:"patient-add",style:E}),!t&&c("patients.newPatient")),a.includes(we.ReadPatients)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/patients")},active:f[1].includes("patients")&&f.length<3},r.a.createElement(s.m,{icon:"incident",style:E}),!t&&c("patients.patientsList")))),i.includes(p.Constants.MODULES.REGISTRATION)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:f[1].includes("appointments"),onClick:function(){v("/appointments"),k("appointment")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:f[1].includes("appointments")&&"appointment"===w?"down-arrow":"right-arrow",style:h}),r.a.createElement(s.m,{icon:"appointment"})," ",!t&&c("scheduling.label")),f[1].includes("appointment")&&"appointment"===w&&r.a.createElement(s.p,{layout:"flush",className:"nav flex-column"},a.includes(we.WriteAppointments)&&r.a.createElement(s.q,{className:"nav-item",style:N,onClick:function(){return v("/appointments/new")},active:f[1].includes("appointments")&&f.length>2},r.a.createElement(s.m,{icon:"appointment-add",style:E}),!t&&c("scheduling.appointments.new")),a.includes(we.ReadAppointments)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/appointments")},active:f[1].includes("appointments")&&f.length<3},r.a.createElement(s.m,{icon:"incident",style:E}),!t&&c("scheduling.appointments.schedule")))),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:f[1].includes("medications"),onClick:function(){v("/medications"),k("medications")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:f[1].includes("medications")&&"medications"===w?"down-arrow":"right-arrow",style:h}),r.a.createElement(s.m,{icon:"medication"})," ",!t&&c("medications.label")),f[1].includes("medications")&&"medications"===w&&r.a.createElement(s.p,{layout:"flush",className:"nav flex-column"},a.includes(we.RequestMedication)&&r.a.createElement(s.q,{className:"nav-item",style:N,onClick:function(){return v("/medications/new")},active:f[1].includes("medications")&&f.length>2},r.a.createElement(s.m,{icon:"add",style:E}),!t&&c("medications.requests.new")),a.includes(we.ViewMedications)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/medications")},active:f[1].includes("medications")&&f.length<3},r.a.createElement(s.m,{icon:"incident",style:E}),!t&&c("medications.requests.label")))),i.includes(p.Constants.MODULES.LAB)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:f[1].includes("labs"),onClick:function(){v("/labs"),k("labs")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:f[1].includes("labs")&&"labs"===w?"down-arrow":"right-arrow",style:h}),r.a.createElement(s.m,{icon:"lab"})," ",!t&&c("labs.label")),f[1].includes("labs")&&"labs"===w&&r.a.createElement(s.p,{layout:"flush",className:"nav flex-column"},a.includes(we.RequestLab)&&r.a.createElement(s.q,{className:"nav-item",style:N,onClick:function(){return v("/labs/new")},active:f[1].includes("labs")&&f.length>2},r.a.createElement(s.m,{icon:"add",style:E}),!t&&c("labs.requests.new")),a.includes(we.ViewLabs)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/labs")},active:f[1].includes("labs")&&f.length<3},r.a.createElement(s.m,{icon:"incident",style:E}),!t&&c("labs.requests.label")))),i.includes(p.Constants.MODULES.LAB)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:f[1].includes("imaging"),onClick:function(){v("/imaging"),k("imagings")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:f[1].includes("imaging")&&"imagings"===w?"down-arrow":"right-arrow",style:h}),r.a.createElement(s.m,{icon:"image"})," ",!t&&c("imagings.label")),f[1].includes("imaging")&&"imagings"===w&&r.a.createElement(s.p,{layout:"flush",className:"nav flex-column"},a.includes(we.RequestImaging)&&r.a.createElement(s.q,{className:"nav-item",style:N,onClick:function(){return v("/imaging/new")},active:f[1].includes("imaging")&&f.length>2},r.a.createElement(s.m,{icon:"add",style:E}),!t&&c("imagings.requests.new")),a.includes(we.ViewImagings)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/imaging")},active:f[1].includes("imaging")&&f.length<3},r.a.createElement(s.m,{icon:"image",style:E}),!t&&c("imagings.requests.label")))),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.q,{active:f[1].includes("incidents"),onClick:function(){v("/incidents"),k("incidents")},className:"nav-item",style:g},r.a.createElement(s.m,{icon:f[1].includes("incidents")&&"incidents"===w?"down-arrow":"right-arrow",style:h}),r.a.createElement(s.m,{icon:"incident"})," ",!t&&c("incidents.label")),f[1].includes("incidents")&&"incidents"===w&&r.a.createElement(s.p,{layout:"flush",className:"nav flex-column"},a.includes(we.ReportIncident)&&r.a.createElement(s.q,{className:"nav-item",style:N,onClick:function(){return v("/incidents/new")},active:f[1].includes("incidents")&&f.length>2},r.a.createElement(s.m,{icon:"add",style:E}),!t&&c("incidents.reports.new")),a.includes(we.ViewIncidents)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/incidents")},active:f[1].includes("incidents")&&f.length<3},r.a.createElement(s.m,{icon:"incident",style:E}),!t&&c("incidents.reports.label")),a.includes(we.ViewIncidentWidgets)&&r.a.createElement(s.q,{className:"nav-item",style:x,onClick:function(){return v("/incidents/visualize")},active:f[1].includes("incidents")&&f.length<3},r.a.createElement(s.m,{icon:"incident",style:E}),!t&&c("incidents.visualize.label")))))))},qc=function(){var e=Object(m.g)(),t=Object(o.b)(),a=I().t,i=D();Object(n.useEffect)((function(){i("Login")}));var c=Object(n.useState)(""),u=Object(l.a)(c,2),d=u[0],p=u[1],b=Object(n.useState)(""),f=Object(l.a)(b,2),v=f[0],g=f[1],h=Object(o.c)((function(e){return e.user.loginError})),E=Object(o.c)((function(e){return e.user.user})),y={justifyContent:"center"},O=function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(hc(d,v));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E&&(Object(s.C)("success","Logged In","Successfully Logged In as ".concat(d)),e.push("/")),r.a.createElement(s.j,null,r.a.createElement("form",null,r.a.createElement(s.u,{style:y},r.a.createElement(s.i,{md:6},h?r.a.createElement(s.a,{color:"danger",message:a(h.message)}):null)),r.a.createElement(s.u,{style:y},r.a.createElement(s.i,{md:6},r.a.createElement(H,{name:"username",isEditable:!0,isRequired:!0,label:"Username",placeholder:"Username",value:d,onChange:function(e){return p(e.target.value)},isInvalid:!!(null===h||void 0===h?void 0:h.username),feedback:a(null===h||void 0===h?void 0:h.username)}))),r.a.createElement(s.u,{style:y},r.a.createElement(s.i,{md:6},r.a.createElement(H,{type:"password",name:"password",isEditable:!0,isRequired:!0,label:"Password",placeholder:"Password",value:v,onChange:function(e){return g(e.target.value)},isInvalid:!!(null===h||void 0===h?void 0:h.password),feedback:a(null===h||void 0===h?void 0:h.password)}))),r.a.createElement(s.u,{style:y},r.a.createElement(s.e,{onClick:O,color:"primary"},"Login"))))},Dc=function(){var e=function(){var e=n.useContext(N);if(void 0===e)throw new Error("useTitle must be used within a TitleProvider");return e}().title,t=Object(o.c)((function(e){return e.components})).sidebarCollapsed,a=Object(o.c)((function(e){return e.user.modules}));return r.a.createElement("div",null,r.a.createElement(jc,null),r.a.createElement(Oc,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement(Cc,null)),r.a.createElement(oe,null,r.a.createElement("div",{className:"row"},r.a.createElement("main",{role:"main",className:"".concat(t?"col-md-10 col-lg-11":"col-md-9 col-lg-10"," ml-sm-auto px-4")},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},e),r.a.createElement(Ea,null)),r.a.createElement(ha,null),r.a.createElement("div",null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:Oe}),r.a.createElement(m.b,{path:"/medications",component:ga}),r.a.createElement(m.b,{path:"/incidents",component:Ct}),r.a.createElement(m.b,{path:"/settings",component:dc}),r.a.createElement(m.b,{path:"/login",component:qc}),r.a.createElement(v,{isAuthenticated:a.includes(p.Constants.MODULES.REGISTRATION),path:"/appointments",component:Yi}),r.a.createElement(v,{isAuthenticated:a.includes(p.Constants.MODULES.PATIENT),path:"/patients",component:yi}),r.a.createElement(v,{isAuthenticated:a.includes(p.Constants.MODULES.LAB),path:"/labs",component:zt}),r.a.createElement(v,{isAuthenticated:a.includes(p.Constants.MODULES.LAB),path:"/imaging",component:rt}),r.a.createElement(v,{isAuthenticated:a.includes(p.Constants.MODULES.ADMIN),path:"/administration",component:ye}))),r.a.createElement(s.D,{autoClose:5e3,hideProgressBar:!0,draggable:!0}))))))},Sc=function(){var e=Object(o.b)(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1];return Object(n.useEffect)((function(){try{var t=Le.a.getServerDb();t.getSession().then((function(t){var a;t.userCtx.name&&e((a=t.userCtx.name,function(){var e=Object(M.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Le.a.getServerDb(),e.next=3,n.getUser(a);case 3:r=e.sent,t(vc({user:{id:r._id,username:r.name,givenName:r.metadata.givenName,familyName:r.metadata.familyName},permissions:mc.permissions,modules:mc.modules}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})).catch((function(e){console.log(e)})).finally((function(){c(!1)}))}catch(a){console.log(a)}}),[e]),i?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(s.w,{color:"blue",loading:!0,size:[10,25],type:"ScaleLoader"})},r.a.createElement(m.d,null,r.a.createElement(q,null,r.a.createElement(m.b,{path:"/",component:Dc}))))),r.a.createElement(u.ReactQueryDevtools,{initialIsOpen:!1}))},Ic=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pc(e){if("serviceWorker"in navigator){if(new URL("/hospitalrun-hims",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hospitalrun-hims","/service-worker.js");Ic?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ac(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ac(t,e)}))}}function Ac(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Rc=a(87),Tc=a(140);a(184);var Mc=Object(E.b)({name:"patients",initialState:{isLoading:!1,patients:[],count:0},reducers:{fetchPatientsStart:function(e){e.isLoading=!0},fetchPatientsSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.patients=a},fetchCountSuccess:function(e,t){var a=t.payload;e.count=a}}}),Lc=Mc.actions,Bc=(Lc.fetchPatientsStart,Lc.fetchPatientsSuccess,Lc.fetchCountSuccess,Mc.reducer),Fc=Object(Rc.combineReducers)({patient:en,patients:Bc,user:Ec,breadcrumbs:k,components:Nc,medication:la}),Uc=Object(E.a)({reducer:Fc,middleware:[Tc.a]});c.a.render(r.a.createElement(o.a,{store:Uc},r.a.createElement(Sc,null)),document.getElementById("root")),Pc(),Pc({})}},[[458,1,2]]]);